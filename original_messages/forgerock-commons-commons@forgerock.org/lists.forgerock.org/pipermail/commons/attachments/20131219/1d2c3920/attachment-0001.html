<tt>
&lt;!DOCTYPE&nbsp;html&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;XHTML&nbsp;1.1//EN&quot;<br>
&quot;http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd&quot;&gt;<br>
&lt;html&nbsp;xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;<br>
&lt;head&gt;&lt;meta&nbsp;http-equiv=&quot;content-type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=utf-8&quot;&nbsp;/&gt;<br>
&lt;title&gt;[1408]&nbsp;forgerock-util/trunk:&nbsp;Code&nbsp;cleanup:&lt;/title&gt;<br>
&lt;/head&gt;<br>
&lt;body&gt;<br>
<br>
&lt;style&nbsp;type=&quot;text/css&quot;&gt;&lt;!--<br>
#msg&nbsp;dl.meta&nbsp;{&nbsp;border:&nbsp;1px&nbsp;#006&nbsp;solid;&nbsp;background:&nbsp;#369;&nbsp;padding:&nbsp;6px;&nbsp;color:&nbsp;#fff;&nbsp;}<br>
#msg&nbsp;dl.meta&nbsp;dt&nbsp;{&nbsp;float:&nbsp;left;&nbsp;width:&nbsp;6em;&nbsp;font-weight:&nbsp;bold;&nbsp;}<br>
#msg&nbsp;dt:after&nbsp;{&nbsp;content:':';}<br>
#msg&nbsp;dl,&nbsp;#msg&nbsp;dt,&nbsp;#msg&nbsp;ul,&nbsp;#msg&nbsp;li,&nbsp;#header,&nbsp;#footer,&nbsp;#logmsg&nbsp;{&nbsp;font-family:&nbsp;verdana,arial,helvetica,sans-serif;&nbsp;font-size:&nbsp;10pt;&nbsp;&nbsp;}<br>
#msg&nbsp;dl&nbsp;a&nbsp;{&nbsp;font-weight:&nbsp;bold}<br>
#msg&nbsp;dl&nbsp;a:link&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;color:#fc3;&nbsp;}<br>
#msg&nbsp;dl&nbsp;a:active&nbsp;&nbsp;{&nbsp;color:#ff0;&nbsp;}<br>
#msg&nbsp;dl&nbsp;a:visited&nbsp;{&nbsp;color:#cc6;&nbsp;}<br>
h3&nbsp;{&nbsp;font-family:&nbsp;verdana,arial,helvetica,sans-serif;&nbsp;font-size:&nbsp;10pt;&nbsp;font-weight:&nbsp;bold;&nbsp;}<br>
#msg&nbsp;pre&nbsp;{&nbsp;overflow:&nbsp;auto;&nbsp;background:&nbsp;#ffc;&nbsp;border:&nbsp;1px&nbsp;#fa0&nbsp;solid;&nbsp;padding:&nbsp;6px;&nbsp;}<br>
#logmsg&nbsp;{&nbsp;background:&nbsp;#ffc;&nbsp;border:&nbsp;1px&nbsp;#fa0&nbsp;solid;&nbsp;padding:&nbsp;1em&nbsp;1em&nbsp;0&nbsp;1em;&nbsp;}<br>
#logmsg&nbsp;p,&nbsp;#logmsg&nbsp;pre,&nbsp;#logmsg&nbsp;blockquote&nbsp;{&nbsp;margin:&nbsp;0&nbsp;0&nbsp;1em&nbsp;0;&nbsp;}<br>
#logmsg&nbsp;p,&nbsp;#logmsg&nbsp;li,&nbsp;#logmsg&nbsp;dt,&nbsp;#logmsg&nbsp;dd&nbsp;{&nbsp;line-height:&nbsp;14pt;&nbsp;}<br>
#logmsg&nbsp;h1,&nbsp;#logmsg&nbsp;h2,&nbsp;#logmsg&nbsp;h3,&nbsp;#logmsg&nbsp;h4,&nbsp;#logmsg&nbsp;h5,&nbsp;#logmsg&nbsp;h6&nbsp;{&nbsp;margin:&nbsp;.5em&nbsp;0;&nbsp;}<br>
#logmsg&nbsp;h1:first-child,&nbsp;#logmsg&nbsp;h2:first-child,&nbsp;#logmsg&nbsp;h3:first-child,&nbsp;#logmsg&nbsp;h4:first-child,&nbsp;#logmsg&nbsp;h5:first-child,&nbsp;#logmsg&nbsp;h6:first-child&nbsp;{&nbsp;margin-top:&nbsp;0;&nbsp;}<br>
#logmsg&nbsp;ul,&nbsp;#logmsg&nbsp;ol&nbsp;{&nbsp;padding:&nbsp;0;&nbsp;list-style-position:&nbsp;inside;&nbsp;margin:&nbsp;0&nbsp;0&nbsp;0&nbsp;1em;&nbsp;}<br>
#logmsg&nbsp;ul&nbsp;{&nbsp;text-indent:&nbsp;-1em;&nbsp;padding-left:&nbsp;1em;&nbsp;}#logmsg&nbsp;ol&nbsp;{&nbsp;text-indent:&nbsp;-1.5em;&nbsp;padding-left:&nbsp;1.5em;&nbsp;}<br>
#logmsg&nbsp;&gt;&nbsp;ul,&nbsp;#logmsg&nbsp;&gt;&nbsp;ol&nbsp;{&nbsp;margin:&nbsp;0&nbsp;0&nbsp;1em&nbsp;0;&nbsp;}<br>
#logmsg&nbsp;pre&nbsp;{&nbsp;background:&nbsp;#eee;&nbsp;padding:&nbsp;1em;&nbsp;}<br>
#logmsg&nbsp;blockquote&nbsp;{&nbsp;border:&nbsp;1px&nbsp;solid&nbsp;#fa0;&nbsp;border-left-width:&nbsp;10px;&nbsp;padding:&nbsp;1em&nbsp;1em&nbsp;0&nbsp;1em;&nbsp;background:&nbsp;white;}<br>
#logmsg&nbsp;dl&nbsp;{&nbsp;margin:&nbsp;0;&nbsp;}<br>
#logmsg&nbsp;dt&nbsp;{&nbsp;font-weight:&nbsp;bold;&nbsp;}<br>
#logmsg&nbsp;dd&nbsp;{&nbsp;margin:&nbsp;0;&nbsp;padding:&nbsp;0&nbsp;0&nbsp;0.5em&nbsp;0;&nbsp;}<br>
#logmsg&nbsp;dd:before&nbsp;{&nbsp;content:'\00bb';}<br>
#logmsg&nbsp;table&nbsp;{&nbsp;border-spacing:&nbsp;0px;&nbsp;border-collapse:&nbsp;collapse;&nbsp;border-top:&nbsp;4px&nbsp;solid&nbsp;#fa0;&nbsp;border-bottom:&nbsp;1px&nbsp;solid&nbsp;#fa0;&nbsp;background:&nbsp;#fff;&nbsp;}<br>
#logmsg&nbsp;table&nbsp;th&nbsp;{&nbsp;text-align:&nbsp;left;&nbsp;font-weight:&nbsp;normal;&nbsp;padding:&nbsp;0.2em&nbsp;0.5em;&nbsp;border-top:&nbsp;1px&nbsp;dotted&nbsp;#fa0;&nbsp;}<br>
#logmsg&nbsp;table&nbsp;td&nbsp;{&nbsp;text-align:&nbsp;right;&nbsp;border-top:&nbsp;1px&nbsp;dotted&nbsp;#fa0;&nbsp;padding:&nbsp;0.2em&nbsp;0.5em;&nbsp;}<br>
#logmsg&nbsp;table&nbsp;thead&nbsp;th&nbsp;{&nbsp;text-align:&nbsp;center;&nbsp;border-bottom:&nbsp;1px&nbsp;solid&nbsp;#fa0;&nbsp;}<br>
#logmsg&nbsp;table&nbsp;th.Corner&nbsp;{&nbsp;text-align:&nbsp;left;&nbsp;}<br>
#logmsg&nbsp;hr&nbsp;{&nbsp;border:&nbsp;none&nbsp;0;&nbsp;border-top:&nbsp;2px&nbsp;dashed&nbsp;#fa0;&nbsp;height:&nbsp;1px;&nbsp;}<br>
#header,&nbsp;#footer&nbsp;{&nbsp;color:&nbsp;#fff;&nbsp;background:&nbsp;#636;&nbsp;border:&nbsp;1px&nbsp;#300&nbsp;solid;&nbsp;padding:&nbsp;6px;&nbsp;}<br>
#patch&nbsp;{&nbsp;width:&nbsp;100%;&nbsp;}<br>
#patch&nbsp;h4&nbsp;{font-family:&nbsp;verdana,arial,helvetica,sans-serif;font-size:10pt;padding:8px;background:#369;color:#fff;margin:0;}<br>
#patch&nbsp;.propset&nbsp;h4,&nbsp;#patch&nbsp;.binary&nbsp;h4&nbsp;{margin:0;}<br>
#patch&nbsp;pre&nbsp;{padding:0;line-height:1.2em;margin:0;}<br>
#patch&nbsp;.diff&nbsp;{width:100%;background:#eee;padding:&nbsp;0&nbsp;0&nbsp;10px&nbsp;0;overflow:auto;}<br>
#patch&nbsp;.propset&nbsp;.diff,&nbsp;#patch&nbsp;.binary&nbsp;.diff&nbsp;&nbsp;{padding:10px&nbsp;0;}<br>
#patch&nbsp;span&nbsp;{display:block;padding:0&nbsp;10px;}<br>
#patch&nbsp;.modfile,&nbsp;#patch&nbsp;.addfile,&nbsp;#patch&nbsp;.delfile,&nbsp;#patch&nbsp;.propset,&nbsp;#patch&nbsp;.binary,&nbsp;#patch&nbsp;.copfile&nbsp;{border:1px&nbsp;solid&nbsp;#ccc;margin:10px&nbsp;0;}<br>
#patch&nbsp;ins&nbsp;{background:#dfd;text-decoration:none;display:block;padding:0&nbsp;10px;}<br>
#patch&nbsp;del&nbsp;{background:#fdd;text-decoration:none;display:block;padding:0&nbsp;10px;}<br>
#patch&nbsp;.lines,&nbsp;.info&nbsp;{color:#888;background:#fff;}<br>
--&gt;&lt;/style&gt;<br>
&lt;div&nbsp;id=&quot;msg&quot;&gt;<br>
&lt;dl&nbsp;class=&quot;meta&quot;&gt;<br>
&lt;dt&gt;Revision&lt;/dt&gt;&nbsp;&lt;dd&gt;&lt;a&nbsp;href=&quot;http://sources.forgerock.org/changelog/commons/?cs=1408&quot;&gt;1408&lt;/a&gt;&lt;/dd&gt;<br>
&lt;dt&gt;Author&lt;/dt&gt;&nbsp;&lt;dd&gt;matthew&lt;/dd&gt;<br>
&lt;dt&gt;Date&lt;/dt&gt;&nbsp;&lt;dd&gt;2013-12-19&nbsp;14:46:21&nbsp;+0000&nbsp;(Thu,&nbsp;19&nbsp;Dec&nbsp;2013)&lt;/dd&gt;<br>
&lt;/dl&gt;<br>
<br>
&lt;h3&gt;Log&nbsp;Message&lt;/h3&gt;<br>
&lt;pre&gt;Code&nbsp;cleanup:<br>
<br>
*&nbsp;fix&nbsp;compiler&nbsp;and&nbsp;IDE&nbsp;warnings<br>
*&nbsp;align&nbsp;more&nbsp;closely&nbsp;with&nbsp;FR&nbsp;codestyle<br>
*&nbsp;use&nbsp;latest&nbsp;forgerock-parent<br>
*&nbsp;add&nbsp;varargs&nbsp;Reject.ifNull()&nbsp;method<br>
*&nbsp;remove&nbsp;redundant&nbsp;checkIfTrue&nbsp;/&nbsp;checkIfFalse&nbsp;methods&nbsp;since&nbsp;they&nbsp;are&nbsp;equivalent&nbsp;to&nbsp;ifTrue/ifFalse&nbsp;and&nbsp;callers&nbsp;should&nbsp;never&nbsp;care&nbsp;about&nbsp;the&nbsp;return&nbsp;value.&lt;/pre&gt;<br>
<br>
&lt;h3&gt;Modified&nbsp;Paths&lt;/h3&gt;<br>
&lt;ul&gt;<br>
&lt;li&gt;&lt;a&nbsp;href=&quot;#forgerockutiltrunkpomxml&quot;&gt;forgerock-util/trunk/pom.xml&lt;/a&gt;&lt;/li&gt;<br>
&lt;li&gt;&lt;a&nbsp;href=&quot;#forgerockutiltrunksrcmainjavaorgforgerockutilFactoryjava&quot;&gt;forgerock-util/trunk/src/main/java/org/forgerock/util/Factory.java&lt;/a&gt;&lt;/li&gt;<br>
&lt;li&gt;&lt;a&nbsp;href=&quot;#forgerockutiltrunksrcmainjavaorgforgerockutilLazyListjava&quot;&gt;forgerock-util/trunk/src/main/java/org/forgerock/util/LazyList.java&lt;/a&gt;&lt;/li&gt;<br>
&lt;li&gt;&lt;a&nbsp;href=&quot;#forgerockutiltrunksrcmainjavaorgforgerockutilLazyMapjava&quot;&gt;forgerock-util/trunk/src/main/java/org/forgerock/util/LazyMap.java&lt;/a&gt;&lt;/li&gt;<br>
&lt;li&gt;&lt;a&nbsp;href=&quot;#forgerockutiltrunksrcmainjavaorgforgerockutilListDecoratorjava&quot;&gt;forgerock-util/trunk/src/main/java/org/forgerock/util/ListDecorator.java&lt;/a&gt;&lt;/li&gt;<br>
&lt;li&gt;&lt;a&nbsp;href=&quot;#forgerockutiltrunksrcmainjavaorgforgerockutilMapDecoratorjava&quot;&gt;forgerock-util/trunk/src/main/java/org/forgerock/util/MapDecorator.java&lt;/a&gt;&lt;/li&gt;<br>
&lt;li&gt;&lt;a&nbsp;href=&quot;#forgerockutiltrunksrcmainjavaorgforgerockutilRangeSetjava&quot;&gt;forgerock-util/trunk/src/main/java/org/forgerock/util/RangeSet.java&lt;/a&gt;&lt;/li&gt;<br>
&lt;li&gt;&lt;a&nbsp;href=&quot;#forgerockutiltrunksrcmainjavaorgforgerockutilSignatureUtiljava&quot;&gt;forgerock-util/trunk/src/main/java/org/forgerock/util/SignatureUtil.java&lt;/a&gt;&lt;/li&gt;<br>
&lt;li&gt;&lt;a&nbsp;href=&quot;#forgerockutiltrunksrcmainjavaorgforgerockutilencodeBase64java&quot;&gt;forgerock-util/trunk/src/main/java/org/forgerock/util/encode/Base64.java&lt;/a&gt;&lt;/li&gt;<br>
&lt;li&gt;&lt;a&nbsp;href=&quot;#forgerockutiltrunksrcmainjavaorgforgerockutilencodeBase64urljava&quot;&gt;forgerock-util/trunk/src/main/java/org/forgerock/util/encode/Base64url.java&lt;/a&gt;&lt;/li&gt;<br>
&lt;li&gt;&lt;a&nbsp;href=&quot;#forgerockutiltrunksrcmainjavaorgforgerockutilxmlXMLHandlerjava&quot;&gt;forgerock-util/trunk/src/main/java/org/forgerock/util/xml/XMLHandler.java&lt;/a&gt;&lt;/li&gt;<br>
&lt;li&gt;&lt;a&nbsp;href=&quot;#forgerockutiltrunksrcmainjavaorgforgerockutilxmlXMLUtilsjava&quot;&gt;forgerock-util/trunk/src/main/java/org/forgerock/util/xml/XMLUtils.java&lt;/a&gt;&lt;/li&gt;<br>
&lt;li&gt;&lt;a&nbsp;href=&quot;#forgerockutiltrunksrctestjavaorgforgerockutilRangeSetTestjava&quot;&gt;forgerock-util/trunk/src/test/java/org/forgerock/util/RangeSetTest.java&lt;/a&gt;&lt;/li&gt;<br>
&lt;li&gt;&lt;a&nbsp;href=&quot;#forgerockutiltrunksrctestjavaorgforgerockutilRejectTestjava&quot;&gt;forgerock-util/trunk/src/test/java/org/forgerock/util/RejectTest.java&lt;/a&gt;&lt;/li&gt;<br>
&lt;li&gt;&lt;a&nbsp;href=&quot;#forgerockutiltrunksrctestjavaorgforgerockutilencodeBase64urlTestjava&quot;&gt;forgerock-util/trunk/src/test/java/org/forgerock/util/encode/Base64urlTest.java&lt;/a&gt;&lt;/li&gt;<br>
&lt;/ul&gt;<br>
<br>
&lt;h3&gt;Added&nbsp;Paths&lt;/h3&gt;<br>
&lt;ul&gt;<br>
&lt;li&gt;&lt;a&nbsp;href=&quot;#forgerockutiltrunksrcmainjavaorgforgerockutilRejectjava&quot;&gt;forgerock-util/trunk/src/main/java/org/forgerock/util/Reject.java&lt;/a&gt;&lt;/li&gt;<br>
&lt;/ul&gt;<br>
<br>
&lt;h3&gt;Removed&nbsp;Paths&lt;/h3&gt;<br>
&lt;ul&gt;<br>
&lt;li&gt;&lt;a&nbsp;href=&quot;#forgerockutiltrunksrcmainjavaorgforgerockutilRejectjava&quot;&gt;forgerock-util/trunk/src/main/java/org/forgerock/util/Reject.java&lt;/a&gt;&lt;/li&gt;<br>
&lt;/ul&gt;<br>
<br>
&lt;/div&gt;<br>
&lt;div&nbsp;id=&quot;patch&quot;&gt;<br>
&lt;h3&gt;Diff&lt;/h3&gt;<br>
&lt;a&nbsp;id=&quot;forgerockutiltrunkpomxml&quot;&gt;&lt;/a&gt;<br>
&lt;div&nbsp;class=&quot;modfile&quot;&gt;&lt;h4&gt;Modified:&nbsp;forgerock-util/trunk/pom.xml&nbsp;(1407&nbsp;=&gt;&nbsp;1408)&lt;/h4&gt;<br>
&lt;pre&nbsp;class=&quot;diff&quot;&gt;&lt;span&gt;<br>
&lt;span&nbsp;class=&quot;info&quot;&gt;---&nbsp;forgerock-util/trunk/pom.xml&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp2013-12-19&nbsp;09:03:16&nbsp;UTC&nbsp;(rev&nbsp;1407)<br>
+++&nbsp;forgerock-util/trunk/pom.xml&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp2013-12-19&nbsp;14:46:21&nbsp;UTC&nbsp;(rev&nbsp;1408)<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-20,7&nbsp;+20,7&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;parent&amp;gt;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;groupId&amp;gt;org.forgerock&amp;lt;/groupId&amp;gt;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;artifactId&amp;gt;forgerock-parent&amp;lt;/artifactId&amp;gt;<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;version&amp;gt;1.0.0&amp;lt;/version&amp;gt;<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;version&amp;gt;1.2.0&amp;lt;/version&amp;gt;<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/parent&amp;gt;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;groupId&amp;gt;org.forgerock.commons&amp;lt;/groupId&amp;gt;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;artifactId&amp;gt;forgerock-util&amp;lt;/artifactId&amp;gt;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-29,7&nbsp;+29,6&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;description&amp;gt;Miscellaneous&nbsp;utility&nbsp;classes&nbsp;used&nbsp;within&nbsp;ForgeRock&nbsp;projects.&amp;lt;/description&amp;gt;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;packaging&amp;gt;bundle&amp;lt;/packaging&amp;gt;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;properties&amp;gt;<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;project.build.sourceEncoding&amp;gt;UTF-8&amp;lt;/project.build.sourceEncoding&amp;gt;<br>
&lt;/del&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;maven.compiler.target&amp;gt;1.6&amp;lt;/maven.compiler.target&amp;gt;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;maven.compiler.source&amp;gt;1.6&amp;lt;/maven.compiler.source&amp;gt;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/properties&amp;gt;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-65,10&nbsp;+64,10&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;instructions&amp;gt;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;Import-Package&amp;gt;*&amp;lt;/Import-Package&amp;gt;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;Export-Package&amp;gt;<br>
&lt;/span&gt;&lt;del&gt;-&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;org.forgerock.util;version=${project.version},<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;org.forgerock.util;version=${project.version},<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;org.forgerock.util.xml;version=${project.version},<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;org.forgerock.util.encode;version=${project.version}<br>
&lt;/span&gt;&lt;del&gt;-&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/Export-Package&amp;gt;<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&amp;lt;/Export-Package&amp;gt;<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/instructions&amp;gt;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/configuration&amp;gt;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/plugin&amp;gt;<br>
&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;<br>
&lt;a&nbsp;id=&quot;forgerockutiltrunksrcmainjavaorgforgerockutilFactoryjava&quot;&gt;&lt;/a&gt;<br>
&lt;div&nbsp;class=&quot;modfile&quot;&gt;&lt;h4&gt;Modified:&nbsp;forgerock-util/trunk/src/main/java/org/forgerock/util/Factory.java&nbsp;(1407&nbsp;=&gt;&nbsp;1408)&lt;/h4&gt;<br>
&lt;pre&nbsp;class=&quot;diff&quot;&gt;&lt;span&gt;<br>
&lt;span&nbsp;class=&quot;info&quot;&gt;---&nbsp;forgerock-util/trunk/src/main/java/org/forgerock/util/Factory.java&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp2013-12-19&nbsp;09:03:16&nbsp;UTC&nbsp;(rev&nbsp;1407)<br>
+++&nbsp;forgerock-util/trunk/src/main/java/org/forgerock/util/Factory.java&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp2013-12-19&nbsp;14:46:21&nbsp;UTC&nbsp;(rev&nbsp;1408)<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-12,7&nbsp;+12,7&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*&nbsp;information:&nbsp;&amp;quot;Portions&nbsp;Copyrighted&nbsp;[year]&nbsp;[name&nbsp;of&nbsp;copyright&nbsp;owner]&amp;quot;.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*&nbsp;Copyright&nbsp;©&nbsp;2010–2011&nbsp;ApexIdentity&nbsp;Inc.&nbsp;All&nbsp;rights&nbsp;reserved.<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;*&nbsp;Portions&nbsp;Copyrighted&nbsp;2011&nbsp;ForgeRock&nbsp;AS.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;*&nbsp;Portions&nbsp;Copyright&nbsp;2011-2013&nbsp;ForgeRock&nbsp;AS.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;package&nbsp;org.forgerock.util;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-20,12&nbsp;+20,15&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;/**<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*&nbsp;A&nbsp;factory&nbsp;interface.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;*&nbsp;@author&nbsp;Paul&nbsp;C.&nbsp;Bryan<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;*&nbsp;@param&nbsp;&amp;lt;T&amp;gt;<br>
+&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;type&nbsp;of&nbsp;object&nbsp;created&nbsp;by&nbsp;this&nbsp;factory.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;public&nbsp;interface&nbsp;Factory&amp;lt;T&amp;gt;&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Creates&nbsp;and&nbsp;returns&nbsp;a&nbsp;new&nbsp;object&nbsp;instance.<br>
&lt;/span&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;The&nbsp;new&nbsp;object&nbsp;instance.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;T&nbsp;newInstance();<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;}<br>
&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;<br>
&lt;a&nbsp;id=&quot;forgerockutiltrunksrcmainjavaorgforgerockutilLazyListjava&quot;&gt;&lt;/a&gt;<br>
&lt;div&nbsp;class=&quot;modfile&quot;&gt;&lt;h4&gt;Modified:&nbsp;forgerock-util/trunk/src/main/java/org/forgerock/util/LazyList.java&nbsp;(1407&nbsp;=&gt;&nbsp;1408)&lt;/h4&gt;<br>
&lt;pre&nbsp;class=&quot;diff&quot;&gt;&lt;span&gt;<br>
&lt;span&nbsp;class=&quot;info&quot;&gt;---&nbsp;forgerock-util/trunk/src/main/java/org/forgerock/util/LazyList.java&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp2013-12-19&nbsp;09:03:16&nbsp;UTC&nbsp;(rev&nbsp;1407)<br>
+++&nbsp;forgerock-util/trunk/src/main/java/org/forgerock/util/LazyList.java&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp2013-12-19&nbsp;14:46:21&nbsp;UTC&nbsp;(rev&nbsp;1408)<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-11,7&nbsp;+11,7&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*&nbsp;Header,&nbsp;with&nbsp;the&nbsp;fields&nbsp;enclosed&nbsp;by&nbsp;brackets&nbsp;[]&nbsp;replaced&nbsp;by&nbsp;your&nbsp;own&nbsp;identifying<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*&nbsp;information:&nbsp;&amp;quot;Portions&nbsp;Copyrighted&nbsp;[year]&nbsp;[name&nbsp;of&nbsp;copyright&nbsp;owner]&amp;quot;.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;*&nbsp;Copyright&nbsp;©&nbsp;2011&nbsp;ForgeRock&nbsp;AS.&nbsp;All&nbsp;rights&nbsp;reserved.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;*&nbsp;Copyright&nbsp;2011-2013&nbsp;ForgeRock&nbsp;AS.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;package&nbsp;org.forgerock.util;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-23,10&nbsp;+23,11&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;import&nbsp;java.util.ListIterator;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;/**<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;*&nbsp;A&nbsp;list&nbsp;with&nbsp;lazy&nbsp;initialization.&nbsp;The&nbsp;factory&nbsp;is&nbsp;called&nbsp;to&nbsp;initialize&nbsp;the&nbsp;list&nbsp;on&nbsp;the&nbsp;first<br>
-&nbsp;*&nbsp;call&nbsp;to&nbsp;one&nbsp;of&nbsp;this&nbsp;object's&nbsp;methods.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;*&nbsp;A&nbsp;list&nbsp;with&nbsp;lazy&nbsp;initialization.&nbsp;The&nbsp;factory&nbsp;is&nbsp;called&nbsp;to&nbsp;initialize&nbsp;the&nbsp;list<br>
+&nbsp;*&nbsp;on&nbsp;the&nbsp;first&nbsp;call&nbsp;to&nbsp;one&nbsp;of&nbsp;this&nbsp;object's&nbsp;methods.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;*&nbsp;@author&nbsp;Paul&nbsp;C.&nbsp;Bryan<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;*&nbsp;@param&nbsp;&amp;lt;E&amp;gt;<br>
+&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;type&nbsp;of&nbsp;element&nbsp;contained&nbsp;in&nbsp;this&nbsp;list.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;public&nbsp;class&nbsp;LazyList&amp;lt;E&amp;gt;&nbsp;implements&nbsp;List&amp;lt;E&amp;gt;&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-37,7&nbsp;+38,8&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;Factory&amp;lt;List&amp;lt;E&amp;gt;&amp;gt;&nbsp;factory;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Constructs&nbsp;a&nbsp;new&nbsp;lazy&nbsp;list.&nbsp;Allows&nbsp;factory&nbsp;to&nbsp;be&nbsp;set&nbsp;in&nbsp;subclass&nbsp;constructor.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Constructs&nbsp;a&nbsp;new&nbsp;lazy&nbsp;list.&nbsp;Allows&nbsp;factory&nbsp;to&nbsp;be&nbsp;set&nbsp;in&nbsp;subclass<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;constructor.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;LazyList()&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-45,15&nbsp;+47,16&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Constructs&nbsp;a&nbsp;new&nbsp;lazy&nbsp;list.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;factory&nbsp;factory&nbsp;to&nbsp;create&nbsp;the&nbsp;list&nbsp;instance&nbsp;to&nbsp;expose.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;factory<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;factory&nbsp;to&nbsp;create&nbsp;the&nbsp;list&nbsp;instance&nbsp;to&nbsp;expose.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;LazyList(Factory&amp;lt;List&amp;lt;E&amp;gt;&amp;gt;&nbsp;factory)&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.factory&nbsp;=&nbsp;factory;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Performs&nbsp;lazy&nbsp;initialization&nbsp;of&nbsp;the&nbsp;list&nbsp;if&nbsp;not&nbsp;already&nbsp;performed,&nbsp;and&nbsp;returns<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;the&nbsp;initialized&nbsp;list.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Performs&nbsp;lazy&nbsp;initialization&nbsp;of&nbsp;the&nbsp;list&nbsp;if&nbsp;not&nbsp;already&nbsp;performed,&nbsp;and<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;returns&nbsp;the&nbsp;initialized&nbsp;list.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;List&amp;lt;E&amp;gt;&nbsp;lazy()&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(list&nbsp;==&nbsp;null)&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-85,7&nbsp;+88,8&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Returns&nbsp;{@code&nbsp;true}&nbsp;if&nbsp;this&nbsp;list&nbsp;contains&nbsp;the&nbsp;specified&nbsp;element.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;o&nbsp;the&nbsp;element&nbsp;whose&nbsp;presence&nbsp;in&nbsp;this&nbsp;list&nbsp;is&nbsp;to&nbsp;be&nbsp;tested.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;o<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;element&nbsp;whose&nbsp;presence&nbsp;in&nbsp;this&nbsp;list&nbsp;is&nbsp;to&nbsp;be&nbsp;tested.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;{@code&nbsp;true}&nbsp;if&nbsp;this&nbsp;list&nbsp;contains&nbsp;the&nbsp;specified&nbsp;element.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-102,8&nbsp;+106,8&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Returns&nbsp;an&nbsp;array&nbsp;containing&nbsp;all&nbsp;of&nbsp;the&nbsp;elements&nbsp;in&nbsp;this&nbsp;list&nbsp;in&nbsp;proper&nbsp;sequence<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;(from&nbsp;first&nbsp;to&nbsp;last&nbsp;element).<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Returns&nbsp;an&nbsp;array&nbsp;containing&nbsp;all&nbsp;of&nbsp;the&nbsp;elements&nbsp;in&nbsp;this&nbsp;list&nbsp;in&nbsp;proper<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;sequence&nbsp;(from&nbsp;first&nbsp;to&nbsp;last&nbsp;element).<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;Object[]&nbsp;toArray()&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-111,13&nbsp;+115,15&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Returns&nbsp;an&nbsp;array&nbsp;containing&nbsp;all&nbsp;of&nbsp;the&nbsp;elements&nbsp;in&nbsp;this&nbsp;list&nbsp;in&nbsp;proper&nbsp;sequence<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;(from&nbsp;first&nbsp;to&nbsp;last&nbsp;element);&nbsp;the&nbsp;runtime&nbsp;type&nbsp;of&nbsp;the&nbsp;returned&nbsp;array&nbsp;is&nbsp;that&nbsp;of&nbsp;the<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;specified&nbsp;array.&nbsp;If&nbsp;the&nbsp;list&nbsp;fits&nbsp;in&nbsp;the&nbsp;specified&nbsp;array,&nbsp;it&nbsp;is&nbsp;returned&nbsp;therein.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Otherwise,&nbsp;a&nbsp;new&nbsp;array&nbsp;is&nbsp;allocated&nbsp;with&nbsp;the&nbsp;runtime&nbsp;type&nbsp;of&nbsp;the&nbsp;specified&nbsp;array&nbsp;and<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;the&nbsp;size&nbsp;of&nbsp;this&nbsp;list.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Returns&nbsp;an&nbsp;array&nbsp;containing&nbsp;all&nbsp;of&nbsp;the&nbsp;elements&nbsp;in&nbsp;this&nbsp;list&nbsp;in&nbsp;proper<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;sequence&nbsp;(from&nbsp;first&nbsp;to&nbsp;last&nbsp;element);&nbsp;the&nbsp;runtime&nbsp;type&nbsp;of&nbsp;the&nbsp;returned<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;array&nbsp;is&nbsp;that&nbsp;of&nbsp;the&nbsp;specified&nbsp;array.&nbsp;If&nbsp;the&nbsp;list&nbsp;fits&nbsp;in&nbsp;the&nbsp;specified<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;array,&nbsp;it&nbsp;is&nbsp;returned&nbsp;therein.&nbsp;Otherwise,&nbsp;a&nbsp;new&nbsp;array&nbsp;is&nbsp;allocated&nbsp;with<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;the&nbsp;runtime&nbsp;type&nbsp;of&nbsp;the&nbsp;specified&nbsp;array&nbsp;and&nbsp;the&nbsp;size&nbsp;of&nbsp;this&nbsp;list.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;a&nbsp;the&nbsp;array&nbsp;into&nbsp;which&nbsp;the&nbsp;elements&nbsp;of&nbsp;this&nbsp;list&nbsp;are&nbsp;to&nbsp;be&nbsp;stored.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;a<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;array&nbsp;into&nbsp;which&nbsp;the&nbsp;elements&nbsp;of&nbsp;this&nbsp;list&nbsp;are&nbsp;to&nbsp;be<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stored.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;an&nbsp;array&nbsp;containing&nbsp;the&nbsp;elements&nbsp;of&nbsp;this&nbsp;list.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-128,7&nbsp;+134,8&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Appends&nbsp;the&nbsp;specified&nbsp;element&nbsp;to&nbsp;the&nbsp;end&nbsp;of&nbsp;this&nbsp;list.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;e&nbsp;the&nbsp;element&nbsp;to&nbsp;be&nbsp;appended&nbsp;to&nbsp;this&nbsp;list.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;e<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;element&nbsp;to&nbsp;be&nbsp;appended&nbsp;to&nbsp;this&nbsp;list.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;{@code&nbsp;true}&nbsp;if&nbsp;this&nbsp;list&nbsp;changed&nbsp;as&nbsp;a&nbsp;result&nbsp;of&nbsp;the&nbsp;call.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-137,9&nbsp;+144,11&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Removes&nbsp;the&nbsp;first&nbsp;occurrence&nbsp;of&nbsp;the&nbsp;specified&nbsp;element&nbsp;from&nbsp;this&nbsp;list,&nbsp;if&nbsp;it&nbsp;is&nbsp;present.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Removes&nbsp;the&nbsp;first&nbsp;occurrence&nbsp;of&nbsp;the&nbsp;specified&nbsp;element&nbsp;from&nbsp;this&nbsp;list,&nbsp;if<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;it&nbsp;is&nbsp;present.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;o&nbsp;the&nbsp;element&nbsp;to&nbsp;be&nbsp;removed&nbsp;from&nbsp;this&nbsp;list,&nbsp;if&nbsp;present.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;o<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;element&nbsp;to&nbsp;be&nbsp;removed&nbsp;from&nbsp;this&nbsp;list,&nbsp;if&nbsp;present.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;true&nbsp;if&nbsp;this&nbsp;list&nbsp;contained&nbsp;the&nbsp;specified&nbsp;element.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-148,11&nbsp;+157,13&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Returns&nbsp;{@code&nbsp;true}&nbsp;if&nbsp;this&nbsp;list&nbsp;contains&nbsp;all&nbsp;of&nbsp;the&nbsp;elements&nbsp;of&nbsp;the&nbsp;specified<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;collection.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Returns&nbsp;{@code&nbsp;true}&nbsp;if&nbsp;this&nbsp;list&nbsp;contains&nbsp;all&nbsp;of&nbsp;the&nbsp;elements&nbsp;of&nbsp;the<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;specified&nbsp;collection.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;c&nbsp;the&nbsp;collection&nbsp;to&nbsp;be&nbsp;checked&nbsp;for&nbsp;containment&nbsp;in&nbsp;this&nbsp;list.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;{@code&nbsp;true}&nbsp;if&nbsp;this&nbsp;list&nbsp;contains&nbsp;all&nbsp;of&nbsp;the&nbsp;elements&nbsp;of&nbsp;the&nbsp;specified&nbsp;collection.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;c<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;collection&nbsp;to&nbsp;be&nbsp;checked&nbsp;for&nbsp;containment&nbsp;in&nbsp;this&nbsp;list.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;{@code&nbsp;true}&nbsp;if&nbsp;this&nbsp;list&nbsp;contains&nbsp;all&nbsp;of&nbsp;the&nbsp;elements&nbsp;of&nbsp;the<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;specified&nbsp;collection.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;boolean&nbsp;containsAll(Collection&amp;lt;?&amp;gt;&nbsp;c)&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-160,10&nbsp;+171,12&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Appends&nbsp;all&nbsp;of&nbsp;the&nbsp;elements&nbsp;in&nbsp;the&nbsp;specified&nbsp;collection&nbsp;to&nbsp;the&nbsp;end&nbsp;of&nbsp;this&nbsp;list,&nbsp;in<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;the&nbsp;order&nbsp;that&nbsp;they&nbsp;are&nbsp;returned&nbsp;by&nbsp;the&nbsp;specified&nbsp;collection's&nbsp;iterator.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Appends&nbsp;all&nbsp;of&nbsp;the&nbsp;elements&nbsp;in&nbsp;the&nbsp;specified&nbsp;collection&nbsp;to&nbsp;the&nbsp;end&nbsp;of<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;this&nbsp;list,&nbsp;in&nbsp;the&nbsp;order&nbsp;that&nbsp;they&nbsp;are&nbsp;returned&nbsp;by&nbsp;the&nbsp;specified<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;collection's&nbsp;iterator.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;c&nbsp;the&nbsp;collection&nbsp;containing&nbsp;elements&nbsp;to&nbsp;be&nbsp;added&nbsp;to&nbsp;this&nbsp;list.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;c<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;collection&nbsp;containing&nbsp;elements&nbsp;to&nbsp;be&nbsp;added&nbsp;to&nbsp;this&nbsp;list.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;{@code&nbsp;true}&nbsp;if&nbsp;this&nbsp;list&nbsp;changed&nbsp;as&nbsp;a&nbsp;result&nbsp;of&nbsp;the&nbsp;call.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-172,11&nbsp;+185,14&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Inserts&nbsp;all&nbsp;of&nbsp;the&nbsp;elements&nbsp;in&nbsp;the&nbsp;specified&nbsp;collection&nbsp;into&nbsp;this&nbsp;list&nbsp;at&nbsp;the<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;specified&nbsp;position.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Inserts&nbsp;all&nbsp;of&nbsp;the&nbsp;elements&nbsp;in&nbsp;the&nbsp;specified&nbsp;collection&nbsp;into&nbsp;this&nbsp;list&nbsp;at<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;the&nbsp;specified&nbsp;position.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;index&nbsp;the&nbsp;index&nbsp;at&nbsp;which&nbsp;to&nbsp;insert&nbsp;the&nbsp;first&nbsp;element&nbsp;from&nbsp;the&nbsp;specified&nbsp;collection.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;c&nbsp;the&nbsp;collection&nbsp;containing&nbsp;elements&nbsp;to&nbsp;be&nbsp;added&nbsp;to&nbsp;this&nbsp;list.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;index<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;index&nbsp;at&nbsp;which&nbsp;to&nbsp;insert&nbsp;the&nbsp;first&nbsp;element&nbsp;from&nbsp;the<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;specified&nbsp;collection.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;c<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;collection&nbsp;containing&nbsp;elements&nbsp;to&nbsp;be&nbsp;added&nbsp;to&nbsp;this&nbsp;list.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;{@code&nbsp;true}&nbsp;if&nbsp;this&nbsp;list&nbsp;changed&nbsp;as&nbsp;a&nbsp;result&nbsp;of&nbsp;the&nbsp;call.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-185,10&nbsp;+201,12&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Removes&nbsp;from&nbsp;this&nbsp;list&nbsp;all&nbsp;of&nbsp;its&nbsp;elements&nbsp;that&nbsp;are&nbsp;contained&nbsp;in&nbsp;the&nbsp;specified<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;collection.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Removes&nbsp;from&nbsp;this&nbsp;list&nbsp;all&nbsp;of&nbsp;its&nbsp;elements&nbsp;that&nbsp;are&nbsp;contained&nbsp;in&nbsp;the<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;specified&nbsp;collection.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;c&nbsp;the&nbsp;collection&nbsp;containing&nbsp;elements&nbsp;to&nbsp;be&nbsp;removed&nbsp;from&nbsp;this&nbsp;list.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;c<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;collection&nbsp;containing&nbsp;elements&nbsp;to&nbsp;be&nbsp;removed&nbsp;from&nbsp;this<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;{@code&nbsp;true}&nbsp;if&nbsp;this&nbsp;list&nbsp;changed&nbsp;as&nbsp;a&nbsp;result&nbsp;of&nbsp;the&nbsp;call.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-197,9&nbsp;+215,12&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Retains&nbsp;only&nbsp;the&nbsp;elements&nbsp;in&nbsp;this&nbsp;list&nbsp;that&nbsp;are&nbsp;contained&nbsp;in&nbsp;the&nbsp;specified&nbsp;collection.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Retains&nbsp;only&nbsp;the&nbsp;elements&nbsp;in&nbsp;this&nbsp;list&nbsp;that&nbsp;are&nbsp;contained&nbsp;in&nbsp;the<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;specified&nbsp;collection.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;c&nbsp;the&nbsp;collection&nbsp;containing&nbsp;elements&nbsp;to&nbsp;be&nbsp;retained&nbsp;in&nbsp;this&nbsp;list.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;c<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;collection&nbsp;containing&nbsp;elements&nbsp;to&nbsp;be&nbsp;retained&nbsp;in&nbsp;this<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;{@code&nbsp;true}&nbsp;if&nbsp;this&nbsp;list&nbsp;changed&nbsp;as&nbsp;a&nbsp;result&nbsp;of&nbsp;the&nbsp;call.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-218,7&nbsp;+239,8&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Compares&nbsp;the&nbsp;specified&nbsp;object&nbsp;with&nbsp;this&nbsp;list&nbsp;for&nbsp;equality.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;o&nbsp;the&nbsp;object&nbsp;to&nbsp;be&nbsp;compared&nbsp;for&nbsp;equality&nbsp;with&nbsp;this&nbsp;list.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;o<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;object&nbsp;to&nbsp;be&nbsp;compared&nbsp;for&nbsp;equality&nbsp;with&nbsp;this&nbsp;list.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;{@code&nbsp;true}&nbsp;if&nbsp;the&nbsp;specified&nbsp;object&nbsp;is&nbsp;equal&nbsp;to&nbsp;this&nbsp;list.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-237,7&nbsp;+259,8&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Returns&nbsp;the&nbsp;element&nbsp;at&nbsp;the&nbsp;specified&nbsp;position&nbsp;in&nbsp;this&nbsp;list.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;index&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;element&nbsp;to&nbsp;return.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;index<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;element&nbsp;to&nbsp;return.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;the&nbsp;element&nbsp;at&nbsp;the&nbsp;specified&nbsp;position&nbsp;in&nbsp;this&nbsp;list.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-246,10&nbsp;+269,13&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Replaces&nbsp;the&nbsp;element&nbsp;at&nbsp;the&nbsp;specified&nbsp;position&nbsp;in&nbsp;this&nbsp;list&nbsp;with&nbsp;the&nbsp;specified&nbsp;element.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Replaces&nbsp;the&nbsp;element&nbsp;at&nbsp;the&nbsp;specified&nbsp;position&nbsp;in&nbsp;this&nbsp;list&nbsp;with&nbsp;the<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;specified&nbsp;element.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;index&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;element&nbsp;to&nbsp;replace.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;element&nbsp;the&nbsp;element&nbsp;to&nbsp;be&nbsp;stored&nbsp;at&nbsp;the&nbsp;specified&nbsp;position.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;index<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;element&nbsp;to&nbsp;replace.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;element<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;element&nbsp;to&nbsp;be&nbsp;stored&nbsp;at&nbsp;the&nbsp;specified&nbsp;position.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;the&nbsp;element&nbsp;previously&nbsp;at&nbsp;the&nbsp;specified&nbsp;position.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-260,8&nbsp;+286,10&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Inserts&nbsp;the&nbsp;specified&nbsp;element&nbsp;at&nbsp;the&nbsp;specified&nbsp;position&nbsp;in&nbsp;this&nbsp;list.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;index&nbsp;the&nbsp;index&nbsp;at&nbsp;which&nbsp;the&nbsp;specified&nbsp;element&nbsp;is&nbsp;to&nbsp;be&nbsp;inserted.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;element&nbsp;the&nbsp;element&nbsp;to&nbsp;be&nbsp;inserted.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;index<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;index&nbsp;at&nbsp;which&nbsp;the&nbsp;specified&nbsp;element&nbsp;is&nbsp;to&nbsp;be&nbsp;inserted.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;element<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;element&nbsp;to&nbsp;be&nbsp;inserted.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;add(int&nbsp;index,&nbsp;E&nbsp;element)&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-271,7&nbsp;+299,8&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Removes&nbsp;the&nbsp;element&nbsp;at&nbsp;the&nbsp;specified&nbsp;position&nbsp;in&nbsp;this&nbsp;list.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;index&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;element&nbsp;to&nbsp;be&nbsp;removed.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;index<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;element&nbsp;to&nbsp;be&nbsp;removed.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;the&nbsp;element&nbsp;previously&nbsp;at&nbsp;the&nbsp;specified&nbsp;position.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-280,11&nbsp;+309,13&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Returns&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;first&nbsp;occurrence&nbsp;of&nbsp;the&nbsp;specified&nbsp;element&nbsp;in&nbsp;this&nbsp;list,<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;or&nbsp;{@code&nbsp;-1}&nbsp;if&nbsp;this&nbsp;list&nbsp;does&nbsp;not&nbsp;contain&nbsp;the&nbsp;element.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Returns&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;first&nbsp;occurrence&nbsp;of&nbsp;the&nbsp;specified&nbsp;element&nbsp;in<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;this&nbsp;list,&nbsp;or&nbsp;{@code&nbsp;-1}&nbsp;if&nbsp;this&nbsp;list&nbsp;does&nbsp;not&nbsp;contain&nbsp;the&nbsp;element.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;o&nbsp;element&nbsp;to&nbsp;search&nbsp;for.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;first&nbsp;occurrence,&nbsp;or&nbsp;{@code&nbsp;-1}&nbsp;if&nbsp;no&nbsp;such&nbsp;element.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;o<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;element&nbsp;to&nbsp;search&nbsp;for.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;first&nbsp;occurrence,&nbsp;or&nbsp;{@code&nbsp;-1}&nbsp;if&nbsp;no&nbsp;such<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;element.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;int&nbsp;indexOf(Object&nbsp;o)&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-292,11&nbsp;+323,13&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Returns&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;last&nbsp;occurrence&nbsp;of&nbsp;the&nbsp;specified&nbsp;element&nbsp;in&nbsp;this&nbsp;list,&nbsp;or<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;{@code&nbsp;-1}&nbsp;if&nbsp;this&nbsp;list&nbsp;does&nbsp;not&nbsp;contain&nbsp;the&nbsp;element.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Returns&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;last&nbsp;occurrence&nbsp;of&nbsp;the&nbsp;specified&nbsp;element&nbsp;in&nbsp;this<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;list,&nbsp;or&nbsp;{@code&nbsp;-1}&nbsp;if&nbsp;this&nbsp;list&nbsp;does&nbsp;not&nbsp;contain&nbsp;the&nbsp;element.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;o&nbsp;the&nbsp;element&nbsp;to&nbsp;search&nbsp;for.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;last&nbsp;occurrence,&nbsp;or&nbsp;{@code&nbsp;-1}&nbsp;if&nbsp;no&nbsp;such&nbsp;element.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;o<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;element&nbsp;to&nbsp;search&nbsp;for.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;last&nbsp;occurrence,&nbsp;or&nbsp;{@code&nbsp;-1}&nbsp;if&nbsp;no&nbsp;such<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;element.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;int&nbsp;lastIndexOf(Object&nbsp;o)&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-304,7&nbsp;+337,8&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Returns&nbsp;a&nbsp;list&nbsp;iterator&nbsp;over&nbsp;the&nbsp;elements&nbsp;in&nbsp;this&nbsp;list&nbsp;(in&nbsp;proper&nbsp;sequence).<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Returns&nbsp;a&nbsp;list&nbsp;iterator&nbsp;over&nbsp;the&nbsp;elements&nbsp;in&nbsp;this&nbsp;list&nbsp;(in&nbsp;proper<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;sequence).<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;ListIterator&amp;lt;E&amp;gt;&nbsp;listIterator()&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-312,10&nbsp;+346,12&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Returns&nbsp;a&nbsp;list&nbsp;iterator&nbsp;over&nbsp;the&nbsp;elements&nbsp;in&nbsp;this&nbsp;list&nbsp;(in&nbsp;proper&nbsp;sequence),<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;starting&nbsp;at&nbsp;the&nbsp;specified&nbsp;position&nbsp;in&nbsp;the&nbsp;list.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Returns&nbsp;a&nbsp;list&nbsp;iterator&nbsp;over&nbsp;the&nbsp;elements&nbsp;in&nbsp;this&nbsp;list&nbsp;(in&nbsp;proper<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;sequence),&nbsp;starting&nbsp;at&nbsp;the&nbsp;specified&nbsp;position&nbsp;in&nbsp;the&nbsp;list.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;index&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;first&nbsp;element&nbsp;to&nbsp;be&nbsp;returned&nbsp;from&nbsp;the&nbsp;list&nbsp;iterator.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;index<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;first&nbsp;element&nbsp;to&nbsp;be&nbsp;returned&nbsp;from&nbsp;the&nbsp;list<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;iterator.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;a&nbsp;list&nbsp;iterator,&nbsp;starting&nbsp;at&nbsp;the&nbsp;specified&nbsp;position&nbsp;in&nbsp;the&nbsp;list.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-324,11&nbsp;+360,13&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Returns&nbsp;a&nbsp;view&nbsp;of&nbsp;the&nbsp;portion&nbsp;of&nbsp;this&nbsp;list&nbsp;between&nbsp;the&nbsp;specified&nbsp;fromIndex,<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;inclusive,&nbsp;and&nbsp;toIndex,&nbsp;exclusive.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Returns&nbsp;a&nbsp;view&nbsp;of&nbsp;the&nbsp;portion&nbsp;of&nbsp;this&nbsp;list&nbsp;between&nbsp;the&nbsp;specified<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;fromIndex,&nbsp;inclusive,&nbsp;and&nbsp;toIndex,&nbsp;exclusive.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;fromIndex&nbsp;low&nbsp;endpoint&nbsp;(inclusive)&nbsp;of&nbsp;the&nbsp;subList.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;toIndex&nbsp;high&nbsp;endpoint&nbsp;(exclusive)&nbsp;of&nbsp;the&nbsp;subList.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;fromIndex<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;low&nbsp;endpoint&nbsp;(inclusive)&nbsp;of&nbsp;the&nbsp;subList.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;toIndex<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;high&nbsp;endpoint&nbsp;(exclusive)&nbsp;of&nbsp;the&nbsp;subList.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;a&nbsp;view&nbsp;of&nbsp;the&nbsp;specified&nbsp;range&nbsp;within&nbsp;this&nbsp;list.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;<br>
&lt;a&nbsp;id=&quot;forgerockutiltrunksrcmainjavaorgforgerockutilLazyMapjava&quot;&gt;&lt;/a&gt;<br>
&lt;div&nbsp;class=&quot;modfile&quot;&gt;&lt;h4&gt;Modified:&nbsp;forgerock-util/trunk/src/main/java/org/forgerock/util/LazyMap.java&nbsp;(1407&nbsp;=&gt;&nbsp;1408)&lt;/h4&gt;<br>
&lt;pre&nbsp;class=&quot;diff&quot;&gt;&lt;span&gt;<br>
&lt;span&nbsp;class=&quot;info&quot;&gt;---&nbsp;forgerock-util/trunk/src/main/java/org/forgerock/util/LazyMap.java&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp2013-12-19&nbsp;09:03:16&nbsp;UTC&nbsp;(rev&nbsp;1407)<br>
+++&nbsp;forgerock-util/trunk/src/main/java/org/forgerock/util/LazyMap.java&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp2013-12-19&nbsp;14:46:21&nbsp;UTC&nbsp;(rev&nbsp;1408)<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-12,7&nbsp;+12,7&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*&nbsp;information:&nbsp;&amp;quot;Portions&nbsp;Copyrighted&nbsp;[year]&nbsp;[name&nbsp;of&nbsp;copyright&nbsp;owner]&amp;quot;.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*&nbsp;Copyright&nbsp;©&nbsp;2010–2011&nbsp;ApexIdentity&nbsp;Inc.&nbsp;All&nbsp;rights&nbsp;reserved.<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;*&nbsp;Portions&nbsp;Copyrighted&nbsp;2011&nbsp;ForgeRock&nbsp;AS.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;*&nbsp;Portions&nbsp;Copyright&nbsp;2011-2013&nbsp;ForgeRock&nbsp;AS.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;package&nbsp;org.forgerock.util;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-23,11&nbsp;+23,14&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;import&nbsp;java.util.Set;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;/**<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;*&nbsp;A&nbsp;map&nbsp;with&nbsp;lazy&nbsp;initialization.&nbsp;The&nbsp;factory&nbsp;is&nbsp;called&nbsp;to&nbsp;initialize&nbsp;the&nbsp;map&nbsp;on&nbsp;the&nbsp;first<br>
-&nbsp;*&nbsp;call&nbsp;to&nbsp;one&nbsp;of&nbsp;this&nbsp;object's&nbsp;methods.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;*&nbsp;A&nbsp;map&nbsp;with&nbsp;lazy&nbsp;initialization.&nbsp;The&nbsp;factory&nbsp;is&nbsp;called&nbsp;to&nbsp;initialize&nbsp;the&nbsp;map<br>
+&nbsp;*&nbsp;on&nbsp;the&nbsp;first&nbsp;call&nbsp;to&nbsp;one&nbsp;of&nbsp;this&nbsp;object's&nbsp;methods.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;*&nbsp;@author&nbsp;Paul&nbsp;C.&nbsp;Bryan<br>
-&nbsp;*/&nbsp;&nbsp;<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;*&nbsp;@param&nbsp;&amp;lt;K&amp;gt;<br>
+&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;type&nbsp;of&nbsp;key.<br>
+&nbsp;*&nbsp;@param&nbsp;&amp;lt;V&amp;gt;<br>
+&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;type&nbsp;of&nbsp;value.<br>
+&nbsp;*/<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;public&nbsp;class&nbsp;LazyMap&amp;lt;K,&nbsp;V&amp;gt;&nbsp;implements&nbsp;Map&amp;lt;K,&nbsp;V&amp;gt;&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**&nbsp;The&nbsp;map&nbsp;that&nbsp;this&nbsp;lazy&nbsp;map&nbsp;exposes,&nbsp;once&nbsp;initialized.&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-37,7&nbsp;+40,8&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;Factory&amp;lt;Map&amp;lt;K,&nbsp;V&amp;gt;&amp;gt;&nbsp;factory;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Constructs&nbsp;a&nbsp;new&nbsp;lazy&nbsp;map.&nbsp;Allows&nbsp;factory&nbsp;to&nbsp;be&nbsp;set&nbsp;in&nbsp;subclass&nbsp;constructor.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Constructs&nbsp;a&nbsp;new&nbsp;lazy&nbsp;map.&nbsp;Allows&nbsp;factory&nbsp;to&nbsp;be&nbsp;set&nbsp;in&nbsp;subclass<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;constructor.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;LazyMap()&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-45,15&nbsp;+49,16&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Constructs&nbsp;a&nbsp;new&nbsp;lazy&nbsp;map.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;factory&nbsp;factory&nbsp;to&nbsp;create&nbsp;the&nbsp;map&nbsp;instance&nbsp;to&nbsp;expose.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;factory<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;factory&nbsp;to&nbsp;create&nbsp;the&nbsp;map&nbsp;instance&nbsp;to&nbsp;expose.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;LazyMap(Factory&amp;lt;Map&amp;lt;K,&nbsp;V&amp;gt;&amp;gt;&nbsp;factory)&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.factory&nbsp;=&nbsp;factory;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Performs&nbsp;lazy&nbsp;initialization&nbsp;of&nbsp;the&nbsp;map&nbsp;if&nbsp;not&nbsp;already&nbsp;performed,&nbsp;and&nbsp;returns<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;the&nbsp;initialized&nbsp;map.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Performs&nbsp;lazy&nbsp;initialization&nbsp;of&nbsp;the&nbsp;map&nbsp;if&nbsp;not&nbsp;already&nbsp;performed,&nbsp;and<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;returns&nbsp;the&nbsp;initialized&nbsp;map.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;Map&amp;lt;K,&nbsp;V&amp;gt;&nbsp;lazy()&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(map&nbsp;==&nbsp;null)&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-83,10&nbsp;+88,13&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Returns&nbsp;{@code&nbsp;true}&nbsp;if&nbsp;this&nbsp;map&nbsp;contains&nbsp;a&nbsp;mapping&nbsp;for&nbsp;the&nbsp;specified&nbsp;key.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Returns&nbsp;{@code&nbsp;true}&nbsp;if&nbsp;this&nbsp;map&nbsp;contains&nbsp;a&nbsp;mapping&nbsp;for&nbsp;the&nbsp;specified<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;key.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;key&nbsp;the&nbsp;key&nbsp;whose&nbsp;presence&nbsp;in&nbsp;this&nbsp;map&nbsp;is&nbsp;to&nbsp;be&nbsp;tested.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;{@code&nbsp;true}&nbsp;if&nbsp;this&nbsp;map&nbsp;contains&nbsp;a&nbsp;mapping&nbsp;for&nbsp;the&nbsp;specified&nbsp;key.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;key<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;key&nbsp;whose&nbsp;presence&nbsp;in&nbsp;this&nbsp;map&nbsp;is&nbsp;to&nbsp;be&nbsp;tested.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;{@code&nbsp;true}&nbsp;if&nbsp;this&nbsp;map&nbsp;contains&nbsp;a&nbsp;mapping&nbsp;for&nbsp;the&nbsp;specified<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;boolean&nbsp;containsKey(Object&nbsp;key)&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-94,10&nbsp;+102,13&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Returns&nbsp;{@code&nbsp;true}&nbsp;if&nbsp;the&nbsp;map&nbsp;maps&nbsp;one&nbsp;or&nbsp;more&nbsp;keys&nbsp;to&nbsp;the&nbsp;specified&nbsp;value.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Returns&nbsp;{@code&nbsp;true}&nbsp;if&nbsp;the&nbsp;map&nbsp;maps&nbsp;one&nbsp;or&nbsp;more&nbsp;keys&nbsp;to&nbsp;the&nbsp;specified<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;value.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;value&nbsp;the&nbsp;value&nbsp;whose&nbsp;presence&nbsp;in&nbsp;the&nbsp;map&nbsp;is&nbsp;to&nbsp;be&nbsp;tested.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;{@code&nbsp;true}&nbsp;if&nbsp;the&nbsp;map&nbsp;maps&nbsp;one&nbsp;or&nbsp;more&nbsp;keys&nbsp;to&nbsp;the&nbsp;specified&nbsp;value.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;value<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;value&nbsp;whose&nbsp;presence&nbsp;in&nbsp;the&nbsp;map&nbsp;is&nbsp;to&nbsp;be&nbsp;tested.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;{@code&nbsp;true}&nbsp;if&nbsp;the&nbsp;map&nbsp;maps&nbsp;one&nbsp;or&nbsp;more&nbsp;keys&nbsp;to&nbsp;the&nbsp;specified<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;boolean&nbsp;containsValue(Object&nbsp;value)&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-105,11&nbsp;+116,13&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Returns&nbsp;the&nbsp;value&nbsp;to&nbsp;which&nbsp;the&nbsp;specified&nbsp;key&nbsp;is&nbsp;mapped,&nbsp;or&nbsp;{@code&nbsp;null}&nbsp;if&nbsp;the&nbsp;map<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;contains&nbsp;no&nbsp;mapping&nbsp;for&nbsp;the&nbsp;key.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Returns&nbsp;the&nbsp;value&nbsp;to&nbsp;which&nbsp;the&nbsp;specified&nbsp;key&nbsp;is&nbsp;mapped,&nbsp;or&nbsp;{@code&nbsp;null}<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;if&nbsp;the&nbsp;map&nbsp;contains&nbsp;no&nbsp;mapping&nbsp;for&nbsp;the&nbsp;key.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;key&nbsp;the&nbsp;key&nbsp;whose&nbsp;associated&nbsp;value&nbsp;is&nbsp;to&nbsp;be&nbsp;returned.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;the&nbsp;value&nbsp;to&nbsp;which&nbsp;the&nbsp;specified&nbsp;key&nbsp;is&nbsp;mapped,&nbsp;or&nbsp;{@code&nbsp;null}&nbsp;if&nbsp;no&nbsp;mapping.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;key<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;key&nbsp;whose&nbsp;associated&nbsp;value&nbsp;is&nbsp;to&nbsp;be&nbsp;returned.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;the&nbsp;value&nbsp;to&nbsp;which&nbsp;the&nbsp;specified&nbsp;key&nbsp;is&nbsp;mapped,&nbsp;or&nbsp;{@code&nbsp;null}<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;no&nbsp;mapping.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;V&nbsp;get(Object&nbsp;key)&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-118,10&nbsp;+131,13&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Associates&nbsp;the&nbsp;specified&nbsp;value&nbsp;with&nbsp;the&nbsp;specified&nbsp;key&nbsp;in&nbsp;the&nbsp;map.<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;key&nbsp;key&nbsp;with&nbsp;which&nbsp;the&nbsp;specified&nbsp;value&nbsp;is&nbsp;to&nbsp;be&nbsp;associated.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;value&nbsp;value&nbsp;to&nbsp;be&nbsp;associated&nbsp;with&nbsp;the&nbsp;specified&nbsp;key.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;the&nbsp;previous&nbsp;value&nbsp;associated&nbsp;with&nbsp;key,&nbsp;or&nbsp;{@code&nbsp;null}&nbsp;if&nbsp;no&nbsp;mapping.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;key<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key&nbsp;with&nbsp;which&nbsp;the&nbsp;specified&nbsp;value&nbsp;is&nbsp;to&nbsp;be&nbsp;associated.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;value<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;to&nbsp;be&nbsp;associated&nbsp;with&nbsp;the&nbsp;specified&nbsp;key.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;the&nbsp;previous&nbsp;value&nbsp;associated&nbsp;with&nbsp;key,&nbsp;or&nbsp;{@code&nbsp;null}&nbsp;if&nbsp;no<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;V&nbsp;put(K&nbsp;key,&nbsp;V&nbsp;value)&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-131,8&nbsp;+147,10&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Removes&nbsp;the&nbsp;mapping&nbsp;for&nbsp;a&nbsp;key&nbsp;from&nbsp;the&nbsp;map&nbsp;if&nbsp;it&nbsp;is&nbsp;present.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;key&nbsp;key&nbsp;whose&nbsp;mapping&nbsp;is&nbsp;to&nbsp;be&nbsp;removed&nbsp;from&nbsp;the&nbsp;map.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;the&nbsp;previous&nbsp;value&nbsp;associated&nbsp;with&nbsp;key,&nbsp;or&nbsp;{@code&nbsp;null}&nbsp;if&nbsp;no&nbsp;mapping.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;key<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key&nbsp;whose&nbsp;mapping&nbsp;is&nbsp;to&nbsp;be&nbsp;removed&nbsp;from&nbsp;the&nbsp;map.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;the&nbsp;previous&nbsp;value&nbsp;associated&nbsp;with&nbsp;key,&nbsp;or&nbsp;{@code&nbsp;null}&nbsp;if&nbsp;no<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;V&nbsp;remove(Object&nbsp;key)&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-141,8&nbsp;+159,9&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Copies&nbsp;all&nbsp;of&nbsp;the&nbsp;mappings&nbsp;from&nbsp;the&nbsp;specified&nbsp;map&nbsp;to&nbsp;the&nbsp;map.<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;m&nbsp;mappings&nbsp;to&nbsp;be&nbsp;stored&nbsp;in&nbsp;the&nbsp;map.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;m<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mappings&nbsp;to&nbsp;be&nbsp;stored&nbsp;in&nbsp;the&nbsp;map.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;putAll(Map&amp;lt;?&nbsp;extends&nbsp;K,&nbsp;?&nbsp;extends&nbsp;V&amp;gt;&nbsp;m)&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-192,7&nbsp;+211,8&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Compares&nbsp;the&nbsp;specified&nbsp;object&nbsp;with&nbsp;the&nbsp;map&nbsp;for&nbsp;equality.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;o&nbsp;object&nbsp;to&nbsp;be&nbsp;compared&nbsp;for&nbsp;equality&nbsp;with&nbsp;the&nbsp;map.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;o<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;object&nbsp;to&nbsp;be&nbsp;compared&nbsp;for&nbsp;equality&nbsp;with&nbsp;the&nbsp;map.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;{@code&nbsp;true}&nbsp;if&nbsp;the&nbsp;specified&nbsp;object&nbsp;is&nbsp;equal&nbsp;to&nbsp;the&nbsp;map.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;<br>
&lt;a&nbsp;id=&quot;forgerockutiltrunksrcmainjavaorgforgerockutilListDecoratorjava&quot;&gt;&lt;/a&gt;<br>
&lt;div&nbsp;class=&quot;modfile&quot;&gt;&lt;h4&gt;Modified:&nbsp;forgerock-util/trunk/src/main/java/org/forgerock/util/ListDecorator.java&nbsp;(1407&nbsp;=&gt;&nbsp;1408)&lt;/h4&gt;<br>
&lt;pre&nbsp;class=&quot;diff&quot;&gt;&lt;span&gt;<br>
&lt;span&nbsp;class=&quot;info&quot;&gt;---&nbsp;forgerock-util/trunk/src/main/java/org/forgerock/util/ListDecorator.java&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp2013-12-19&nbsp;09:03:16&nbsp;UTC&nbsp;(rev&nbsp;1407)<br>
+++&nbsp;forgerock-util/trunk/src/main/java/org/forgerock/util/ListDecorator.java&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp2013-12-19&nbsp;14:46:21&nbsp;UTC&nbsp;(rev&nbsp;1408)<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-12,7&nbsp;+12,7&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*&nbsp;information:&nbsp;&amp;quot;Portions&nbsp;Copyrighted&nbsp;[year]&nbsp;[name&nbsp;of&nbsp;copyright&nbsp;owner]&amp;quot;.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*&nbsp;Copyright&nbsp;©&nbsp;2010–2011&nbsp;ApexIdentity&nbsp;Inc.&nbsp;All&nbsp;rights&nbsp;reserved.<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;*&nbsp;Portions&nbsp;Copyrighted&nbsp;2011&nbsp;ForgeRock&nbsp;AS.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;*&nbsp;Portions&nbsp;Copyright&nbsp;2011-2013&nbsp;ForgeRock&nbsp;AS.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;package&nbsp;org.forgerock.util;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-24,10&nbsp;+24,11&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;import&nbsp;java.util.ListIterator;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;/**<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;*&nbsp;Wraps&nbsp;another&nbsp;map.&nbsp;All&nbsp;methods&nbsp;simply&nbsp;call&nbsp;through&nbsp;to&nbsp;the&nbsp;wrapped&nbsp;map.&nbsp;Subclasses&nbsp;are<br>
-&nbsp;*&nbsp;expected&nbsp;to&nbsp;override&nbsp;one&nbsp;or&nbsp;more&nbsp;of&nbsp;these&nbsp;methods.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;*&nbsp;Wraps&nbsp;another&nbsp;map.&nbsp;All&nbsp;methods&nbsp;simply&nbsp;call&nbsp;through&nbsp;to&nbsp;the&nbsp;wrapped&nbsp;map.<br>
+&nbsp;*&nbsp;Subclasses&nbsp;are&nbsp;expected&nbsp;to&nbsp;override&nbsp;one&nbsp;or&nbsp;more&nbsp;of&nbsp;these&nbsp;methods.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;*&nbsp;@author&nbsp;Paul&nbsp;C.&nbsp;Bryan<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;*&nbsp;@param&nbsp;&amp;lt;E&amp;gt;<br>
+&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;type&nbsp;of&nbsp;element&nbsp;contained&nbsp;in&nbsp;this&nbsp;list.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;public&nbsp;class&nbsp;ListDecorator&amp;lt;E&amp;gt;&nbsp;implements&nbsp;List&amp;lt;E&amp;gt;&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-37,7&nbsp;+38,8&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Constructs&nbsp;a&nbsp;new&nbsp;list&nbsp;decorator,&nbsp;wrapping&nbsp;the&nbsp;specified&nbsp;list.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;list&nbsp;the&nbsp;list&nbsp;to&nbsp;wrap&nbsp;with&nbsp;the&nbsp;decorator.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;list<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;list&nbsp;to&nbsp;wrap&nbsp;with&nbsp;the&nbsp;decorator.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;ListDecorator(List&amp;lt;E&amp;gt;&nbsp;list)&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(list&nbsp;==&nbsp;null)&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-65,7&nbsp;+67,8&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Returns&nbsp;{@code&nbsp;true}&nbsp;if&nbsp;this&nbsp;list&nbsp;contains&nbsp;the&nbsp;specified&nbsp;element.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;o&nbsp;the&nbsp;element&nbsp;whose&nbsp;presence&nbsp;in&nbsp;this&nbsp;list&nbsp;is&nbsp;to&nbsp;be&nbsp;tested.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;o<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;element&nbsp;whose&nbsp;presence&nbsp;in&nbsp;this&nbsp;list&nbsp;is&nbsp;to&nbsp;be&nbsp;tested.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;{@code&nbsp;true}&nbsp;if&nbsp;this&nbsp;list&nbsp;contains&nbsp;the&nbsp;specified&nbsp;element.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-82,8&nbsp;+85,8&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Returns&nbsp;an&nbsp;array&nbsp;containing&nbsp;all&nbsp;of&nbsp;the&nbsp;elements&nbsp;in&nbsp;this&nbsp;list&nbsp;in&nbsp;proper&nbsp;sequence<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;(from&nbsp;first&nbsp;to&nbsp;last&nbsp;element).<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Returns&nbsp;an&nbsp;array&nbsp;containing&nbsp;all&nbsp;of&nbsp;the&nbsp;elements&nbsp;in&nbsp;this&nbsp;list&nbsp;in&nbsp;proper<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;sequence&nbsp;(from&nbsp;first&nbsp;to&nbsp;last&nbsp;element).<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;Object[]&nbsp;toArray()&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-91,13&nbsp;+94,15&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Returns&nbsp;an&nbsp;array&nbsp;containing&nbsp;all&nbsp;of&nbsp;the&nbsp;elements&nbsp;in&nbsp;this&nbsp;list&nbsp;in&nbsp;proper&nbsp;sequence<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;(from&nbsp;first&nbsp;to&nbsp;last&nbsp;element);&nbsp;the&nbsp;runtime&nbsp;type&nbsp;of&nbsp;the&nbsp;returned&nbsp;array&nbsp;is&nbsp;that&nbsp;of&nbsp;the<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;specified&nbsp;array.&nbsp;If&nbsp;the&nbsp;list&nbsp;fits&nbsp;in&nbsp;the&nbsp;specified&nbsp;array,&nbsp;it&nbsp;is&nbsp;returned&nbsp;therein.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Otherwise,&nbsp;a&nbsp;new&nbsp;array&nbsp;is&nbsp;allocated&nbsp;with&nbsp;the&nbsp;runtime&nbsp;type&nbsp;of&nbsp;the&nbsp;specified&nbsp;array&nbsp;and<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;the&nbsp;size&nbsp;of&nbsp;this&nbsp;list.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Returns&nbsp;an&nbsp;array&nbsp;containing&nbsp;all&nbsp;of&nbsp;the&nbsp;elements&nbsp;in&nbsp;this&nbsp;list&nbsp;in&nbsp;proper<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;sequence&nbsp;(from&nbsp;first&nbsp;to&nbsp;last&nbsp;element);&nbsp;the&nbsp;runtime&nbsp;type&nbsp;of&nbsp;the&nbsp;returned<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;array&nbsp;is&nbsp;that&nbsp;of&nbsp;the&nbsp;specified&nbsp;array.&nbsp;If&nbsp;the&nbsp;list&nbsp;fits&nbsp;in&nbsp;the&nbsp;specified<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;array,&nbsp;it&nbsp;is&nbsp;returned&nbsp;therein.&nbsp;Otherwise,&nbsp;a&nbsp;new&nbsp;array&nbsp;is&nbsp;allocated&nbsp;with<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;the&nbsp;runtime&nbsp;type&nbsp;of&nbsp;the&nbsp;specified&nbsp;array&nbsp;and&nbsp;the&nbsp;size&nbsp;of&nbsp;this&nbsp;list.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;a&nbsp;the&nbsp;array&nbsp;into&nbsp;which&nbsp;the&nbsp;elements&nbsp;of&nbsp;this&nbsp;list&nbsp;are&nbsp;to&nbsp;be&nbsp;stored.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;a<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;array&nbsp;into&nbsp;which&nbsp;the&nbsp;elements&nbsp;of&nbsp;this&nbsp;list&nbsp;are&nbsp;to&nbsp;be<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stored.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;an&nbsp;array&nbsp;containing&nbsp;the&nbsp;elements&nbsp;of&nbsp;this&nbsp;list.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-108,7&nbsp;+113,8&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Appends&nbsp;the&nbsp;specified&nbsp;element&nbsp;to&nbsp;the&nbsp;end&nbsp;of&nbsp;this&nbsp;list.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;e&nbsp;the&nbsp;element&nbsp;to&nbsp;be&nbsp;appended&nbsp;to&nbsp;this&nbsp;list.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;e<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;element&nbsp;to&nbsp;be&nbsp;appended&nbsp;to&nbsp;this&nbsp;list.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;{@code&nbsp;true}&nbsp;if&nbsp;this&nbsp;list&nbsp;changed&nbsp;as&nbsp;a&nbsp;result&nbsp;of&nbsp;the&nbsp;call.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-117,9&nbsp;+123,11&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Removes&nbsp;the&nbsp;first&nbsp;occurrence&nbsp;of&nbsp;the&nbsp;specified&nbsp;element&nbsp;from&nbsp;this&nbsp;list,&nbsp;if&nbsp;it&nbsp;is&nbsp;present.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Removes&nbsp;the&nbsp;first&nbsp;occurrence&nbsp;of&nbsp;the&nbsp;specified&nbsp;element&nbsp;from&nbsp;this&nbsp;list,&nbsp;if<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;it&nbsp;is&nbsp;present.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;o&nbsp;the&nbsp;element&nbsp;to&nbsp;be&nbsp;removed&nbsp;from&nbsp;this&nbsp;list,&nbsp;if&nbsp;present.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;o<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;element&nbsp;to&nbsp;be&nbsp;removed&nbsp;from&nbsp;this&nbsp;list,&nbsp;if&nbsp;present.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;true&nbsp;if&nbsp;this&nbsp;list&nbsp;contained&nbsp;the&nbsp;specified&nbsp;element.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-128,11&nbsp;+136,13&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Returns&nbsp;{@code&nbsp;true}&nbsp;if&nbsp;this&nbsp;list&nbsp;contains&nbsp;all&nbsp;of&nbsp;the&nbsp;elements&nbsp;of&nbsp;the&nbsp;specified<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;collection.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Returns&nbsp;{@code&nbsp;true}&nbsp;if&nbsp;this&nbsp;list&nbsp;contains&nbsp;all&nbsp;of&nbsp;the&nbsp;elements&nbsp;of&nbsp;the<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;specified&nbsp;collection.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;c&nbsp;the&nbsp;collection&nbsp;to&nbsp;be&nbsp;checked&nbsp;for&nbsp;containment&nbsp;in&nbsp;this&nbsp;list.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;{@code&nbsp;true}&nbsp;if&nbsp;this&nbsp;list&nbsp;contains&nbsp;all&nbsp;of&nbsp;the&nbsp;elements&nbsp;of&nbsp;the&nbsp;specified&nbsp;collection.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;c<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;collection&nbsp;to&nbsp;be&nbsp;checked&nbsp;for&nbsp;containment&nbsp;in&nbsp;this&nbsp;list.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;{@code&nbsp;true}&nbsp;if&nbsp;this&nbsp;list&nbsp;contains&nbsp;all&nbsp;of&nbsp;the&nbsp;elements&nbsp;of&nbsp;the<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;specified&nbsp;collection.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;boolean&nbsp;containsAll(Collection&amp;lt;?&amp;gt;&nbsp;c)&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-140,10&nbsp;+150,12&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Appends&nbsp;all&nbsp;of&nbsp;the&nbsp;elements&nbsp;in&nbsp;the&nbsp;specified&nbsp;collection&nbsp;to&nbsp;the&nbsp;end&nbsp;of&nbsp;this&nbsp;list,&nbsp;in<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;the&nbsp;order&nbsp;that&nbsp;they&nbsp;are&nbsp;returned&nbsp;by&nbsp;the&nbsp;specified&nbsp;collection's&nbsp;iterator.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Appends&nbsp;all&nbsp;of&nbsp;the&nbsp;elements&nbsp;in&nbsp;the&nbsp;specified&nbsp;collection&nbsp;to&nbsp;the&nbsp;end&nbsp;of<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;this&nbsp;list,&nbsp;in&nbsp;the&nbsp;order&nbsp;that&nbsp;they&nbsp;are&nbsp;returned&nbsp;by&nbsp;the&nbsp;specified<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;collection's&nbsp;iterator.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;c&nbsp;the&nbsp;collection&nbsp;containing&nbsp;elements&nbsp;to&nbsp;be&nbsp;added&nbsp;to&nbsp;this&nbsp;list.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;c<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;collection&nbsp;containing&nbsp;elements&nbsp;to&nbsp;be&nbsp;added&nbsp;to&nbsp;this&nbsp;list.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;{@code&nbsp;true}&nbsp;if&nbsp;this&nbsp;list&nbsp;changed&nbsp;as&nbsp;a&nbsp;result&nbsp;of&nbsp;the&nbsp;call.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-152,11&nbsp;+164,14&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Inserts&nbsp;all&nbsp;of&nbsp;the&nbsp;elements&nbsp;in&nbsp;the&nbsp;specified&nbsp;collection&nbsp;into&nbsp;this&nbsp;list&nbsp;at&nbsp;the<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;specified&nbsp;position.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Inserts&nbsp;all&nbsp;of&nbsp;the&nbsp;elements&nbsp;in&nbsp;the&nbsp;specified&nbsp;collection&nbsp;into&nbsp;this&nbsp;list&nbsp;at<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;the&nbsp;specified&nbsp;position.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;index&nbsp;the&nbsp;index&nbsp;at&nbsp;which&nbsp;to&nbsp;insert&nbsp;the&nbsp;first&nbsp;element&nbsp;from&nbsp;the&nbsp;specified&nbsp;collection.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;c&nbsp;the&nbsp;collection&nbsp;containing&nbsp;elements&nbsp;to&nbsp;be&nbsp;added&nbsp;to&nbsp;this&nbsp;list.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;index<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;index&nbsp;at&nbsp;which&nbsp;to&nbsp;insert&nbsp;the&nbsp;first&nbsp;element&nbsp;from&nbsp;the<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;specified&nbsp;collection.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;c<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;collection&nbsp;containing&nbsp;elements&nbsp;to&nbsp;be&nbsp;added&nbsp;to&nbsp;this&nbsp;list.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;{@code&nbsp;true}&nbsp;if&nbsp;this&nbsp;list&nbsp;changed&nbsp;as&nbsp;a&nbsp;result&nbsp;of&nbsp;the&nbsp;call.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-165,10&nbsp;+180,12&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Removes&nbsp;from&nbsp;this&nbsp;list&nbsp;all&nbsp;of&nbsp;its&nbsp;elements&nbsp;that&nbsp;are&nbsp;contained&nbsp;in&nbsp;the&nbsp;specified<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;collection.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Removes&nbsp;from&nbsp;this&nbsp;list&nbsp;all&nbsp;of&nbsp;its&nbsp;elements&nbsp;that&nbsp;are&nbsp;contained&nbsp;in&nbsp;the<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;specified&nbsp;collection.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;c&nbsp;the&nbsp;collection&nbsp;containing&nbsp;elements&nbsp;to&nbsp;be&nbsp;removed&nbsp;from&nbsp;this&nbsp;list.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;c<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;collection&nbsp;containing&nbsp;elements&nbsp;to&nbsp;be&nbsp;removed&nbsp;from&nbsp;this<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;{@code&nbsp;true}&nbsp;if&nbsp;this&nbsp;list&nbsp;changed&nbsp;as&nbsp;a&nbsp;result&nbsp;of&nbsp;the&nbsp;call.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-177,9&nbsp;+194,12&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Retains&nbsp;only&nbsp;the&nbsp;elements&nbsp;in&nbsp;this&nbsp;list&nbsp;that&nbsp;are&nbsp;contained&nbsp;in&nbsp;the&nbsp;specified&nbsp;collection.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Retains&nbsp;only&nbsp;the&nbsp;elements&nbsp;in&nbsp;this&nbsp;list&nbsp;that&nbsp;are&nbsp;contained&nbsp;in&nbsp;the<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;specified&nbsp;collection.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;c&nbsp;the&nbsp;collection&nbsp;containing&nbsp;elements&nbsp;to&nbsp;be&nbsp;retained&nbsp;in&nbsp;this&nbsp;list.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;c<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;collection&nbsp;containing&nbsp;elements&nbsp;to&nbsp;be&nbsp;retained&nbsp;in&nbsp;this<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;{@code&nbsp;true}&nbsp;if&nbsp;this&nbsp;list&nbsp;changed&nbsp;as&nbsp;a&nbsp;result&nbsp;of&nbsp;the&nbsp;call.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-198,7&nbsp;+218,8&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Compares&nbsp;the&nbsp;specified&nbsp;object&nbsp;with&nbsp;this&nbsp;list&nbsp;for&nbsp;equality.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;o&nbsp;the&nbsp;object&nbsp;to&nbsp;be&nbsp;compared&nbsp;for&nbsp;equality&nbsp;with&nbsp;this&nbsp;list.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;o<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;object&nbsp;to&nbsp;be&nbsp;compared&nbsp;for&nbsp;equality&nbsp;with&nbsp;this&nbsp;list.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;{@code&nbsp;true}&nbsp;if&nbsp;the&nbsp;specified&nbsp;object&nbsp;is&nbsp;equal&nbsp;to&nbsp;this&nbsp;list.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-217,7&nbsp;+238,8&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Returns&nbsp;the&nbsp;element&nbsp;at&nbsp;the&nbsp;specified&nbsp;position&nbsp;in&nbsp;this&nbsp;list.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;index&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;element&nbsp;to&nbsp;return.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;index<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;element&nbsp;to&nbsp;return.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;the&nbsp;element&nbsp;at&nbsp;the&nbsp;specified&nbsp;position&nbsp;in&nbsp;this&nbsp;list.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-226,10&nbsp;+248,13&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Replaces&nbsp;the&nbsp;element&nbsp;at&nbsp;the&nbsp;specified&nbsp;position&nbsp;in&nbsp;this&nbsp;list&nbsp;with&nbsp;the&nbsp;specified&nbsp;element.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Replaces&nbsp;the&nbsp;element&nbsp;at&nbsp;the&nbsp;specified&nbsp;position&nbsp;in&nbsp;this&nbsp;list&nbsp;with&nbsp;the<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;specified&nbsp;element.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;index&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;element&nbsp;to&nbsp;replace.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;element&nbsp;the&nbsp;element&nbsp;to&nbsp;be&nbsp;stored&nbsp;at&nbsp;the&nbsp;specified&nbsp;position.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;index<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;element&nbsp;to&nbsp;replace.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;element<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;element&nbsp;to&nbsp;be&nbsp;stored&nbsp;at&nbsp;the&nbsp;specified&nbsp;position.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;the&nbsp;element&nbsp;previously&nbsp;at&nbsp;the&nbsp;specified&nbsp;position.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-240,8&nbsp;+265,10&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Inserts&nbsp;the&nbsp;specified&nbsp;element&nbsp;at&nbsp;the&nbsp;specified&nbsp;position&nbsp;in&nbsp;this&nbsp;list.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;index&nbsp;the&nbsp;index&nbsp;at&nbsp;which&nbsp;the&nbsp;specified&nbsp;element&nbsp;is&nbsp;to&nbsp;be&nbsp;inserted.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;element&nbsp;the&nbsp;element&nbsp;to&nbsp;be&nbsp;inserted.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;index<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;index&nbsp;at&nbsp;which&nbsp;the&nbsp;specified&nbsp;element&nbsp;is&nbsp;to&nbsp;be&nbsp;inserted.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;element<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;element&nbsp;to&nbsp;be&nbsp;inserted.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;add(int&nbsp;index,&nbsp;E&nbsp;element)&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-251,7&nbsp;+278,8&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Removes&nbsp;the&nbsp;element&nbsp;at&nbsp;the&nbsp;specified&nbsp;position&nbsp;in&nbsp;this&nbsp;list.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;index&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;element&nbsp;to&nbsp;be&nbsp;removed.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;index<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;element&nbsp;to&nbsp;be&nbsp;removed.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;the&nbsp;element&nbsp;previously&nbsp;at&nbsp;the&nbsp;specified&nbsp;position.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-260,11&nbsp;+288,13&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Returns&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;first&nbsp;occurrence&nbsp;of&nbsp;the&nbsp;specified&nbsp;element&nbsp;in&nbsp;this&nbsp;list,<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;or&nbsp;{@code&nbsp;-1}&nbsp;if&nbsp;this&nbsp;list&nbsp;does&nbsp;not&nbsp;contain&nbsp;the&nbsp;element.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Returns&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;first&nbsp;occurrence&nbsp;of&nbsp;the&nbsp;specified&nbsp;element&nbsp;in<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;this&nbsp;list,&nbsp;or&nbsp;{@code&nbsp;-1}&nbsp;if&nbsp;this&nbsp;list&nbsp;does&nbsp;not&nbsp;contain&nbsp;the&nbsp;element.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;o&nbsp;element&nbsp;to&nbsp;search&nbsp;for.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;first&nbsp;occurrence,&nbsp;or&nbsp;{@code&nbsp;-1}&nbsp;if&nbsp;no&nbsp;such&nbsp;element.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;o<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;element&nbsp;to&nbsp;search&nbsp;for.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;first&nbsp;occurrence,&nbsp;or&nbsp;{@code&nbsp;-1}&nbsp;if&nbsp;no&nbsp;such<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;element.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;int&nbsp;indexOf(Object&nbsp;o)&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-272,11&nbsp;+302,13&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Returns&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;last&nbsp;occurrence&nbsp;of&nbsp;the&nbsp;specified&nbsp;element&nbsp;in&nbsp;this&nbsp;list,&nbsp;or<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;{@code&nbsp;-1}&nbsp;if&nbsp;this&nbsp;list&nbsp;does&nbsp;not&nbsp;contain&nbsp;the&nbsp;element.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Returns&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;last&nbsp;occurrence&nbsp;of&nbsp;the&nbsp;specified&nbsp;element&nbsp;in&nbsp;this<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;list,&nbsp;or&nbsp;{@code&nbsp;-1}&nbsp;if&nbsp;this&nbsp;list&nbsp;does&nbsp;not&nbsp;contain&nbsp;the&nbsp;element.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;o&nbsp;the&nbsp;element&nbsp;to&nbsp;search&nbsp;for.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;last&nbsp;occurrence,&nbsp;or&nbsp;{@code&nbsp;-1}&nbsp;if&nbsp;no&nbsp;such&nbsp;element.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;o<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;element&nbsp;to&nbsp;search&nbsp;for.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;last&nbsp;occurrence,&nbsp;or&nbsp;{@code&nbsp;-1}&nbsp;if&nbsp;no&nbsp;such<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;element.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;int&nbsp;lastIndexOf(Object&nbsp;o)&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-284,7&nbsp;+316,8&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Returns&nbsp;a&nbsp;list&nbsp;iterator&nbsp;over&nbsp;the&nbsp;elements&nbsp;in&nbsp;this&nbsp;list&nbsp;(in&nbsp;proper&nbsp;sequence).<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Returns&nbsp;a&nbsp;list&nbsp;iterator&nbsp;over&nbsp;the&nbsp;elements&nbsp;in&nbsp;this&nbsp;list&nbsp;(in&nbsp;proper<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;sequence).<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;ListIterator&amp;lt;E&amp;gt;&nbsp;listIterator()&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-292,10&nbsp;+325,12&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Returns&nbsp;a&nbsp;list&nbsp;iterator&nbsp;over&nbsp;the&nbsp;elements&nbsp;in&nbsp;this&nbsp;list&nbsp;(in&nbsp;proper&nbsp;sequence),<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;starting&nbsp;at&nbsp;the&nbsp;specified&nbsp;position&nbsp;in&nbsp;the&nbsp;list.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Returns&nbsp;a&nbsp;list&nbsp;iterator&nbsp;over&nbsp;the&nbsp;elements&nbsp;in&nbsp;this&nbsp;list&nbsp;(in&nbsp;proper<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;sequence),&nbsp;starting&nbsp;at&nbsp;the&nbsp;specified&nbsp;position&nbsp;in&nbsp;the&nbsp;list.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;index&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;first&nbsp;element&nbsp;to&nbsp;be&nbsp;returned&nbsp;from&nbsp;the&nbsp;list&nbsp;iterator.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;index<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;first&nbsp;element&nbsp;to&nbsp;be&nbsp;returned&nbsp;from&nbsp;the&nbsp;list<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;iterator.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;a&nbsp;list&nbsp;iterator,&nbsp;starting&nbsp;at&nbsp;the&nbsp;specified&nbsp;position&nbsp;in&nbsp;the&nbsp;list.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-304,11&nbsp;+339,13&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Returns&nbsp;a&nbsp;view&nbsp;of&nbsp;the&nbsp;portion&nbsp;of&nbsp;this&nbsp;list&nbsp;between&nbsp;the&nbsp;specified&nbsp;fromIndex,<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;inclusive,&nbsp;and&nbsp;toIndex,&nbsp;exclusive.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Returns&nbsp;a&nbsp;view&nbsp;of&nbsp;the&nbsp;portion&nbsp;of&nbsp;this&nbsp;list&nbsp;between&nbsp;the&nbsp;specified<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;fromIndex,&nbsp;inclusive,&nbsp;and&nbsp;toIndex,&nbsp;exclusive.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;fromIndex&nbsp;low&nbsp;endpoint&nbsp;(inclusive)&nbsp;of&nbsp;the&nbsp;subList.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;toIndex&nbsp;high&nbsp;endpoint&nbsp;(exclusive)&nbsp;of&nbsp;the&nbsp;subList.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;fromIndex<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;low&nbsp;endpoint&nbsp;(inclusive)&nbsp;of&nbsp;the&nbsp;subList.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;toIndex<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;high&nbsp;endpoint&nbsp;(exclusive)&nbsp;of&nbsp;the&nbsp;subList.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;a&nbsp;view&nbsp;of&nbsp;the&nbsp;specified&nbsp;range&nbsp;within&nbsp;this&nbsp;list.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;<br>
&lt;a&nbsp;id=&quot;forgerockutiltrunksrcmainjavaorgforgerockutilMapDecoratorjava&quot;&gt;&lt;/a&gt;<br>
&lt;div&nbsp;class=&quot;modfile&quot;&gt;&lt;h4&gt;Modified:&nbsp;forgerock-util/trunk/src/main/java/org/forgerock/util/MapDecorator.java&nbsp;(1407&nbsp;=&gt;&nbsp;1408)&lt;/h4&gt;<br>
&lt;pre&nbsp;class=&quot;diff&quot;&gt;&lt;span&gt;<br>
&lt;span&nbsp;class=&quot;info&quot;&gt;---&nbsp;forgerock-util/trunk/src/main/java/org/forgerock/util/MapDecorator.java&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp2013-12-19&nbsp;09:03:16&nbsp;UTC&nbsp;(rev&nbsp;1407)<br>
+++&nbsp;forgerock-util/trunk/src/main/java/org/forgerock/util/MapDecorator.java&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp2013-12-19&nbsp;14:46:21&nbsp;UTC&nbsp;(rev&nbsp;1408)<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-12,7&nbsp;+12,7&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*&nbsp;information:&nbsp;&amp;quot;Portions&nbsp;Copyrighted&nbsp;[year]&nbsp;[name&nbsp;of&nbsp;copyright&nbsp;owner]&amp;quot;.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*&nbsp;Copyright&nbsp;©&nbsp;2010–2011&nbsp;ApexIdentity&nbsp;Inc.&nbsp;All&nbsp;rights&nbsp;reserved.<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;*&nbsp;Portions&nbsp;Copyrighted&nbsp;2011&nbsp;ForgeRock&nbsp;AS.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;*&nbsp;Portions&nbsp;Copyright&nbsp;2011-2013&nbsp;ForgeRock&nbsp;AS.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;package&nbsp;org.forgerock.util;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-23,10&nbsp;+23,13&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;import&nbsp;java.util.Set;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;/**<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;*&nbsp;Wraps&nbsp;another&nbsp;map.&nbsp;All&nbsp;methods&nbsp;simply&nbsp;call&nbsp;through&nbsp;to&nbsp;the&nbsp;wrapped&nbsp;map.&nbsp;Subclasses&nbsp;are<br>
-&nbsp;*&nbsp;expected&nbsp;to&nbsp;override&nbsp;one&nbsp;or&nbsp;more&nbsp;of&nbsp;these&nbsp;methods.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;*&nbsp;Wraps&nbsp;another&nbsp;map.&nbsp;All&nbsp;methods&nbsp;simply&nbsp;call&nbsp;through&nbsp;to&nbsp;the&nbsp;wrapped&nbsp;map.<br>
+&nbsp;*&nbsp;Subclasses&nbsp;are&nbsp;expected&nbsp;to&nbsp;override&nbsp;one&nbsp;or&nbsp;more&nbsp;of&nbsp;these&nbsp;methods.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;*&nbsp;@author&nbsp;Paul&nbsp;C.&nbsp;Bryan<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;*&nbsp;@param&nbsp;&amp;lt;K&amp;gt;<br>
+&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;type&nbsp;of&nbsp;key.<br>
+&nbsp;*&nbsp;@param&nbsp;&amp;lt;V&amp;gt;<br>
+&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;type&nbsp;of&nbsp;value.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;public&nbsp;class&nbsp;MapDecorator&amp;lt;K,&nbsp;V&amp;gt;&nbsp;implements&nbsp;Map&amp;lt;K,&nbsp;V&amp;gt;&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-36,8&nbsp;+39,10&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Constructs&nbsp;a&nbsp;new&nbsp;map&nbsp;decorator,&nbsp;wrapping&nbsp;the&nbsp;specified&nbsp;map.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;map&nbsp;the&nbsp;map&nbsp;to&nbsp;wrap&nbsp;with&nbsp;the&nbsp;decorator.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@throws&nbsp;NullPointerException&nbsp;if&nbsp;{@code&nbsp;map}&nbsp;is&nbsp;{@code&nbsp;null}.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;map<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;map&nbsp;to&nbsp;wrap&nbsp;with&nbsp;the&nbsp;decorator.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@throws&nbsp;NullPointerException<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;{@code&nbsp;map}&nbsp;is&nbsp;{@code&nbsp;null}.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;MapDecorator(Map&amp;lt;K,&nbsp;V&amp;gt;&nbsp;map)&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(map&nbsp;==&nbsp;null)&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-63,10&nbsp;+68,13&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Returns&nbsp;{@code&nbsp;true}&nbsp;if&nbsp;this&nbsp;map&nbsp;contains&nbsp;a&nbsp;mapping&nbsp;for&nbsp;the&nbsp;specified&nbsp;key.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Returns&nbsp;{@code&nbsp;true}&nbsp;if&nbsp;this&nbsp;map&nbsp;contains&nbsp;a&nbsp;mapping&nbsp;for&nbsp;the&nbsp;specified<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;key.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;key&nbsp;the&nbsp;key&nbsp;whose&nbsp;presence&nbsp;in&nbsp;this&nbsp;map&nbsp;is&nbsp;to&nbsp;be&nbsp;tested.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;{@code&nbsp;true}&nbsp;if&nbsp;this&nbsp;map&nbsp;contains&nbsp;a&nbsp;mapping&nbsp;for&nbsp;the&nbsp;specified&nbsp;key.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;key<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;key&nbsp;whose&nbsp;presence&nbsp;in&nbsp;this&nbsp;map&nbsp;is&nbsp;to&nbsp;be&nbsp;tested.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;{@code&nbsp;true}&nbsp;if&nbsp;this&nbsp;map&nbsp;contains&nbsp;a&nbsp;mapping&nbsp;for&nbsp;the&nbsp;specified<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;boolean&nbsp;containsKey(Object&nbsp;key)&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-74,10&nbsp;+82,13&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Returns&nbsp;{@code&nbsp;true}&nbsp;if&nbsp;the&nbsp;map&nbsp;maps&nbsp;one&nbsp;or&nbsp;more&nbsp;keys&nbsp;to&nbsp;the&nbsp;specified&nbsp;value.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Returns&nbsp;{@code&nbsp;true}&nbsp;if&nbsp;the&nbsp;map&nbsp;maps&nbsp;one&nbsp;or&nbsp;more&nbsp;keys&nbsp;to&nbsp;the&nbsp;specified<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;value.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;value&nbsp;the&nbsp;value&nbsp;whose&nbsp;presence&nbsp;in&nbsp;the&nbsp;map&nbsp;is&nbsp;to&nbsp;be&nbsp;tested.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;{@code&nbsp;true}&nbsp;if&nbsp;the&nbsp;map&nbsp;maps&nbsp;one&nbsp;or&nbsp;more&nbsp;keys&nbsp;to&nbsp;the&nbsp;specified&nbsp;value.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;value<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;value&nbsp;whose&nbsp;presence&nbsp;in&nbsp;the&nbsp;map&nbsp;is&nbsp;to&nbsp;be&nbsp;tested.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;{@code&nbsp;true}&nbsp;if&nbsp;the&nbsp;map&nbsp;maps&nbsp;one&nbsp;or&nbsp;more&nbsp;keys&nbsp;to&nbsp;the&nbsp;specified<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;boolean&nbsp;containsValue(Object&nbsp;value)&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-85,11&nbsp;+96,13&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Returns&nbsp;the&nbsp;value&nbsp;to&nbsp;which&nbsp;the&nbsp;specified&nbsp;key&nbsp;is&nbsp;mapped,&nbsp;or&nbsp;{@code&nbsp;null}&nbsp;if&nbsp;the&nbsp;map<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;contains&nbsp;no&nbsp;mapping&nbsp;for&nbsp;the&nbsp;key.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Returns&nbsp;the&nbsp;value&nbsp;to&nbsp;which&nbsp;the&nbsp;specified&nbsp;key&nbsp;is&nbsp;mapped,&nbsp;or&nbsp;{@code&nbsp;null}<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;if&nbsp;the&nbsp;map&nbsp;contains&nbsp;no&nbsp;mapping&nbsp;for&nbsp;the&nbsp;key.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;key&nbsp;the&nbsp;key&nbsp;whose&nbsp;associated&nbsp;value&nbsp;is&nbsp;to&nbsp;be&nbsp;returned.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;the&nbsp;value&nbsp;to&nbsp;which&nbsp;the&nbsp;specified&nbsp;key&nbsp;is&nbsp;mapped,&nbsp;or&nbsp;{@code&nbsp;null}&nbsp;if&nbsp;no&nbsp;mapping.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;key<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;key&nbsp;whose&nbsp;associated&nbsp;value&nbsp;is&nbsp;to&nbsp;be&nbsp;returned.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;the&nbsp;value&nbsp;to&nbsp;which&nbsp;the&nbsp;specified&nbsp;key&nbsp;is&nbsp;mapped,&nbsp;or&nbsp;{@code&nbsp;null}<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;no&nbsp;mapping.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;V&nbsp;get(Object&nbsp;key)&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-98,10&nbsp;+111,13&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Associates&nbsp;the&nbsp;specified&nbsp;value&nbsp;with&nbsp;the&nbsp;specified&nbsp;key&nbsp;in&nbsp;the&nbsp;map.<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;key&nbsp;key&nbsp;with&nbsp;which&nbsp;the&nbsp;specified&nbsp;value&nbsp;is&nbsp;to&nbsp;be&nbsp;associated.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;value&nbsp;value&nbsp;to&nbsp;be&nbsp;associated&nbsp;with&nbsp;the&nbsp;specified&nbsp;key.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;the&nbsp;previous&nbsp;value&nbsp;associated&nbsp;with&nbsp;key,&nbsp;or&nbsp;{@code&nbsp;null}&nbsp;if&nbsp;no&nbsp;mapping.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;key<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key&nbsp;with&nbsp;which&nbsp;the&nbsp;specified&nbsp;value&nbsp;is&nbsp;to&nbsp;be&nbsp;associated.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;value<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;to&nbsp;be&nbsp;associated&nbsp;with&nbsp;the&nbsp;specified&nbsp;key.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;the&nbsp;previous&nbsp;value&nbsp;associated&nbsp;with&nbsp;key,&nbsp;or&nbsp;{@code&nbsp;null}&nbsp;if&nbsp;no<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;V&nbsp;put(K&nbsp;key,&nbsp;V&nbsp;value)&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-111,8&nbsp;+127,10&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Removes&nbsp;the&nbsp;mapping&nbsp;for&nbsp;a&nbsp;key&nbsp;from&nbsp;the&nbsp;map&nbsp;if&nbsp;it&nbsp;is&nbsp;present.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;key&nbsp;key&nbsp;whose&nbsp;mapping&nbsp;is&nbsp;to&nbsp;be&nbsp;removed&nbsp;from&nbsp;the&nbsp;map.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;the&nbsp;previous&nbsp;value&nbsp;associated&nbsp;with&nbsp;key,&nbsp;or&nbsp;{@code&nbsp;null}&nbsp;if&nbsp;no&nbsp;mapping.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;key<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key&nbsp;whose&nbsp;mapping&nbsp;is&nbsp;to&nbsp;be&nbsp;removed&nbsp;from&nbsp;the&nbsp;map.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;the&nbsp;previous&nbsp;value&nbsp;associated&nbsp;with&nbsp;key,&nbsp;or&nbsp;{@code&nbsp;null}&nbsp;if&nbsp;no<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;V&nbsp;remove(Object&nbsp;key)&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-121,8&nbsp;+139,9&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Copies&nbsp;all&nbsp;of&nbsp;the&nbsp;mappings&nbsp;from&nbsp;the&nbsp;specified&nbsp;map&nbsp;to&nbsp;the&nbsp;map.<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;m&nbsp;mappings&nbsp;to&nbsp;be&nbsp;stored&nbsp;in&nbsp;the&nbsp;map.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;m<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mappings&nbsp;to&nbsp;be&nbsp;stored&nbsp;in&nbsp;the&nbsp;map.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;putAll(Map&amp;lt;?&nbsp;extends&nbsp;K,&nbsp;?&nbsp;extends&nbsp;V&amp;gt;&nbsp;m)&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-172,7&nbsp;+191,8&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Compares&nbsp;the&nbsp;specified&nbsp;object&nbsp;with&nbsp;the&nbsp;map&nbsp;for&nbsp;equality.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;o&nbsp;object&nbsp;to&nbsp;be&nbsp;compared&nbsp;for&nbsp;equality&nbsp;with&nbsp;the&nbsp;map.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;o<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;object&nbsp;to&nbsp;be&nbsp;compared&nbsp;for&nbsp;equality&nbsp;with&nbsp;the&nbsp;map.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;{@code&nbsp;true}&nbsp;if&nbsp;the&nbsp;specified&nbsp;object&nbsp;is&nbsp;equal&nbsp;to&nbsp;the&nbsp;map.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;<br>
&lt;a&nbsp;id=&quot;forgerockutiltrunksrcmainjavaorgforgerockutilRangeSetjava&quot;&gt;&lt;/a&gt;<br>
&lt;div&nbsp;class=&quot;modfile&quot;&gt;&lt;h4&gt;Modified:&nbsp;forgerock-util/trunk/src/main/java/org/forgerock/util/RangeSet.java&nbsp;(1407&nbsp;=&gt;&nbsp;1408)&lt;/h4&gt;<br>
&lt;pre&nbsp;class=&quot;diff&quot;&gt;&lt;span&gt;<br>
&lt;span&nbsp;class=&quot;info&quot;&gt;---&nbsp;forgerock-util/trunk/src/main/java/org/forgerock/util/RangeSet.java&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp2013-12-19&nbsp;09:03:16&nbsp;UTC&nbsp;(rev&nbsp;1407)<br>
+++&nbsp;forgerock-util/trunk/src/main/java/org/forgerock/util/RangeSet.java&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp2013-12-19&nbsp;14:46:21&nbsp;UTC&nbsp;(rev&nbsp;1408)<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-11,7&nbsp;+11,7&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*&nbsp;Header,&nbsp;with&nbsp;the&nbsp;fields&nbsp;enclosed&nbsp;by&nbsp;brackets&nbsp;[]&nbsp;replaced&nbsp;by&nbsp;your&nbsp;own&nbsp;identifying<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*&nbsp;information:&nbsp;&amp;quot;Portions&nbsp;Copyrighted&nbsp;[year]&nbsp;[name&nbsp;of&nbsp;copyright&nbsp;owner]&amp;quot;.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;*&nbsp;Copyright&nbsp;©&nbsp;2011&nbsp;ForgeRock&nbsp;AS.&nbsp;All&nbsp;rights&nbsp;reserved.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;*&nbsp;Copyright&nbsp;2011-2013&nbsp;ForgeRock&nbsp;AS.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;package&nbsp;org.forgerock.util;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-19,10&nbsp;+19,8&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;//&nbsp;Java&nbsp;SE<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;import&nbsp;java.io.Serializable;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;import&nbsp;java.util.AbstractSet;<br>
&lt;/span&gt;&lt;del&gt;-import&nbsp;java.util.Collections;<br>
&lt;/del&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;import&nbsp;java.util.Iterator;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;import&nbsp;java.util.NoSuchElementException;<br>
&lt;/span&gt;&lt;del&gt;-import&nbsp;java.util.Set;<br>
&lt;/del&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;/**<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*&nbsp;Exposes&nbsp;a&nbsp;range&nbsp;of&nbsp;integer&nbsp;values&nbsp;as&nbsp;a&nbsp;set.&nbsp;Avoids&nbsp;the&nbsp;allocation&nbsp;of&nbsp;storage&nbsp;for&nbsp;all<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-31,13&nbsp;+29,11&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*&nbsp;&amp;lt;p&amp;gt;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*&nbsp;If&nbsp;combination&nbsp;of&nbsp;start/stop/step&nbsp;values&nbsp;are&nbsp;not&nbsp;mathematically&nbsp;possible&nbsp;to&nbsp;represent<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*&nbsp;as&nbsp;a&nbsp;set&nbsp;of&nbsp;values,&nbsp;it&nbsp;is&nbsp;represented&nbsp;by&nbsp;this&nbsp;implementation&nbsp;as&nbsp;an&nbsp;empty&nbsp;set.<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;*<br>
-&nbsp;*&nbsp;@author&nbsp;Paul&nbsp;C.&nbsp;Bryan<br>
&lt;/del&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;public&nbsp;class&nbsp;RangeSet&nbsp;extends&nbsp;AbstractSet&amp;lt;Integer&amp;gt;&nbsp;implements&nbsp;Cloneable,&nbsp;Serializable&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**&nbsp;Establishes&nbsp;serialized&nbsp;object&nbsp;compatibility.&nbsp;*/<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;final&nbsp;long&nbsp;serialVersionUID&nbsp;=&nbsp;1L;<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;static&nbsp;final&nbsp;long&nbsp;serialVersionUID&nbsp;=&nbsp;1L;<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**&nbsp;The&nbsp;start&nbsp;of&nbsp;the&nbsp;range,&nbsp;inclusive.&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;final&nbsp;int&nbsp;start;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-52,6&nbsp;+48,7&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Constructs&nbsp;a&nbsp;range&nbsp;set&nbsp;for&nbsp;a&nbsp;sequence&nbsp;of&nbsp;numbers,&nbsp;starting&nbsp;at&nbsp;{@code&nbsp;0}&nbsp;with<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;the&nbsp;value&nbsp;to&nbsp;stop.&nbsp;&nbsp;Equivalent&nbsp;to&nbsp;constructing&nbsp;the&nbsp;range&nbsp;set&nbsp;with:<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;{@code&nbsp;RangeSet(0,&nbsp;stop,&nbsp;1)}.<br>
&lt;/span&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;stop&nbsp;the&nbsp;point&nbsp;at&nbsp;which&nbsp;to&nbsp;stop&nbsp;the&nbsp;range&nbsp;(exclusive).<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;RangeSet(int&nbsp;stop)&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this(0,&nbsp;stop,&nbsp;1);<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-74,7&nbsp;+71,7&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;start&nbsp;the&nbsp;start&nbsp;of&nbsp;the&nbsp;range,&nbsp;inclusive.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;stop&nbsp;the&nbsp;point&nbsp;at&nbsp;which&nbsp;to&nbsp;stop&nbsp;the&nbsp;range&nbsp;(exclusive).<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;step&nbsp;the&nbsp;step&nbsp;to&nbsp;increment&nbsp;for&nbsp;each&nbsp;value&nbsp;in&nbsp;the&nbsp;range.<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@throws&nbsp;IllegalArgumentException&nbsp;if&nbsp;{@code&nbsp;step}&nbsp;is&nbsp;{@code&nbsp;0}.&nbsp;<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@throws&nbsp;IllegalArgumentException&nbsp;if&nbsp;{@code&nbsp;step}&nbsp;is&nbsp;{@code&nbsp;0}.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;RangeSet(int&nbsp;start,&nbsp;int&nbsp;stop,&nbsp;int&nbsp;step)&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(step&nbsp;==&nbsp;0)&nbsp;{<br>
&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;<br>
&lt;a&nbsp;id=&quot;forgerockutiltrunksrcmainjavaorgforgerockutilRejectjava&quot;&gt;&lt;/a&gt;<br>
&lt;div&nbsp;class=&quot;delfile&quot;&gt;&lt;h4&gt;Deleted:&nbsp;forgerock-util/trunk/src/main/java/org/forgerock/util/Reject.java&nbsp;(1407&nbsp;=&gt;&nbsp;1408)&lt;/h4&gt;<br>
&lt;pre&nbsp;class=&quot;diff&quot;&gt;&lt;span&gt;<br>
&lt;span&nbsp;class=&quot;info&quot;&gt;---&nbsp;forgerock-util/trunk/src/main/java/org/forgerock/util/Reject.java&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp2013-12-19&nbsp;09:03:16&nbsp;UTC&nbsp;(rev&nbsp;1407)<br>
+++&nbsp;forgerock-util/trunk/src/main/java/org/forgerock/util/Reject.java&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp2013-12-19&nbsp;14:46:21&nbsp;UTC&nbsp;(rev&nbsp;1408)<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-1,185&nbsp;+0,0&nbsp;@@<br>
&lt;/span&gt;&lt;del&gt;-/*<br>
-&nbsp;*&nbsp;The&nbsp;contents&nbsp;of&nbsp;this&nbsp;file&nbsp;are&nbsp;subject&nbsp;to&nbsp;the&nbsp;terms&nbsp;of&nbsp;the&nbsp;Common&nbsp;Development&nbsp;and<br>
-&nbsp;*&nbsp;Distribution&nbsp;License&nbsp;(the&nbsp;License).&nbsp;You&nbsp;may&nbsp;not&nbsp;use&nbsp;this&nbsp;file&nbsp;except&nbsp;in&nbsp;compliance&nbsp;with&nbsp;the<br>
-&nbsp;*&nbsp;License.<br>
-&nbsp;*<br>
-&nbsp;*&nbsp;You&nbsp;can&nbsp;obtain&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;License&nbsp;at&nbsp;legal/CDDLv1.0.txt.&nbsp;See&nbsp;the&nbsp;License&nbsp;for&nbsp;the<br>
-&nbsp;*&nbsp;specific&nbsp;language&nbsp;governing&nbsp;permission&nbsp;and&nbsp;limitations&nbsp;under&nbsp;the&nbsp;License.<br>
-&nbsp;*<br>
-&nbsp;*&nbsp;When&nbsp;distributing&nbsp;Covered&nbsp;Software,&nbsp;include&nbsp;this&nbsp;CDDL&nbsp;Header&nbsp;Notice&nbsp;in&nbsp;each&nbsp;file&nbsp;and&nbsp;include<br>
-&nbsp;*&nbsp;the&nbsp;License&nbsp;file&nbsp;at&nbsp;legal/CDDLv1.0.txt.&nbsp;If&nbsp;applicable,&nbsp;add&nbsp;the&nbsp;following&nbsp;below&nbsp;the&nbsp;CDDL<br>
-&nbsp;*&nbsp;Header,&nbsp;with&nbsp;the&nbsp;fields&nbsp;enclosed&nbsp;by&nbsp;brackets&nbsp;[]&nbsp;replaced&nbsp;by&nbsp;your&nbsp;own&nbsp;identifying<br>
-&nbsp;*&nbsp;information:&nbsp;&amp;quot;Portions&nbsp;copyright&nbsp;[year]&nbsp;[name&nbsp;of&nbsp;copyright&nbsp;owner]&amp;quot;.<br>
-&nbsp;*<br>
-&nbsp;*&nbsp;Copyright&nbsp;2013&nbsp;ForgeRock&nbsp;AS.<br>
-&nbsp;*/<br>
-package&nbsp;org.forgerock.util;<br>
-<br>
-/**<br>
-&nbsp;*&nbsp;&amp;lt;p&amp;gt;<br>
-&nbsp;*&nbsp;A&nbsp;input&nbsp;parameter-validating&nbsp;utility&nbsp;class&nbsp;using&nbsp;fluent&nbsp;invocation:<br>
-&nbsp;*&nbsp;&amp;lt;pre&amp;gt;<br>
-&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;int&nbsp;divide(int&nbsp;dividend,&nbsp;int&nbsp;divisor)&nbsp;{<br>
-&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reject.ifTrue(divisor&nbsp;==&nbsp;0,&nbsp;&amp;quot;Division&nbsp;by&nbsp;zero&nbsp;not&nbsp;supported&amp;quot;);<br>
-&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;dividend&nbsp;/&nbsp;divisor;<br>
-&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
-&nbsp;*&nbsp;&amp;lt;/pre&amp;gt;<br>
-&nbsp;*&nbsp;will&nbsp;cause&nbsp;an&nbsp;{@code&nbsp;IllegalArgumentException}&nbsp;to&nbsp;be&nbsp;thrown&nbsp;with&nbsp;the&nbsp;message&nbsp;given.<br>
-&nbsp;*&nbsp;&amp;lt;p&amp;gt;<br>
-&nbsp;*&nbsp;Another&nbsp;use&nbsp;case&nbsp;is&nbsp;validating&nbsp;constructor&nbsp;parameters:<br>
-&nbsp;*&nbsp;&amp;lt;pre&amp;gt;<br>
-&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;TokenManager(final&nbsp;TokenFactory&nbsp;factory)&nbsp;{<br>
-&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reject.ifNull(factory,&nbsp;&amp;quot;Cannot&nbsp;instantiate&nbsp;TokenManager&nbsp;with&nbsp;null&nbsp;TokenFactory&amp;quot;);<br>
-&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
-&nbsp;*&nbsp;&amp;lt;/pre&amp;gt;<br>
-&nbsp;*&nbsp;Sometimes,&nbsp;constructor&nbsp;parameters&nbsp;are&nbsp;passed&nbsp;to&nbsp;ancestor&nbsp;constructors&nbsp;which&nbsp;must&nbsp;be<br>
-&nbsp;*&nbsp;called&nbsp;first--thus,&nbsp;the&nbsp;{@code&nbsp;checkNotNull}&nbsp;syntax&nbsp;is&nbsp;available:<br>
-&nbsp;*&nbsp;&amp;lt;pre&amp;gt;<br>
-&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;import&nbsp;static&nbsp;org.forgerock.util.Reject.checkNotNull;<br>
-&nbsp;*<br>
-&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;TokenManager(final&nbsp;TokenFactory&nbsp;factory)&nbsp;{<br>
-&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super(checkNotNull(factory));<br>
-&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
-&nbsp;*&nbsp;&amp;lt;/pre&amp;gt;<br>
-&nbsp;*&nbsp;&amp;lt;/p&amp;gt;<br>
-&nbsp;*&nbsp;&amp;lt;p&amp;gt;<br>
-&nbsp;*&nbsp;Note&nbsp;that&nbsp;the&nbsp;methods&nbsp;herein&nbsp;throw&nbsp;generic&nbsp;RuntimeExceptions&nbsp;as&nbsp;opposed&nbsp;to&nbsp;custom,<br>
-&nbsp;*&nbsp;application-specific&nbsp;error&nbsp;Exceptions.&nbsp;&nbsp;This&nbsp;class&nbsp;is&nbsp;intended&nbsp;for&nbsp;wide&nbsp;use&nbsp;among<br>
-&nbsp;*&nbsp;multiple&nbsp;projects&nbsp;whose&nbsp;Exception&nbsp;frameworks&nbsp;may&nbsp;differ.&nbsp;&nbsp;The&nbsp;implementer&nbsp;is&nbsp;encouraged<br>
-&nbsp;*&nbsp;to&nbsp;catch&nbsp;the&nbsp;generic&nbsp;exceptions&nbsp;thrown&nbsp;by&nbsp;this&nbsp;class&nbsp;and&nbsp;rethrow&nbsp;exceptions&nbsp;appropriate<br>
-&nbsp;*&nbsp;to&nbsp;the&nbsp;target&nbsp;application.<br>
-&nbsp;*&nbsp;&amp;lt;/p&amp;gt;<br>
-&nbsp;*/<br>
-public&nbsp;class&nbsp;Reject&nbsp;{<br>
-<br>
-&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Prevent&nbsp;instantiation<br>
-&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;Reject()&nbsp;{<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;nothing&nbsp;to&nbsp;do<br>
-&nbsp;&nbsp;&nbsp;&nbsp;}<br>
-<br>
-&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Alias&nbsp;for&nbsp;{@code&nbsp;checkNotNull}&nbsp;to&nbsp;be&nbsp;used&nbsp;in&nbsp;fluent&nbsp;{@code&nbsp;Reject.ifNull}&nbsp;syntax.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Throws&nbsp;a&nbsp;{@code&nbsp;NullPointerException}&nbsp;if&nbsp;the&nbsp;&amp;lt;tt&amp;gt;object&amp;lt;/tt&amp;gt;&nbsp;parameter&nbsp;is&nbsp;null.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;object&nbsp;the&nbsp;object&nbsp;to&nbsp;test<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@throws&nbsp;NullPointerException&nbsp;if&nbsp;{@code&nbsp;object}&nbsp;is&nbsp;null<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
-&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;void&nbsp;ifNull(final&nbsp;Object&nbsp;object)&nbsp;{<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ifNull(object,&nbsp;null);<br>
-&nbsp;&nbsp;&nbsp;&nbsp;}<br>
-<br>
-&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Alias&nbsp;for&nbsp;{@code&nbsp;checkNotNull}&nbsp;to&nbsp;be&nbsp;used&nbsp;in&nbsp;fluent&nbsp;{@code&nbsp;Reject.ifNull}&nbsp;syntax.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Throws&nbsp;a&nbsp;{@code&nbsp;NullPointerException}&nbsp;if&nbsp;the&nbsp;&amp;lt;tt&amp;gt;object&amp;lt;/tt&amp;gt;&nbsp;parameter&nbsp;is&nbsp;null.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;object&nbsp;the&nbsp;object&nbsp;to&nbsp;test<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;message&nbsp;a&nbsp;custom&nbsp;exception&nbsp;message&nbsp;to&nbsp;use<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@throws&nbsp;NullPointerException&nbsp;if&nbsp;{@code&nbsp;object}&nbsp;is&nbsp;null<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
-&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;void&nbsp;ifNull(final&nbsp;Object&nbsp;object,&nbsp;final&nbsp;String&nbsp;message)&nbsp;{<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;checkNotNull(object,&nbsp;message);<br>
-&nbsp;&nbsp;&nbsp;&nbsp;}<br>
-<br>
-&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Alias&nbsp;for&nbsp;{@code&nbsp;checkTrue}&nbsp;to&nbsp;be&nbsp;used&nbsp;in&nbsp;fluent&nbsp;{@code&nbsp;Reject.ifFalse}&nbsp;syntax.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Throws&nbsp;an&nbsp;{@code&nbsp;IllegalArgumentException}&nbsp;if&nbsp;the&nbsp;&amp;lt;tt&amp;gt;value&amp;lt;/tt&amp;gt;&nbsp;parameter&nbsp;is&nbsp;false.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;value&nbsp;the&nbsp;value&nbsp;to&nbsp;test<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@throws&nbsp;IllegalArgumentException&nbsp;if&nbsp;{@code&nbsp;value}&nbsp;is&nbsp;false<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
-&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;void&nbsp;ifFalse(final&nbsp;boolean&nbsp;value)&nbsp;{<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;checkTrue(value);<br>
-&nbsp;&nbsp;&nbsp;&nbsp;}<br>
-<br>
-&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Alias&nbsp;for&nbsp;{@code&nbsp;checkFalse}&nbsp;to&nbsp;be&nbsp;used&nbsp;in&nbsp;fluent&nbsp;{@code&nbsp;Reject.ifTrue}&nbsp;syntax.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Throws&nbsp;an&nbsp;{@code&nbsp;IllegalArgumentException}&nbsp;if&nbsp;the&nbsp;&amp;lt;tt&amp;gt;value&amp;lt;/tt&amp;gt;&nbsp;parameter&nbsp;is&nbsp;true.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;value&nbsp;the&nbsp;value&nbsp;to&nbsp;test<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@throws&nbsp;IllegalArgumentException&nbsp;if&nbsp;{@code&nbsp;value}&nbsp;is&nbsp;true<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
-&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;void&nbsp;ifTrue(final&nbsp;boolean&nbsp;value)&nbsp;{<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;checkFalse(value);<br>
-&nbsp;&nbsp;&nbsp;&nbsp;}<br>
-<br>
-&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Throws&nbsp;a&nbsp;{@code&nbsp;NullPointerException}&nbsp;if&nbsp;the&nbsp;&amp;lt;tt&amp;gt;object&amp;lt;/tt&amp;gt;&nbsp;parameter&nbsp;is&nbsp;null,<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;returns&nbsp;the&nbsp;object&nbsp;otherwise.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;object&nbsp;the&nbsp;object&nbsp;to&nbsp;test<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;the&nbsp;object<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@throws&nbsp;NullPointerException&nbsp;if&nbsp;{@code&nbsp;object}&nbsp;is&nbsp;null<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
-&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;&amp;lt;T&amp;gt;&nbsp;T&nbsp;checkNotNull(final&nbsp;T&nbsp;object)&nbsp;{<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;checkNotNull(object,&nbsp;null);<br>
-&nbsp;&nbsp;&nbsp;&nbsp;}<br>
-<br>
-&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Throws&nbsp;a&nbsp;{@code&nbsp;NullPointerException}&nbsp;if&nbsp;the&nbsp;&amp;lt;tt&amp;gt;object&amp;lt;/tt&amp;gt;&nbsp;parameter&nbsp;is&nbsp;null,<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;returns&nbsp;the&nbsp;object&nbsp;otherwise.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;object&nbsp;the&nbsp;object&nbsp;to&nbsp;test<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;message&nbsp;a&nbsp;custom&nbsp;exception&nbsp;message&nbsp;to&nbsp;use<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;the&nbsp;object<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@throws&nbsp;NullPointerException&nbsp;if&nbsp;{@code&nbsp;object}&nbsp;is&nbsp;null<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
-&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;&amp;lt;T&amp;gt;&nbsp;T&nbsp;checkNotNull(final&nbsp;T&nbsp;object,&nbsp;final&nbsp;String&nbsp;message)&nbsp;{<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(object&nbsp;==&nbsp;null)&nbsp;{<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throw&nbsp;new&nbsp;NullPointerException(message);<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;object;<br>
-&nbsp;&nbsp;&nbsp;&nbsp;}<br>
-<br>
-&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Tests&nbsp;that&nbsp;the&nbsp;{@code&nbsp;value}&nbsp;parameter&nbsp;is&nbsp;false.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Throws&nbsp;an&nbsp;@{code&nbsp;IllegalArgumentException}&nbsp;with&nbsp;a&nbsp;custom&nbsp;{@code&nbsp;message}&nbsp;if&nbsp;not.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;value&nbsp;the&nbsp;value&nbsp;to&nbsp;test<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;message&nbsp;a&nbsp;custom&nbsp;exception&nbsp;message&nbsp;to&nbsp;use<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@throws&nbsp;IllegalArgumentException&nbsp;if&nbsp;{@code&nbsp;value}&nbsp;is&nbsp;true<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
-&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;boolean&nbsp;checkFalse(final&nbsp;boolean&nbsp;value,&nbsp;String&nbsp;message)&nbsp;{<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(value)&nbsp;{<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throw&nbsp;new&nbsp;IllegalArgumentException(message);<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;value;<br>
-&nbsp;&nbsp;&nbsp;&nbsp;}<br>
-<br>
-&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Tests&nbsp;that&nbsp;the&nbsp;{@code&nbsp;value}&nbsp;parameter&nbsp;is&nbsp;true.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Throws&nbsp;an&nbsp;@{code&nbsp;IllegalArgumentException}&nbsp;with&nbsp;a&nbsp;custom&nbsp;{@code&nbsp;message}&nbsp;if&nbsp;not.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;value&nbsp;the&nbsp;value&nbsp;to&nbsp;test<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;message&nbsp;a&nbsp;custom&nbsp;exception&nbsp;message&nbsp;to&nbsp;use<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@throws&nbsp;IllegalArgumentException&nbsp;if&nbsp;{@code&nbsp;value}&nbsp;is&nbsp;false<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
-&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;boolean&nbsp;checkTrue(final&nbsp;boolean&nbsp;value,&nbsp;String&nbsp;message)&nbsp;{<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!value)&nbsp;{<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throw&nbsp;new&nbsp;IllegalArgumentException(message);<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;value;<br>
-&nbsp;&nbsp;&nbsp;&nbsp;}<br>
-<br>
-&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Tests&nbsp;that&nbsp;the&nbsp;{@code&nbsp;value}&nbsp;parameter&nbsp;is&nbsp;false.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Throws&nbsp;an&nbsp;@{code&nbsp;IllegalArgumentException}&nbsp;with&nbsp;a&nbsp;default&nbsp;message&nbsp;if&nbsp;not.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;value&nbsp;the&nbsp;value&nbsp;to&nbsp;test<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@throws&nbsp;IllegalArgumentException&nbsp;if&nbsp;{@code&nbsp;value}&nbsp;is&nbsp;false<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
-&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;boolean&nbsp;checkFalse(final&nbsp;boolean&nbsp;value)&nbsp;{<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;checkFalse(value,&nbsp;&amp;quot;Expected&nbsp;value&nbsp;was&nbsp;false,&nbsp;found&nbsp;true&amp;quot;);<br>
-&nbsp;&nbsp;&nbsp;&nbsp;}<br>
-<br>
-&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Tests&nbsp;that&nbsp;the&nbsp;{@code&nbsp;value}&nbsp;parameter&nbsp;is&nbsp;true.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Throws&nbsp;an&nbsp;@{code&nbsp;IllegalArgumentException}&nbsp;with&nbsp;a&nbsp;default&nbsp;message&nbsp;if&nbsp;not.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;value&nbsp;the&nbsp;value&nbsp;to&nbsp;test<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@throws&nbsp;IllegalArgumentException&nbsp;if&nbsp;{@code&nbsp;value}&nbsp;is&nbsp;false<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
-&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;boolean&nbsp;checkTrue(final&nbsp;boolean&nbsp;value)&nbsp;{<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;checkTrue(value,&nbsp;&amp;quot;Expected&nbsp;value&nbsp;was&nbsp;true,&nbsp;found&nbsp;false&amp;quot;);<br>
-&nbsp;&nbsp;&nbsp;&nbsp;}<br>
-<br>
-}<br>
&lt;/del&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;<br>
&lt;a&nbsp;id=&quot;forgerockutiltrunksrcmainjavaorgforgerockutilRejectjavafromrev1407forgerockutiltrunksrcmainjavaorgforgerockutilRejectjava&quot;&gt;&lt;/a&gt;<br>
&lt;div&nbsp;class=&quot;copfile&quot;&gt;&lt;h4&gt;Copied:&nbsp;forgerock-util/trunk/src/main/java/org/forgerock/util/Reject.java&nbsp;(from&nbsp;rev&nbsp;1407,&nbsp;forgerock-util/trunk/src/main/java/org/forgerock/util/Reject.java)&nbsp;(0&nbsp;=&gt;&nbsp;1408)&lt;/h4&gt;<br>
&lt;pre&nbsp;class=&quot;diff&quot;&gt;&lt;span&gt;<br>
&lt;span&nbsp;class=&quot;info&quot;&gt;---&nbsp;forgerock-util/trunk/src/main/java/org/forgerock/util/Reject.java&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(rev&nbsp;0)<br>
+++&nbsp;forgerock-util/trunk/src/main/java/org/forgerock/util/Reject.java&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp2013-12-19&nbsp;14:46:21&nbsp;UTC&nbsp;(rev&nbsp;1408)<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-0,0&nbsp;+1,215&nbsp;@@<br>
&lt;/span&gt;&lt;ins&gt;+/*<br>
+&nbsp;*&nbsp;The&nbsp;contents&nbsp;of&nbsp;this&nbsp;file&nbsp;are&nbsp;subject&nbsp;to&nbsp;the&nbsp;terms&nbsp;of&nbsp;the&nbsp;Common&nbsp;Development&nbsp;and<br>
+&nbsp;*&nbsp;Distribution&nbsp;License&nbsp;(the&nbsp;License).&nbsp;You&nbsp;may&nbsp;not&nbsp;use&nbsp;this&nbsp;file&nbsp;except&nbsp;in&nbsp;compliance&nbsp;with&nbsp;the<br>
+&nbsp;*&nbsp;License.<br>
+&nbsp;*<br>
+&nbsp;*&nbsp;You&nbsp;can&nbsp;obtain&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;License&nbsp;at&nbsp;legal/CDDLv1.0.txt.&nbsp;See&nbsp;the&nbsp;License&nbsp;for&nbsp;the<br>
+&nbsp;*&nbsp;specific&nbsp;language&nbsp;governing&nbsp;permission&nbsp;and&nbsp;limitations&nbsp;under&nbsp;the&nbsp;License.<br>
+&nbsp;*<br>
+&nbsp;*&nbsp;When&nbsp;distributing&nbsp;Covered&nbsp;Software,&nbsp;include&nbsp;this&nbsp;CDDL&nbsp;Header&nbsp;Notice&nbsp;in&nbsp;each&nbsp;file&nbsp;and&nbsp;include<br>
+&nbsp;*&nbsp;the&nbsp;License&nbsp;file&nbsp;at&nbsp;legal/CDDLv1.0.txt.&nbsp;If&nbsp;applicable,&nbsp;add&nbsp;the&nbsp;following&nbsp;below&nbsp;the&nbsp;CDDL<br>
+&nbsp;*&nbsp;Header,&nbsp;with&nbsp;the&nbsp;fields&nbsp;enclosed&nbsp;by&nbsp;brackets&nbsp;[]&nbsp;replaced&nbsp;by&nbsp;your&nbsp;own&nbsp;identifying<br>
+&nbsp;*&nbsp;information:&nbsp;&amp;quot;Portions&nbsp;copyright&nbsp;[year]&nbsp;[name&nbsp;of&nbsp;copyright&nbsp;owner]&amp;quot;.<br>
+&nbsp;*<br>
+&nbsp;*&nbsp;Copyright&nbsp;2013&nbsp;ForgeRock&nbsp;AS.<br>
+&nbsp;*/<br>
+package&nbsp;org.forgerock.util;<br>
+<br>
+/**<br>
+&nbsp;*&nbsp;A&nbsp;input&nbsp;parameter-validating&nbsp;utility&nbsp;class&nbsp;using&nbsp;fluent&nbsp;invocation:<br>
+&nbsp;*<br>
+&nbsp;*&nbsp;&amp;lt;pre&amp;gt;<br>
+&nbsp;*&nbsp;public&nbsp;int&nbsp;divide(int&nbsp;dividend,&nbsp;int&nbsp;divisor)&nbsp;{<br>
+&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reject.ifTrue(divisor&nbsp;==&nbsp;0,&nbsp;&amp;amp;quot;Division&nbsp;by&nbsp;zero&nbsp;not&nbsp;supported&amp;amp;quot;);<br>
+&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;dividend&nbsp;/&nbsp;divisor;<br>
+&nbsp;*&nbsp;}<br>
+&nbsp;*&nbsp;&amp;lt;/pre&amp;gt;<br>
+&nbsp;*<br>
+&nbsp;*&nbsp;The&nbsp;example&nbsp;above&nbsp;will&nbsp;cause&nbsp;an&nbsp;{@code&nbsp;IllegalArgumentException}&nbsp;to&nbsp;be&nbsp;thrown<br>
+&nbsp;*&nbsp;with&nbsp;the&nbsp;message&nbsp;given.<br>
+&nbsp;*&nbsp;&amp;lt;p&amp;gt;<br>
+&nbsp;*&nbsp;Another&nbsp;use&nbsp;case&nbsp;is&nbsp;validating&nbsp;constructor&nbsp;parameters:<br>
+&nbsp;*<br>
+&nbsp;*&nbsp;&amp;lt;pre&amp;gt;<br>
+&nbsp;*&nbsp;public&nbsp;TokenManager(final&nbsp;TokenFactory&nbsp;factory)&nbsp;{<br>
+&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reject.ifNull(factory,&nbsp;&amp;amp;quot;Cannot&nbsp;instantiate&nbsp;TokenManager&nbsp;with&nbsp;null&nbsp;TokenFactory&amp;amp;quot;);<br>
+&nbsp;*&nbsp;}<br>
+&nbsp;*&nbsp;&amp;lt;/pre&amp;gt;<br>
+&nbsp;*<br>
+&nbsp;*&nbsp;Sometimes,&nbsp;constructor&nbsp;parameters&nbsp;are&nbsp;passed&nbsp;to&nbsp;ancestor&nbsp;constructors&nbsp;which<br>
+&nbsp;*&nbsp;must&nbsp;be&nbsp;called&nbsp;first--thus,&nbsp;the&nbsp;{@code&nbsp;checkNotNull}&nbsp;syntax&nbsp;is&nbsp;available:<br>
+&nbsp;*<br>
+&nbsp;*&nbsp;&amp;lt;pre&amp;gt;<br>
+&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;import&nbsp;static&nbsp;org.forgerock.util.Reject.checkNotNull;<br>
+&nbsp;*<br>
+&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;TokenManager(final&nbsp;TokenFactory&nbsp;factory)&nbsp;{<br>
+&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super(checkNotNull(factory));<br>
+&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
+&nbsp;*&nbsp;&amp;lt;/pre&amp;gt;<br>
+&nbsp;*<br>
+&nbsp;*&nbsp;Note&nbsp;that&nbsp;the&nbsp;methods&nbsp;herein&nbsp;throw&nbsp;generic&nbsp;RuntimeExceptions&nbsp;as&nbsp;opposed&nbsp;to<br>
+&nbsp;*&nbsp;custom,&nbsp;application-specific&nbsp;error&nbsp;Exceptions.&nbsp;This&nbsp;class&nbsp;is&nbsp;intended&nbsp;for<br>
+&nbsp;*&nbsp;wide&nbsp;use&nbsp;among&nbsp;multiple&nbsp;projects&nbsp;whose&nbsp;Exception&nbsp;frameworks&nbsp;may&nbsp;differ.&nbsp;The<br>
+&nbsp;*&nbsp;implementer&nbsp;is&nbsp;encouraged&nbsp;to&nbsp;catch&nbsp;the&nbsp;generic&nbsp;exceptions&nbsp;thrown&nbsp;by&nbsp;this<br>
+&nbsp;*&nbsp;class&nbsp;and&nbsp;rethrow&nbsp;exceptions&nbsp;appropriate&nbsp;to&nbsp;the&nbsp;target&nbsp;application.<br>
+&nbsp;*/<br>
+public&nbsp;final&nbsp;class&nbsp;Reject&nbsp;{<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Throws&nbsp;a&nbsp;{@code&nbsp;NullPointerException}&nbsp;if&nbsp;the&nbsp;&amp;lt;tt&amp;gt;object&amp;lt;/tt&amp;gt;&nbsp;parameter&nbsp;is<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;null,&nbsp;returns&nbsp;the&nbsp;object&nbsp;otherwise.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;&amp;lt;T&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;type&nbsp;of&nbsp;object&nbsp;to&nbsp;test.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;object<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;object&nbsp;to&nbsp;test<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;the&nbsp;object<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@throws&nbsp;NullPointerException<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;{@code&nbsp;object}&nbsp;is&nbsp;null<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
+&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;&amp;lt;T&amp;gt;&nbsp;T&nbsp;checkNotNull(final&nbsp;T&nbsp;object)&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;checkNotNull(object,&nbsp;null);<br>
+&nbsp;&nbsp;&nbsp;&nbsp;}<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Throws&nbsp;a&nbsp;{@code&nbsp;NullPointerException}&nbsp;if&nbsp;the&nbsp;&amp;lt;tt&amp;gt;object&amp;lt;/tt&amp;gt;&nbsp;parameter&nbsp;is<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;null,&nbsp;returns&nbsp;the&nbsp;object&nbsp;otherwise.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;&amp;lt;T&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;type&nbsp;of&nbsp;object&nbsp;to&nbsp;test.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;object<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;object&nbsp;to&nbsp;test<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;message<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;custom&nbsp;exception&nbsp;message&nbsp;to&nbsp;use<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;the&nbsp;object<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@throws&nbsp;NullPointerException<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;{@code&nbsp;object}&nbsp;is&nbsp;null<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
+&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;&amp;lt;T&amp;gt;&nbsp;T&nbsp;checkNotNull(final&nbsp;T&nbsp;object,&nbsp;final&nbsp;String&nbsp;message)&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(object&nbsp;==&nbsp;null)&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throw&nbsp;new&nbsp;NullPointerException(message);<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;object;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;}<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Throws&nbsp;an&nbsp;{@code&nbsp;IllegalArgumentException}&nbsp;if&nbsp;the&nbsp;&amp;lt;tt&amp;gt;condition&amp;lt;/tt&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;parameter&nbsp;is&nbsp;false.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;condition<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;condition&nbsp;to&nbsp;test<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@throws&nbsp;IllegalArgumentException<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;{@code&nbsp;condition}&nbsp;is&nbsp;false<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
+&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;void&nbsp;ifFalse(final&nbsp;boolean&nbsp;condition)&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ifFalse(condition,&nbsp;&amp;quot;Expected&nbsp;condition&nbsp;was&nbsp;true,&nbsp;found&nbsp;false&amp;quot;);<br>
+&nbsp;&nbsp;&nbsp;&nbsp;}<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Throws&nbsp;an&nbsp;{@code&nbsp;IllegalArgumentException}&nbsp;with&nbsp;a&nbsp;custom&nbsp;{@code&nbsp;message}<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;if&nbsp;the&nbsp;&amp;lt;tt&amp;gt;condition&amp;lt;/tt&amp;gt;&nbsp;parameter&nbsp;is&nbsp;false.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;condition<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;condition&nbsp;to&nbsp;test<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;message<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;custom&nbsp;exception&nbsp;message&nbsp;to&nbsp;use<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@throws&nbsp;IllegalArgumentException<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;{@code&nbsp;condition}&nbsp;is&nbsp;false<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
+&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;void&nbsp;ifFalse(final&nbsp;boolean&nbsp;condition,&nbsp;final&nbsp;String&nbsp;message)&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!condition)&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throw&nbsp;new&nbsp;IllegalArgumentException(message);<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
+&nbsp;&nbsp;&nbsp;&nbsp;}<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Alias&nbsp;for&nbsp;{@code&nbsp;checkNotNull}&nbsp;to&nbsp;be&nbsp;used&nbsp;in&nbsp;fluent&nbsp;{@code&nbsp;Reject.ifNull}<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;syntax.&nbsp;Throws&nbsp;a&nbsp;{@code&nbsp;NullPointerException}&nbsp;if&nbsp;the&nbsp;&amp;lt;tt&amp;gt;object&amp;lt;/tt&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;parameter&nbsp;is&nbsp;null.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;object<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;object&nbsp;to&nbsp;test<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@throws&nbsp;NullPointerException<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;{@code&nbsp;object}&nbsp;is&nbsp;null<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
+&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;void&nbsp;ifNull(final&nbsp;Object&nbsp;object)&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ifNull(object,&nbsp;null);<br>
+&nbsp;&nbsp;&nbsp;&nbsp;}<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Throws&nbsp;a&nbsp;{@code&nbsp;NullPointerException}&nbsp;if&nbsp;any&nbsp;of&nbsp;the&nbsp;provided&nbsp;arguments<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;are&nbsp;{@code&nbsp;null}.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;&amp;lt;T&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;type&nbsp;of&nbsp;object&nbsp;to&nbsp;test.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;objects<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;objects&nbsp;to&nbsp;test.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@throws&nbsp;NullPointerException<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;any&nbsp;of&nbsp;the&nbsp;provided&nbsp;arguments&nbsp;are&nbsp;{@code&nbsp;null}.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
+&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;&amp;lt;T&amp;gt;&nbsp;void&nbsp;ifNull(final&nbsp;T...&nbsp;objects)&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;This&nbsp;method&nbsp;is&nbsp;generic&nbsp;in&nbsp;order&nbsp;to&nbsp;play&nbsp;better&nbsp;with&nbsp;varargs.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Otherwise&nbsp;invoking&nbsp;this&nbsp;method&nbsp;with&nbsp;an&nbsp;array&nbsp;of&nbsp;Strings&nbsp;will&nbsp;be<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;flagged&nbsp;with&nbsp;a&nbsp;warning&nbsp;because&nbsp;of&nbsp;the&nbsp;potential&nbsp;ambiguity.&nbsp;See<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;org.forgerock.util.RejectTest.ifNullVarArgsStrings().<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(final&nbsp;Object&nbsp;o&nbsp;:&nbsp;objects)&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(o&nbsp;==&nbsp;null)&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throw&nbsp;new&nbsp;NullPointerException();<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
+&nbsp;&nbsp;&nbsp;&nbsp;}<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Alias&nbsp;for&nbsp;{@code&nbsp;checkNotNull}&nbsp;to&nbsp;be&nbsp;used&nbsp;in&nbsp;fluent&nbsp;{@code&nbsp;Reject.ifNull}<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;syntax.&nbsp;Throws&nbsp;a&nbsp;{@code&nbsp;NullPointerException}&nbsp;if&nbsp;the&nbsp;&amp;lt;tt&amp;gt;object&amp;lt;/tt&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;parameter&nbsp;is&nbsp;null.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;object<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;object&nbsp;to&nbsp;test<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;message<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;custom&nbsp;exception&nbsp;message&nbsp;to&nbsp;use<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@throws&nbsp;NullPointerException<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;{@code&nbsp;object}&nbsp;is&nbsp;null<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
+&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;void&nbsp;ifNull(final&nbsp;Object&nbsp;object,&nbsp;final&nbsp;String&nbsp;message)&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;checkNotNull(object,&nbsp;message);<br>
+&nbsp;&nbsp;&nbsp;&nbsp;}<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Throws&nbsp;an&nbsp;{@code&nbsp;IllegalArgumentException}&nbsp;if&nbsp;the&nbsp;&amp;lt;tt&amp;gt;condition&amp;lt;/tt&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;parameter&nbsp;is&nbsp;true.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;condition<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;condition&nbsp;to&nbsp;test<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@throws&nbsp;IllegalArgumentException<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;{@code&nbsp;condition}&nbsp;is&nbsp;true<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
+&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;void&nbsp;ifTrue(final&nbsp;boolean&nbsp;condition)&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ifTrue(condition,&nbsp;&amp;quot;Expected&nbsp;condition&nbsp;was&nbsp;false,&nbsp;found&nbsp;true&amp;quot;);<br>
+&nbsp;&nbsp;&nbsp;&nbsp;}<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Throws&nbsp;an&nbsp;{@code&nbsp;IllegalArgumentException}&nbsp;with&nbsp;a&nbsp;custom&nbsp;{@code&nbsp;message}<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;if&nbsp;the&nbsp;&amp;lt;tt&amp;gt;condition&amp;lt;/tt&amp;gt;&nbsp;parameter&nbsp;is&nbsp;true.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;condition<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;condition&nbsp;to&nbsp;test<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;message<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;custom&nbsp;exception&nbsp;message&nbsp;to&nbsp;use<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@throws&nbsp;IllegalArgumentException<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;{@code&nbsp;condition}&nbsp;is&nbsp;true<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
+&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;void&nbsp;ifTrue(final&nbsp;boolean&nbsp;condition,&nbsp;final&nbsp;String&nbsp;message)&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(condition)&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throw&nbsp;new&nbsp;IllegalArgumentException(message);<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
+&nbsp;&nbsp;&nbsp;&nbsp;}<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Prevent&nbsp;instantiation<br>
+&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;Reject()&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;nothing&nbsp;to&nbsp;do<br>
+&nbsp;&nbsp;&nbsp;&nbsp;}<br>
+<br>
+}<br>
&lt;/ins&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;<br>
&lt;a&nbsp;id=&quot;forgerockutiltrunksrcmainjavaorgforgerockutilSignatureUtiljava&quot;&gt;&lt;/a&gt;<br>
&lt;div&nbsp;class=&quot;modfile&quot;&gt;&lt;h4&gt;Modified:&nbsp;forgerock-util/trunk/src/main/java/org/forgerock/util/SignatureUtil.java&nbsp;(1407&nbsp;=&gt;&nbsp;1408)&lt;/h4&gt;<br>
&lt;pre&nbsp;class=&quot;diff&quot;&gt;&lt;span&gt;<br>
&lt;span&nbsp;class=&quot;info&quot;&gt;---&nbsp;forgerock-util/trunk/src/main/java/org/forgerock/util/SignatureUtil.java&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp2013-12-19&nbsp;09:03:16&nbsp;UTC&nbsp;(rev&nbsp;1407)<br>
+++&nbsp;forgerock-util/trunk/src/main/java/org/forgerock/util/SignatureUtil.java&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp2013-12-19&nbsp;14:46:21&nbsp;UTC&nbsp;(rev&nbsp;1408)<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-54,27&nbsp;+54,27&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Signs&nbsp;a&nbsp;String&nbsp;using&nbsp;the&nbsp;given&nbsp;private&nbsp;key.&nbsp;Uses&nbsp;the&nbsp;algorithm&nbsp;from&nbsp;the&nbsp;private&nbsp;key&nbsp;to&nbsp;perform&nbsp;the&nbsp;signature.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Signs&nbsp;a&nbsp;String&nbsp;using&nbsp;the&nbsp;given&nbsp;private&nbsp;key.&nbsp;Uses&nbsp;the&nbsp;algorithm&nbsp;from&nbsp;the<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;private&nbsp;key&nbsp;to&nbsp;perform&nbsp;the&nbsp;signature.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;privateKey&nbsp;The&nbsp;private&nbsp;key&nbsp;to&nbsp;use&nbsp;to&nbsp;sign&nbsp;the&nbsp;String.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;algorithm&nbsp;The&nbsp;algorithm&nbsp;to&nbsp;use&nbsp;in&nbsp;the&nbsp;signing.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;message&nbsp;The&nbsp;String&nbsp;to&nbsp;sign.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;privateKey<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;private&nbsp;key&nbsp;to&nbsp;use&nbsp;to&nbsp;sign&nbsp;the&nbsp;String.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;algorithm<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;algorithm&nbsp;to&nbsp;use&nbsp;in&nbsp;the&nbsp;signing.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;message<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;String&nbsp;to&nbsp;sign.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;The&nbsp;byte&nbsp;array&nbsp;of&nbsp;the&nbsp;signature.<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@throws&nbsp;java.security.SignatureException&nbsp;If&nbsp;there&nbsp;is&nbsp;a&nbsp;problem&nbsp;when&nbsp;performing&nbsp;the&nbsp;signature.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@throws&nbsp;java.security.SignatureException<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;there&nbsp;is&nbsp;a&nbsp;problem&nbsp;when&nbsp;performing&nbsp;the&nbsp;signature.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;byte[]&nbsp;sign(PrivateKey&nbsp;privateKey,&nbsp;String&nbsp;algorithm,&nbsp;String&nbsp;message)&nbsp;throws&nbsp;SignatureException&nbsp;{<br>
-<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;byte[]&nbsp;sign(PrivateKey&nbsp;privateKey,&nbsp;String&nbsp;algorithm,&nbsp;String&nbsp;message)<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throws&nbsp;SignatureException&nbsp;{<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Signature&nbsp;signature&nbsp;=&nbsp;Signature.getInstance(algorithm);<br>
&lt;/span&gt;&lt;del&gt;-<br>
&lt;/del&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;signature.initSign(privateKey);<br>
&lt;/span&gt;&lt;del&gt;-<br>
&lt;/del&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;signature.update(message.getBytes());<br>
&lt;/span&gt;&lt;del&gt;-<br>
&lt;/del&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;byte[]&nbsp;signatureBytes&nbsp;=&nbsp;signature.sign();<br>
&lt;/span&gt;&lt;del&gt;-<br>
&lt;/del&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;signatureBytes;<br>
&lt;/span&gt;&lt;del&gt;-<br>
&lt;/del&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;catch&nbsp;(NoSuchAlgorithmException&nbsp;e)&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throw&nbsp;new&nbsp;SignatureException(MessageFormat.format(<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;quot;Could&nbsp;not&nbsp;get&nbsp;Signature&nbsp;instance&nbsp;with&nbsp;the&nbsp;algorithm:&nbsp;{0}&amp;quot;,&nbsp;algorithm),&nbsp;e);<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-84,45&nbsp;+84,53&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Verifies&nbsp;a&nbsp;signature&nbsp;of&nbsp;a&nbsp;String&nbsp;using&nbsp;the&nbsp;certificate.&nbsp;Uses&nbsp;the&nbsp;algorithm&nbsp;from&nbsp;the&nbsp;certificate&nbsp;to&nbsp;perform&nbsp;the<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;verification&nbsp;of&nbsp;the&nbsp;signature.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Verifies&nbsp;a&nbsp;signature&nbsp;of&nbsp;a&nbsp;String&nbsp;using&nbsp;the&nbsp;certificate.&nbsp;Uses&nbsp;the<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;algorithm&nbsp;from&nbsp;the&nbsp;certificate&nbsp;to&nbsp;perform&nbsp;the&nbsp;verification&nbsp;of&nbsp;the<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;signature.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;certificate&nbsp;The&nbsp;X509Certificate&nbsp;to&nbsp;use&nbsp;to&nbsp;verify&nbsp;the&nbsp;signature.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;algorithm&nbsp;The&nbsp;algorithm&nbsp;to&nbsp;use&nbsp;in&nbsp;the&nbsp;signing.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;message&nbsp;The&nbsp;String&nbsp;that&nbsp;was&nbsp;signed.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;signatureData&nbsp;The&nbsp;byte&nbsp;array&nbsp;of&nbsp;the&nbsp;signature.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;Whether&nbsp;or&nbsp;not&nbsp;the&nbsp;signature&nbsp;is&nbsp;valid&nbsp;for&nbsp;the&nbsp;String&nbsp;that&nbsp;was&nbsp;signed.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@throws&nbsp;java.security.SignatureException&nbsp;If&nbsp;there&nbsp;is&nbsp;a&nbsp;problem&nbsp;when&nbsp;verifying&nbsp;the&nbsp;signature.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;certificate<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;X509Certificate&nbsp;to&nbsp;use&nbsp;to&nbsp;verify&nbsp;the&nbsp;signature.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;algorithm<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;algorithm&nbsp;to&nbsp;use&nbsp;in&nbsp;the&nbsp;signing.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;message<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;String&nbsp;that&nbsp;was&nbsp;signed.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;signatureData<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;byte&nbsp;array&nbsp;of&nbsp;the&nbsp;signature.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;Whether&nbsp;or&nbsp;not&nbsp;the&nbsp;signature&nbsp;is&nbsp;valid&nbsp;for&nbsp;the&nbsp;String&nbsp;that&nbsp;was<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;signed.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@throws&nbsp;java.security.SignatureException<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;there&nbsp;is&nbsp;a&nbsp;problem&nbsp;when&nbsp;verifying&nbsp;the&nbsp;signature.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;boolean&nbsp;verify(X509Certificate&nbsp;certificate,&nbsp;String&nbsp;algorithm,&nbsp;String&nbsp;message,&nbsp;byte[]&nbsp;signatureData)&nbsp;throws<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SignatureException&nbsp;{<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;boolean&nbsp;verify(X509Certificate&nbsp;certificate,&nbsp;String&nbsp;algorithm,&nbsp;String&nbsp;message,<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;byte[]&nbsp;signatureData)&nbsp;throws&nbsp;SignatureException&nbsp;{<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;verify(certificate.getPublicKey(),&nbsp;algorithm,&nbsp;message,&nbsp;signatureData);<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Verifies&nbsp;a&nbsp;signature&nbsp;of&nbsp;a&nbsp;String&nbsp;using&nbsp;the&nbsp;public&nbsp;key.&nbsp;Uses&nbsp;the&nbsp;algorithm&nbsp;from&nbsp;the&nbsp;public&nbsp;key&nbsp;to&nbsp;perform&nbsp;the<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;verification&nbsp;of&nbsp;the&nbsp;signature.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Verifies&nbsp;a&nbsp;signature&nbsp;of&nbsp;a&nbsp;String&nbsp;using&nbsp;the&nbsp;public&nbsp;key.&nbsp;Uses&nbsp;the&nbsp;algorithm<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;from&nbsp;the&nbsp;public&nbsp;key&nbsp;to&nbsp;perform&nbsp;the&nbsp;verification&nbsp;of&nbsp;the&nbsp;signature.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;publicKey&nbsp;The&nbsp;public&nbsp;key&nbsp;to&nbsp;use&nbsp;to&nbsp;verify&nbsp;the&nbsp;signature.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;algorithm&nbsp;The&nbsp;algorithm&nbsp;to&nbsp;use&nbsp;in&nbsp;the&nbsp;signing.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;message&nbsp;The&nbsp;String&nbsp;that&nbsp;was&nbsp;signed.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;signatureData&nbsp;The&nbsp;byte&nbsp;array&nbsp;of&nbsp;the&nbsp;signature.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;Whether&nbsp;or&nbsp;not&nbsp;the&nbsp;signature&nbsp;is&nbsp;valid&nbsp;for&nbsp;the&nbsp;String&nbsp;that&nbsp;was&nbsp;signed.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@throws&nbsp;java.security.SignatureException&nbsp;If&nbsp;there&nbsp;is&nbsp;a&nbsp;problem&nbsp;when&nbsp;verifying&nbsp;the&nbsp;signature.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;publicKey<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;public&nbsp;key&nbsp;to&nbsp;use&nbsp;to&nbsp;verify&nbsp;the&nbsp;signature.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;algorithm<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;algorithm&nbsp;to&nbsp;use&nbsp;in&nbsp;the&nbsp;signing.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;message<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;String&nbsp;that&nbsp;was&nbsp;signed.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;signatureData<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;byte&nbsp;array&nbsp;of&nbsp;the&nbsp;signature.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;Whether&nbsp;or&nbsp;not&nbsp;the&nbsp;signature&nbsp;is&nbsp;valid&nbsp;for&nbsp;the&nbsp;String&nbsp;that&nbsp;was<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;signed.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@throws&nbsp;java.security.SignatureException<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;there&nbsp;is&nbsp;a&nbsp;problem&nbsp;when&nbsp;verifying&nbsp;the&nbsp;signature.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;boolean&nbsp;verify(PublicKey&nbsp;publicKey,&nbsp;&nbsp;String&nbsp;algorithm,&nbsp;String&nbsp;message,&nbsp;byte[]&nbsp;signatureData)&nbsp;throws&nbsp;SignatureException&nbsp;{<br>
-<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;boolean&nbsp;verify(PublicKey&nbsp;publicKey,&nbsp;String&nbsp;algorithm,&nbsp;String&nbsp;message,<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;byte[]&nbsp;signatureData)&nbsp;throws&nbsp;SignatureException&nbsp;{<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Signature&nbsp;signature&nbsp;=&nbsp;Signature.getInstance(algorithm);<br>
&lt;/span&gt;&lt;del&gt;-<br>
&lt;/del&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;signature.initVerify(publicKey);<br>
&lt;/span&gt;&lt;del&gt;-<br>
&lt;/del&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;signature.update(message.getBytes());<br>
&lt;/span&gt;&lt;del&gt;-<br>
&lt;/del&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;boolean&nbsp;verified&nbsp;=&nbsp;signature.verify(signatureData);<br>
&lt;/span&gt;&lt;del&gt;-<br>
&lt;/del&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;verified;<br>
&lt;/span&gt;&lt;del&gt;-<br>
&lt;/del&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;catch&nbsp;(NoSuchAlgorithmException&nbsp;e)&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throw&nbsp;new&nbsp;SignatureException(MessageFormat.format(<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;quot;Could&nbsp;not&nbsp;get&nbsp;Signature&nbsp;instance&nbsp;with&nbsp;the&nbsp;algorithm:&nbsp;{0}&amp;quot;,&nbsp;algorithm),&nbsp;e);<br>
&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;<br>
&lt;a&nbsp;id=&quot;forgerockutiltrunksrcmainjavaorgforgerockutilencodeBase64java&quot;&gt;&lt;/a&gt;<br>
&lt;div&nbsp;class=&quot;modfile&quot;&gt;&lt;h4&gt;Modified:&nbsp;forgerock-util/trunk/src/main/java/org/forgerock/util/encode/Base64.java&nbsp;(1407&nbsp;=&gt;&nbsp;1408)&lt;/h4&gt;<br>
&lt;pre&nbsp;class=&quot;diff&quot;&gt;&lt;span&gt;<br>
&lt;span&nbsp;class=&quot;info&quot;&gt;---&nbsp;forgerock-util/trunk/src/main/java/org/forgerock/util/encode/Base64.java&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp2013-12-19&nbsp;09:03:16&nbsp;UTC&nbsp;(rev&nbsp;1407)<br>
+++&nbsp;forgerock-util/trunk/src/main/java/org/forgerock/util/encode/Base64.java&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp2013-12-19&nbsp;14:46:21&nbsp;UTC&nbsp;(rev&nbsp;1408)<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-28,55&nbsp;+28,61&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*&nbsp;OF&nbsp;SUCH&nbsp;DAMAGE.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;/**<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;*&nbsp;Portions&nbsp;Copyrighted&nbsp;2011-2013&nbsp;ForgeRock&nbsp;AS<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;*&nbsp;Portions&nbsp;Copyright&nbsp;2011-2013&nbsp;ForgeRock&nbsp;AS<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;package&nbsp;org.forgerock.util.encode;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;import&nbsp;java.util.Arrays;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;/**<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;*&nbsp;A&nbsp;very&nbsp;fast&nbsp;and&nbsp;memory&nbsp;efficient&nbsp;class&nbsp;to&nbsp;encode&nbsp;and&nbsp;decode&nbsp;to&nbsp;and&nbsp;from&nbsp;BASE64&nbsp;in&nbsp;full&nbsp;accordance<br>
-&nbsp;*&nbsp;with&nbsp;RFC&nbsp;2045.&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;<br>
-&nbsp;*&nbsp;On&nbsp;Windows&nbsp;XP&nbsp;sp1&nbsp;with&nbsp;1.4.2_04&nbsp;and&nbsp;later&nbsp;;),&nbsp;this&nbsp;encoder&nbsp;and&nbsp;decoder&nbsp;is&nbsp;about&nbsp;10&nbsp;times&nbsp;faster<br>
-&nbsp;*&nbsp;on&nbsp;small&nbsp;arrays&nbsp;(10&nbsp;-&nbsp;1000&nbsp;bytes)&nbsp;and&nbsp;2-3&nbsp;times&nbsp;as&nbsp;fast&nbsp;on&nbsp;larger&nbsp;arrays&nbsp;(10000&nbsp;-&nbsp;1000000&nbsp;bytes)<br>
-&nbsp;*&nbsp;compared&nbsp;to&nbsp;&amp;lt;code&amp;gt;sun.misc.Encoder()/Decoder()&amp;lt;/code&amp;gt;.&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;*&nbsp;A&nbsp;very&nbsp;fast&nbsp;and&nbsp;memory&nbsp;efficient&nbsp;class&nbsp;to&nbsp;encode&nbsp;and&nbsp;decode&nbsp;to&nbsp;and&nbsp;from<br>
+&nbsp;*&nbsp;BASE64&nbsp;in&nbsp;full&nbsp;accordance&nbsp;with&nbsp;RFC&nbsp;2045.&amp;lt;br&amp;gt;<br>
+&nbsp;*&nbsp;&amp;lt;br&amp;gt;<br>
+&nbsp;*&nbsp;On&nbsp;Windows&nbsp;XP&nbsp;sp1&nbsp;with&nbsp;1.4.2_04&nbsp;and&nbsp;later&nbsp;;),&nbsp;this&nbsp;encoder&nbsp;and&nbsp;decoder&nbsp;is<br>
+&nbsp;*&nbsp;about&nbsp;10&nbsp;times&nbsp;faster&nbsp;on&nbsp;small&nbsp;arrays&nbsp;(10&nbsp;-&nbsp;1000&nbsp;bytes)&nbsp;and&nbsp;2-3&nbsp;times&nbsp;as&nbsp;fast<br>
+&nbsp;*&nbsp;on&nbsp;larger&nbsp;arrays&nbsp;(10000&nbsp;-&nbsp;1000000&nbsp;bytes)&nbsp;compared&nbsp;to<br>
+&nbsp;*&nbsp;&amp;lt;code&amp;gt;sun.misc.Encoder()/Decoder()&amp;lt;/code&amp;gt;.&amp;lt;br&amp;gt;<br>
+&nbsp;*&nbsp;&amp;lt;br&amp;gt;<br>
+&nbsp;*&nbsp;On&nbsp;byte&nbsp;arrays&nbsp;the&nbsp;encoder&nbsp;is&nbsp;about&nbsp;20%&nbsp;faster&nbsp;than&nbsp;Jakarta&nbsp;Commons&nbsp;Base64<br>
+&nbsp;*&nbsp;Codec&nbsp;for&nbsp;encode&nbsp;and&nbsp;about&nbsp;50%&nbsp;faster&nbsp;for&nbsp;decoding&nbsp;large&nbsp;arrays.&nbsp;This<br>
+&nbsp;*&nbsp;implementation&nbsp;is&nbsp;about&nbsp;twice&nbsp;as&nbsp;fast&nbsp;on&nbsp;very&nbsp;small&nbsp;arrays&nbsp;(&amp;amp;lt&nbsp;30&nbsp;bytes).&nbsp;If<br>
+&nbsp;*&nbsp;source/destination&nbsp;is&nbsp;a&nbsp;&amp;lt;code&amp;gt;String&amp;lt;/code&amp;gt;&nbsp;this&nbsp;version&nbsp;is&nbsp;about&nbsp;three&nbsp;times<br>
+&nbsp;*&nbsp;as&nbsp;fast&nbsp;due&nbsp;to&nbsp;the&nbsp;fact&nbsp;that&nbsp;the&nbsp;Commons&nbsp;Codec&nbsp;result&nbsp;has&nbsp;to&nbsp;be&nbsp;recoded&nbsp;to&nbsp;a<br>
+&nbsp;*&nbsp;&amp;lt;code&amp;gt;String&amp;lt;/code&amp;gt;&nbsp;from&nbsp;&amp;lt;code&amp;gt;byte[]&amp;lt;/code&amp;gt;,&nbsp;which&nbsp;is&nbsp;very&nbsp;expensive.&amp;lt;br&amp;gt;<br>
+&nbsp;*&nbsp;&amp;lt;br&amp;gt;<br>
+&nbsp;*&nbsp;This&nbsp;encode/decode&nbsp;algorithm&nbsp;doesn't&nbsp;create&nbsp;any&nbsp;temporary&nbsp;arrays&nbsp;as&nbsp;many<br>
+&nbsp;*&nbsp;other&nbsp;codecs&nbsp;do,&nbsp;it&nbsp;only&nbsp;allocates&nbsp;the&nbsp;resulting&nbsp;array.&nbsp;This&nbsp;produces&nbsp;less<br>
+&nbsp;*&nbsp;garbage&nbsp;and&nbsp;it&nbsp;is&nbsp;possible&nbsp;to&nbsp;handle&nbsp;arrays&nbsp;twice&nbsp;as&nbsp;large&nbsp;as&nbsp;algorithms&nbsp;that<br>
+&nbsp;*&nbsp;create&nbsp;a&nbsp;temporary&nbsp;array.&nbsp;(E.g.&nbsp;Jakarta&nbsp;Commons&nbsp;Codec).&nbsp;It&nbsp;is&nbsp;unknown&nbsp;whether<br>
+&nbsp;*&nbsp;Sun's&nbsp;&amp;lt;code&amp;gt;sun.misc.Encoder()/Decoder()&amp;lt;/code&amp;gt;&nbsp;produce&nbsp;temporary&nbsp;arrays&nbsp;but<br>
+&nbsp;*&nbsp;since&nbsp;performance&nbsp;is&nbsp;quite&nbsp;low&nbsp;it&nbsp;probably&nbsp;does.&amp;lt;br&amp;gt;<br>
+&nbsp;*&nbsp;&amp;lt;br&amp;gt;<br>
+&nbsp;*&nbsp;The&nbsp;encoder&nbsp;produces&nbsp;the&nbsp;same&nbsp;output&nbsp;as&nbsp;the&nbsp;Sun&nbsp;one&nbsp;except&nbsp;that&nbsp;the&nbsp;Sun's<br>
+&nbsp;*&nbsp;encoder&nbsp;appends&nbsp;a&nbsp;trailing&nbsp;line&nbsp;separator&nbsp;if&nbsp;the&nbsp;last&nbsp;character&nbsp;isn't&nbsp;a&nbsp;pad.<br>
+&nbsp;*&nbsp;Unclear&nbsp;why&nbsp;but&nbsp;it&nbsp;only&nbsp;adds&nbsp;to&nbsp;the&nbsp;length&nbsp;and&nbsp;is&nbsp;probably&nbsp;a&nbsp;side&nbsp;effect.<br>
+&nbsp;*&nbsp;Both&nbsp;are&nbsp;in&nbsp;conformance&nbsp;with&nbsp;RFC&nbsp;2045&nbsp;though.&amp;lt;br&amp;gt;<br>
+&nbsp;*&nbsp;Commons&nbsp;codec&nbsp;seem&nbsp;to&nbsp;always&nbsp;att&nbsp;a&nbsp;trailing&nbsp;line&nbsp;separator.&amp;lt;br&amp;gt;<br>
+&nbsp;*&nbsp;&amp;lt;br&amp;gt;<br>
+&nbsp;*&nbsp;&amp;lt;b&amp;gt;Note!&amp;lt;/b&amp;gt;&nbsp;The&nbsp;encode/decode&nbsp;method&nbsp;pairs&nbsp;(types)&nbsp;come&nbsp;in&nbsp;three&nbsp;versions<br>
+&nbsp;*&nbsp;with&nbsp;the&nbsp;&amp;lt;b&amp;gt;exact&amp;lt;/b&amp;gt;&nbsp;same&nbsp;algorithm&nbsp;and&nbsp;thus&nbsp;a&nbsp;lot&nbsp;of&nbsp;code&nbsp;redundancy.&nbsp;This<br>
+&nbsp;*&nbsp;is&nbsp;to&nbsp;not&nbsp;create&nbsp;any&nbsp;temporary&nbsp;arrays&nbsp;for&nbsp;transcoding&nbsp;to/from&nbsp;different<br>
+&nbsp;*&nbsp;format&nbsp;types.&nbsp;The&nbsp;methods&nbsp;not&nbsp;used&nbsp;can&nbsp;simply&nbsp;be&nbsp;commented&nbsp;out.&amp;lt;br&amp;gt;<br>
+&nbsp;*&nbsp;&amp;lt;br&amp;gt;<br>
+&nbsp;*&nbsp;There&nbsp;is&nbsp;also&nbsp;a&nbsp;&amp;quot;fast&amp;quot;&nbsp;version&nbsp;of&nbsp;all&nbsp;decode&nbsp;methods&nbsp;that&nbsp;works&nbsp;the&nbsp;same&nbsp;way<br>
+&nbsp;*&nbsp;as&nbsp;the&nbsp;normal&nbsp;ones,&nbsp;but&nbsp;har&nbsp;a&nbsp;few&nbsp;demands&nbsp;on&nbsp;the&nbsp;decoded&nbsp;input.&nbsp;Normally<br>
+&nbsp;*&nbsp;though,&nbsp;these&nbsp;fast&nbsp;verions&nbsp;should&nbsp;be&nbsp;used&nbsp;if&nbsp;the&nbsp;source&nbsp;if&nbsp;the&nbsp;input&nbsp;is&nbsp;known<br>
+&nbsp;*&nbsp;and&nbsp;it&nbsp;hasn't&nbsp;bee&nbsp;tampered&nbsp;with.&amp;lt;br&amp;gt;<br>
+&nbsp;*&nbsp;&amp;lt;br&amp;gt;<br>
+&nbsp;*&nbsp;If&nbsp;you&nbsp;find&nbsp;the&nbsp;code&nbsp;useful&nbsp;or&nbsp;you&nbsp;find&nbsp;a&nbsp;bug,&nbsp;please&nbsp;send&nbsp;me&nbsp;a&nbsp;note&nbsp;at<br>
+&nbsp;*&nbsp;base64&nbsp;@&nbsp;miginfocom&nbsp;.&nbsp;com.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;*&nbsp;On&nbsp;byte&nbsp;arrays&nbsp;the&nbsp;encoder&nbsp;is&nbsp;about&nbsp;20%&nbsp;faster&nbsp;than&nbsp;Jakarta&nbsp;Commons&nbsp;Base64&nbsp;Codec&nbsp;for&nbsp;encode&nbsp;and<br>
-&nbsp;*&nbsp;about&nbsp;50%&nbsp;faster&nbsp;for&nbsp;decoding&nbsp;large&nbsp;arrays.&nbsp;This&nbsp;implementation&nbsp;is&nbsp;about&nbsp;twice&nbsp;as&nbsp;fast&nbsp;on&nbsp;very&nbsp;small<br>
-&nbsp;*&nbsp;arrays&nbsp;(&amp;amp;lt&nbsp;30&nbsp;bytes).&nbsp;If&nbsp;source/destination&nbsp;is&nbsp;a&nbsp;&amp;lt;code&amp;gt;String&amp;lt;/code&amp;gt;&nbsp;this<br>
-&nbsp;*&nbsp;version&nbsp;is&nbsp;about&nbsp;three&nbsp;times&nbsp;as&nbsp;fast&nbsp;due&nbsp;to&nbsp;the&nbsp;fact&nbsp;that&nbsp;the&nbsp;Commons&nbsp;Codec&nbsp;result&nbsp;has&nbsp;to&nbsp;be&nbsp;recoded<br>
-&nbsp;*&nbsp;to&nbsp;a&nbsp;&amp;lt;code&amp;gt;String&amp;lt;/code&amp;gt;&nbsp;from&nbsp;&amp;lt;code&amp;gt;byte[]&amp;lt;/code&amp;gt;,&nbsp;which&nbsp;is&nbsp;very&nbsp;expensive.&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;<br>
-&nbsp;*<br>
-&nbsp;*&nbsp;This&nbsp;encode/decode&nbsp;algorithm&nbsp;doesn't&nbsp;create&nbsp;any&nbsp;temporary&nbsp;arrays&nbsp;as&nbsp;many&nbsp;other&nbsp;codecs&nbsp;do,&nbsp;it&nbsp;only<br>
-&nbsp;*&nbsp;allocates&nbsp;the&nbsp;resulting&nbsp;array.&nbsp;This&nbsp;produces&nbsp;less&nbsp;garbage&nbsp;and&nbsp;it&nbsp;is&nbsp;possible&nbsp;to&nbsp;handle&nbsp;arrays&nbsp;twice<br>
-&nbsp;*&nbsp;as&nbsp;large&nbsp;as&nbsp;algorithms&nbsp;that&nbsp;create&nbsp;a&nbsp;temporary&nbsp;array.&nbsp;(E.g.&nbsp;Jakarta&nbsp;Commons&nbsp;Codec).&nbsp;It&nbsp;is&nbsp;unknown<br>
-&nbsp;*&nbsp;whether&nbsp;Sun's&nbsp;&amp;lt;code&amp;gt;sun.misc.Encoder()/Decoder()&amp;lt;/code&amp;gt;&nbsp;produce&nbsp;temporary&nbsp;arrays&nbsp;but&nbsp;since&nbsp;performance<br>
-&nbsp;*&nbsp;is&nbsp;quite&nbsp;low&nbsp;it&nbsp;probably&nbsp;does.&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;<br>
-&nbsp;*<br>
-&nbsp;*&nbsp;The&nbsp;encoder&nbsp;produces&nbsp;the&nbsp;same&nbsp;output&nbsp;as&nbsp;the&nbsp;Sun&nbsp;one&nbsp;except&nbsp;that&nbsp;the&nbsp;Sun's&nbsp;encoder&nbsp;appends<br>
-&nbsp;*&nbsp;a&nbsp;trailing&nbsp;line&nbsp;separator&nbsp;if&nbsp;the&nbsp;last&nbsp;character&nbsp;isn't&nbsp;a&nbsp;pad.&nbsp;Unclear&nbsp;why&nbsp;but&nbsp;it&nbsp;only&nbsp;adds&nbsp;to&nbsp;the<br>
-&nbsp;*&nbsp;length&nbsp;and&nbsp;is&nbsp;probably&nbsp;a&nbsp;side&nbsp;effect.&nbsp;Both&nbsp;are&nbsp;in&nbsp;conformance&nbsp;with&nbsp;RFC&nbsp;2045&nbsp;though.&amp;lt;br&amp;gt;<br>
-&nbsp;*&nbsp;Commons&nbsp;codec&nbsp;seem&nbsp;to&nbsp;always&nbsp;att&nbsp;a&nbsp;trailing&nbsp;line&nbsp;separator.&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;<br>
-&nbsp;*<br>
-&nbsp;*&nbsp;&amp;lt;b&amp;gt;Note!&amp;lt;/b&amp;gt;<br>
-&nbsp;*&nbsp;The&nbsp;encode/decode&nbsp;method&nbsp;pairs&nbsp;(types)&nbsp;come&nbsp;in&nbsp;three&nbsp;versions&nbsp;with&nbsp;the&nbsp;&amp;lt;b&amp;gt;exact&amp;lt;/b&amp;gt;&nbsp;same&nbsp;algorithm&nbsp;and<br>
-&nbsp;*&nbsp;thus&nbsp;a&nbsp;lot&nbsp;of&nbsp;code&nbsp;redundancy.&nbsp;This&nbsp;is&nbsp;to&nbsp;not&nbsp;create&nbsp;any&nbsp;temporary&nbsp;arrays&nbsp;for&nbsp;transcoding&nbsp;to/from&nbsp;different<br>
-&nbsp;*&nbsp;format&nbsp;types.&nbsp;The&nbsp;methods&nbsp;not&nbsp;used&nbsp;can&nbsp;simply&nbsp;be&nbsp;commented&nbsp;out.&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;<br>
-&nbsp;*<br>
-&nbsp;*&nbsp;There&nbsp;is&nbsp;also&nbsp;a&nbsp;&amp;quot;fast&amp;quot;&nbsp;version&nbsp;of&nbsp;all&nbsp;decode&nbsp;methods&nbsp;that&nbsp;works&nbsp;the&nbsp;same&nbsp;way&nbsp;as&nbsp;the&nbsp;normal&nbsp;ones,&nbsp;but<br>
-&nbsp;*&nbsp;har&nbsp;a&nbsp;few&nbsp;demands&nbsp;on&nbsp;the&nbsp;decoded&nbsp;input.&nbsp;Normally&nbsp;though,&nbsp;these&nbsp;fast&nbsp;verions&nbsp;should&nbsp;be&nbsp;used&nbsp;if&nbsp;the&nbsp;source&nbsp;if<br>
-&nbsp;*&nbsp;the&nbsp;input&nbsp;is&nbsp;known&nbsp;and&nbsp;it&nbsp;hasn't&nbsp;bee&nbsp;tampered&nbsp;with.&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;<br>
-&nbsp;*<br>
-&nbsp;*&nbsp;If&nbsp;you&nbsp;find&nbsp;the&nbsp;code&nbsp;useful&nbsp;or&nbsp;you&nbsp;find&nbsp;a&nbsp;bug,&nbsp;please&nbsp;send&nbsp;me&nbsp;a&nbsp;note&nbsp;at&nbsp;base64&nbsp;@&nbsp;miginfocom&nbsp;.&nbsp;com.<br>
-&nbsp;*<br>
&lt;/del&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*&nbsp;@version&nbsp;2.2<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;*&nbsp;@author&nbsp;Mikael&nbsp;Grev<br>
-&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Date:&nbsp;2004-aug-02<br>
-&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Time:&nbsp;11:31:11<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;*&nbsp;@author&nbsp;Mikael&nbsp;Grev&nbsp;Date:&nbsp;2004-aug-02&nbsp;Time:&nbsp;11:31:11<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;public&nbsp;class&nbsp;Base64&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;static&nbsp;final&nbsp;char[]&nbsp;CA&nbsp;=&nbsp;&amp;quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/&amp;quot;.toCharArray();<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;static&nbsp;final&nbsp;char[]&nbsp;CA&nbsp;=<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/&amp;quot;.toCharArray();<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;static&nbsp;final&nbsp;int[]&nbsp;IA&nbsp;=&nbsp;new&nbsp;int[256];<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-87,112&nbsp;+93,65&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IA['=']&nbsp;=&nbsp;0;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;****************************************************************************************<br>
-&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;*&nbsp;&nbsp;char[]&nbsp;version<br>
-&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;****************************************************************************************<br>
-&nbsp;&nbsp;&nbsp;&nbsp;/**&nbsp;Encodes&nbsp;a&nbsp;raw&nbsp;byte&nbsp;array&nbsp;into&nbsp;a&nbsp;BASE64&nbsp;&amp;lt;code&amp;gt;char[]&amp;lt;/code&amp;gt;&nbsp;representation&nbsp;i&nbsp;accordance&nbsp;with&nbsp;RFC&nbsp;2045.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;sArr&nbsp;The&nbsp;bytes&nbsp;to&nbsp;convert.&nbsp;If&nbsp;&amp;lt;code&amp;gt;null&amp;lt;/code&amp;gt;&nbsp;or&nbsp;length&nbsp;0&nbsp;an&nbsp;empty&nbsp;array&nbsp;will&nbsp;be&nbsp;returned.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;lineSep&nbsp;Optional&nbsp;&amp;quot;\r\n&amp;quot;&nbsp;after&nbsp;76&nbsp;characters,&nbsp;unless&nbsp;end&nbsp;of&nbsp;file.&amp;lt;br&amp;gt;<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;No&nbsp;line&nbsp;separator&nbsp;will&nbsp;be&nbsp;in&nbsp;breach&nbsp;of&nbsp;RFC&nbsp;2045&nbsp;which&nbsp;specifies&nbsp;max&nbsp;76&nbsp;per&nbsp;line&nbsp;but&nbsp;will&nbsp;be&nbsp;a<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;little&nbsp;faster.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;A&nbsp;BASE64&nbsp;encoded&nbsp;array.&nbsp;Never&nbsp;&amp;lt;code&amp;gt;null&amp;lt;/code&amp;gt;.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Decodes&nbsp;a&nbsp;BASE64&nbsp;encoded&nbsp;byte&nbsp;array.&nbsp;All&nbsp;illegal&nbsp;characters&nbsp;will&nbsp;be<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;ignored&nbsp;and&nbsp;can&nbsp;handle&nbsp;both&nbsp;arrays&nbsp;with&nbsp;and&nbsp;without&nbsp;line&nbsp;separators.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;sArr<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;source&nbsp;array.&nbsp;Length&nbsp;0&nbsp;will&nbsp;return&nbsp;an&nbsp;empty&nbsp;array.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;code&amp;gt;null&amp;lt;/code&amp;gt;&nbsp;will&nbsp;throw&nbsp;an&nbsp;exception.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;The&nbsp;decoded&nbsp;array&nbsp;of&nbsp;bytes.&nbsp;May&nbsp;be&nbsp;of&nbsp;length&nbsp;0.&nbsp;Will&nbsp;be<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;code&amp;gt;null&amp;lt;/code&amp;gt;&nbsp;if&nbsp;the&nbsp;legal&nbsp;characters&nbsp;(including&nbsp;'=')&nbsp;isn't<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;divideable&nbsp;by&nbsp;4.&nbsp;(I.e.&nbsp;definitely&nbsp;corrupted).<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;char[]&nbsp;encodeToChar(byte[]&nbsp;sArr,&nbsp;boolean&nbsp;lineSep)&nbsp;{<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;byte[]&nbsp;decode(final&nbsp;byte[]&nbsp;sArr)&nbsp;{<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Check&nbsp;special&nbsp;case<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;sLen&nbsp;=&nbsp;sArr&nbsp;!=&nbsp;null&nbsp;?&nbsp;sArr.length&nbsp;:&nbsp;0;<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(sLen&nbsp;==&nbsp;0)&nbsp;{<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;new&nbsp;char[0];<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;int&nbsp;sLen&nbsp;=&nbsp;sArr.length;<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;eLen&nbsp;=&nbsp;(sLen&nbsp;/&nbsp;3)&nbsp;*&nbsp;3;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Length&nbsp;of&nbsp;even&nbsp;24-bits.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;cCnt&nbsp;=&nbsp;((sLen&nbsp;-&nbsp;1)&nbsp;/&nbsp;3&nbsp;+&nbsp;1)&nbsp;&amp;lt;&amp;lt;&nbsp;2;&nbsp;&nbsp;&nbsp;//&nbsp;Returned&nbsp;character&nbsp;count<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;dLen&nbsp;=&nbsp;cCnt&nbsp;+&nbsp;(lineSep&nbsp;?&nbsp;(cCnt&nbsp;-&nbsp;1)&nbsp;/&nbsp;76&nbsp;&amp;lt;&amp;lt;&nbsp;1&nbsp;:&nbsp;0);&nbsp;//&nbsp;Length&nbsp;of&nbsp;returned&nbsp;array<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char[]&nbsp;dArr&nbsp;=&nbsp;new&nbsp;char[dLen];<br>
-<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Encode&nbsp;even&nbsp;24-bits<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;s&nbsp;=&nbsp;0,&nbsp;d&nbsp;=&nbsp;0,&nbsp;cc&nbsp;=&nbsp;0;&nbsp;s&nbsp;&amp;lt;&nbsp;eLen;)&nbsp;{<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Copy&nbsp;next&nbsp;three&nbsp;bytes&nbsp;into&nbsp;lower&nbsp;24&nbsp;bits&nbsp;of&nbsp;int,&nbsp;paying&nbsp;attension&nbsp;to&nbsp;sign.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;i&nbsp;=&nbsp;(sArr[s++]&nbsp;&amp;amp;&nbsp;0xff)&nbsp;&amp;lt;&amp;lt;&nbsp;16&nbsp;|&nbsp;(sArr[s++]&nbsp;&amp;amp;&nbsp;0xff)&nbsp;&amp;lt;&amp;lt;&nbsp;8&nbsp;|&nbsp;(sArr[s++]&nbsp;&amp;amp;&nbsp;0xff);<br>
-<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Encode&nbsp;the&nbsp;int&nbsp;into&nbsp;four&nbsp;chars<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[d++]&nbsp;=&nbsp;CA[(i&nbsp;&amp;gt;&amp;gt;&amp;gt;&nbsp;18)&nbsp;&amp;amp;&nbsp;0x3f];<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[d++]&nbsp;=&nbsp;CA[(i&nbsp;&amp;gt;&amp;gt;&amp;gt;&nbsp;12)&nbsp;&amp;amp;&nbsp;0x3f];<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[d++]&nbsp;=&nbsp;CA[(i&nbsp;&amp;gt;&amp;gt;&amp;gt;&nbsp;6)&nbsp;&amp;amp;&nbsp;0x3f];<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[d++]&nbsp;=&nbsp;CA[i&nbsp;&amp;amp;&nbsp;0x3f];<br>
-<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Add&nbsp;optional&nbsp;line&nbsp;separator<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(lineSep&nbsp;&amp;amp;&amp;amp;&nbsp;++cc&nbsp;==&nbsp;19&nbsp;&amp;amp;&amp;amp;&nbsp;d&nbsp;&amp;lt;&nbsp;dLen&nbsp;-&nbsp;2)&nbsp;{<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[d++]&nbsp;=&nbsp;'\r';<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[d++]&nbsp;=&nbsp;'\n';<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cc&nbsp;=&nbsp;0;<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
-<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Pad&nbsp;and&nbsp;encode&nbsp;last&nbsp;bits&nbsp;if&nbsp;source&nbsp;isn't&nbsp;even&nbsp;24&nbsp;bits.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;left&nbsp;=&nbsp;sLen&nbsp;-&nbsp;eLen;&nbsp;//&nbsp;0&nbsp;-&nbsp;2.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(left&nbsp;&amp;gt;&nbsp;0)&nbsp;{<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Prepare&nbsp;the&nbsp;int<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;i&nbsp;=&nbsp;((sArr[eLen]&nbsp;&amp;amp;&nbsp;0xff)&nbsp;&amp;lt;&amp;lt;&nbsp;10)&nbsp;|&nbsp;(left&nbsp;==&nbsp;2&nbsp;?&nbsp;((sArr[sLen&nbsp;-&nbsp;1]&nbsp;&amp;amp;&nbsp;0xff)&nbsp;&amp;lt;&amp;lt;&nbsp;2)&nbsp;:&nbsp;0);<br>
-<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Set&nbsp;last&nbsp;four&nbsp;chars<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[dLen&nbsp;-&nbsp;4]&nbsp;=&nbsp;CA[i&nbsp;&amp;gt;&amp;gt;&nbsp;12];<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[dLen&nbsp;-&nbsp;3]&nbsp;=&nbsp;CA[(i&nbsp;&amp;gt;&amp;gt;&amp;gt;&nbsp;6)&nbsp;&amp;amp;&nbsp;0x3f];<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[dLen&nbsp;-&nbsp;2]&nbsp;=&nbsp;left&nbsp;==&nbsp;2&nbsp;?&nbsp;CA[i&nbsp;&amp;amp;&nbsp;0x3f]&nbsp;:&nbsp;'=';<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[dLen&nbsp;-&nbsp;1]&nbsp;=&nbsp;'=';<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;dArr;<br>
-&nbsp;&nbsp;&nbsp;&nbsp;}<br>
-<br>
-&nbsp;&nbsp;&nbsp;&nbsp;/**&nbsp;Decodes&nbsp;a&nbsp;BASE64&nbsp;encoded&nbsp;char&nbsp;array.&nbsp;All&nbsp;illegal&nbsp;characters&nbsp;will&nbsp;be&nbsp;ignored&nbsp;and&nbsp;can&nbsp;handle&nbsp;both&nbsp;arrays&nbsp;with<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;and&nbsp;without&nbsp;line&nbsp;separators.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;sArr&nbsp;The&nbsp;source&nbsp;array.&nbsp;&amp;lt;code&amp;gt;null&amp;lt;/code&amp;gt;&nbsp;or&nbsp;length&nbsp;0&nbsp;will&nbsp;return&nbsp;an&nbsp;empty&nbsp;array.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;The&nbsp;decoded&nbsp;array&nbsp;of&nbsp;bytes.&nbsp;May&nbsp;be&nbsp;of&nbsp;length&nbsp;0.&nbsp;Will&nbsp;be&nbsp;&amp;lt;code&amp;gt;null&amp;lt;/code&amp;gt;&nbsp;if&nbsp;the&nbsp;legal&nbsp;characters<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;(including&nbsp;'=')&nbsp;isn't&nbsp;divideable&nbsp;by&nbsp;4.&nbsp;&nbsp;(I.e.&nbsp;definitely&nbsp;corrupted).<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
-&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;byte[]&nbsp;decode(char[]&nbsp;sArr)&nbsp;{<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Check&nbsp;special&nbsp;case<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;sLen&nbsp;=&nbsp;sArr&nbsp;!=&nbsp;null&nbsp;?&nbsp;sArr.length&nbsp;:&nbsp;0;<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(sLen&nbsp;==&nbsp;0)&nbsp;{<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;new&nbsp;byte[0];<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
-<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Count&nbsp;illegal&nbsp;characters&nbsp;(including&nbsp;'\r',&nbsp;'\n')&nbsp;to&nbsp;know&nbsp;what&nbsp;size&nbsp;the&nbsp;returned&nbsp;array&nbsp;will&nbsp;be,<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;so&nbsp;we&nbsp;don't&nbsp;have&nbsp;to&nbsp;reallocate&nbsp;&amp;amp;&nbsp;copy&nbsp;it&nbsp;later.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Count&nbsp;illegal&nbsp;characters&nbsp;(including&nbsp;'\r',&nbsp;'\n')&nbsp;to&nbsp;know&nbsp;what&nbsp;size&nbsp;the<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;returned&nbsp;array&nbsp;will&nbsp;be,&nbsp;so&nbsp;we&nbsp;don't&nbsp;have&nbsp;to&nbsp;reallocate&nbsp;&amp;amp;&nbsp;copy&nbsp;it<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;later.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;sepCnt&nbsp;=&nbsp;0;&nbsp;//&nbsp;Number&nbsp;of&nbsp;separator&nbsp;characters.&nbsp;(Actually&nbsp;illegal&nbsp;characters,&nbsp;but&nbsp;that's&nbsp;a&nbsp;bonus...)<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&amp;lt;&nbsp;sLen;&nbsp;i++)&nbsp;//&nbsp;If&nbsp;input&nbsp;is&nbsp;&amp;quot;pure&amp;quot;&nbsp;(I.e.&nbsp;no&nbsp;line&nbsp;separators&nbsp;or&nbsp;illegal&nbsp;chars)&nbsp;base64&nbsp;this&nbsp;loop&nbsp;can&nbsp;be&nbsp;commented&nbsp;out.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(IA[sArr[i]]&nbsp;&amp;lt;&nbsp;0)&nbsp;{<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(IA[sArr[i]&nbsp;&amp;amp;&nbsp;0xff]&nbsp;&amp;lt;&nbsp;0)&nbsp;{<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sepCnt++;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Check&nbsp;so&nbsp;that&nbsp;legal&nbsp;chars&nbsp;(including&nbsp;'=')&nbsp;are&nbsp;evenly&nbsp;divideable&nbsp;by&nbsp;4&nbsp;as&nbsp;specified&nbsp;in&nbsp;RFC&nbsp;2045.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Check&nbsp;so&nbsp;that&nbsp;legal&nbsp;chars&nbsp;(including&nbsp;'=')&nbsp;are&nbsp;evenly&nbsp;divideable&nbsp;by&nbsp;4<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;as&nbsp;specified&nbsp;in&nbsp;RFC&nbsp;2045.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;((sLen&nbsp;-&nbsp;sepCnt)&nbsp;%&nbsp;4&nbsp;!=&nbsp;0)&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;null;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;pad&nbsp;=&nbsp;0;<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;i&nbsp;=&nbsp;sLen;&nbsp;i&nbsp;&amp;gt;&nbsp;1&nbsp;&amp;amp;&amp;amp;&nbsp;IA[sArr[--i]]&nbsp;&amp;lt;=&nbsp;0;)&nbsp;{<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;i&nbsp;=&nbsp;sLen;&nbsp;i&nbsp;&amp;gt;&nbsp;1&nbsp;&amp;amp;&amp;amp;&nbsp;IA[sArr[--i]&nbsp;&amp;amp;&nbsp;0xff]&nbsp;&amp;lt;=&nbsp;0;)&nbsp;{<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(sArr[i]&nbsp;==&nbsp;'=')&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pad++;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;len&nbsp;=&nbsp;((sLen&nbsp;-&nbsp;sepCnt)&nbsp;*&nbsp;6&nbsp;&amp;gt;&amp;gt;&nbsp;3)&nbsp;-&nbsp;pad;<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;int&nbsp;len&nbsp;=&nbsp;((sLen&nbsp;-&nbsp;sepCnt)&nbsp;*&nbsp;6&nbsp;&amp;gt;&amp;gt;&nbsp;3)&nbsp;-&nbsp;pad;<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;byte[]&nbsp;dArr&nbsp;=&nbsp;new&nbsp;byte[len];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Preallocate&nbsp;byte[]&nbsp;of&nbsp;exact&nbsp;length<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;byte[]&nbsp;dArr&nbsp;=&nbsp;new&nbsp;byte[len];&nbsp;//&nbsp;Preallocate&nbsp;byte[]&nbsp;of&nbsp;exact&nbsp;length<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;s&nbsp;=&nbsp;0,&nbsp;d&nbsp;=&nbsp;0;&nbsp;d&nbsp;&amp;lt;&nbsp;len;)&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Assemble&nbsp;three&nbsp;bytes&nbsp;into&nbsp;an&nbsp;int&nbsp;from&nbsp;four&nbsp;&amp;quot;valid&amp;quot;&nbsp;characters.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;i&nbsp;=&nbsp;0;<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;j&nbsp;=&nbsp;0;&nbsp;j&nbsp;&amp;lt;&nbsp;4;&nbsp;j++)&nbsp;{&nbsp;&nbsp;&nbsp;//&nbsp;j&nbsp;only&nbsp;increased&nbsp;if&nbsp;a&nbsp;valid&nbsp;char&nbsp;was&nbsp;found.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;c&nbsp;=&nbsp;IA[sArr[s++]];<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;j&nbsp;=&nbsp;0;&nbsp;j&nbsp;&amp;lt;&nbsp;4;&nbsp;j++)&nbsp;{&nbsp;//&nbsp;j&nbsp;only&nbsp;increased&nbsp;if&nbsp;a&nbsp;valid&nbsp;char&nbsp;was&nbsp;found.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;int&nbsp;c&nbsp;=&nbsp;IA[sArr[s++]&nbsp;&amp;amp;&nbsp;0xff];<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(c&nbsp;&amp;gt;=&nbsp;0)&nbsp;{<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i&nbsp;|=&nbsp;c&nbsp;&amp;lt;&amp;lt;&nbsp;(18&nbsp;-&nbsp;j&nbsp;*&nbsp;6);<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i&nbsp;|=&nbsp;c&nbsp;&amp;lt;&amp;lt;&nbsp;18&nbsp;-&nbsp;j&nbsp;*&nbsp;6;<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;j--;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;ins&gt;+<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Add&nbsp;the&nbsp;bytes<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[d++]&nbsp;=&nbsp;(byte)&nbsp;(i&nbsp;&amp;gt;&amp;gt;&nbsp;16);<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(d&nbsp;&amp;lt;&nbsp;len)&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-202,182&nbsp;+161,149&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;ins&gt;+<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;dArr;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;/**&nbsp;Decodes&nbsp;a&nbsp;BASE64&nbsp;encoded&nbsp;char&nbsp;array&nbsp;that&nbsp;is&nbsp;known&nbsp;to&nbsp;be&nbsp;resonably&nbsp;well&nbsp;formatted.&nbsp;The&nbsp;method&nbsp;is&nbsp;about&nbsp;twice&nbsp;as<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;fast&nbsp;as&nbsp;{@link&nbsp;#decode(char[])}.&nbsp;The&nbsp;preconditions&nbsp;are:&amp;lt;br&amp;gt;<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;+&nbsp;The&nbsp;array&nbsp;must&nbsp;have&nbsp;a&nbsp;line&nbsp;length&nbsp;of&nbsp;76&nbsp;chars&nbsp;OR&nbsp;no&nbsp;line&nbsp;separators&nbsp;at&nbsp;all&nbsp;(one&nbsp;line).&amp;lt;br&amp;gt;<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;+&nbsp;Line&nbsp;separator&nbsp;must&nbsp;be&nbsp;&amp;quot;\r\n&amp;quot;,&nbsp;as&nbsp;specified&nbsp;in&nbsp;RFC&nbsp;2045<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;+&nbsp;The&nbsp;array&nbsp;must&nbsp;not&nbsp;contain&nbsp;illegal&nbsp;characters&nbsp;within&nbsp;the&nbsp;encoded&nbsp;string&amp;lt;br&amp;gt;<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;+&nbsp;The&nbsp;array&nbsp;CAN&nbsp;have&nbsp;illegal&nbsp;characters&nbsp;at&nbsp;the&nbsp;beginning&nbsp;and&nbsp;end,&nbsp;those&nbsp;will&nbsp;be&nbsp;dealt&nbsp;with&nbsp;appropriately.&amp;lt;br&amp;gt;<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;sArr&nbsp;The&nbsp;source&nbsp;array.&nbsp;Length&nbsp;0&nbsp;will&nbsp;return&nbsp;an&nbsp;empty&nbsp;array.&nbsp;&amp;lt;code&amp;gt;null&amp;lt;/code&amp;gt;&nbsp;will&nbsp;throw&nbsp;an&nbsp;exception.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;The&nbsp;decoded&nbsp;array&nbsp;of&nbsp;bytes.&nbsp;May&nbsp;be&nbsp;of&nbsp;length&nbsp;0.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Decodes&nbsp;a&nbsp;BASE64&nbsp;encoded&nbsp;char&nbsp;array.&nbsp;All&nbsp;illegal&nbsp;characters&nbsp;will&nbsp;be<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;ignored&nbsp;and&nbsp;can&nbsp;handle&nbsp;both&nbsp;arrays&nbsp;with&nbsp;and&nbsp;without&nbsp;line&nbsp;separators.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;sArr<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;source&nbsp;array.&nbsp;&amp;lt;code&amp;gt;null&amp;lt;/code&amp;gt;&nbsp;or&nbsp;length&nbsp;0&nbsp;will&nbsp;return&nbsp;an<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;empty&nbsp;array.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;The&nbsp;decoded&nbsp;array&nbsp;of&nbsp;bytes.&nbsp;May&nbsp;be&nbsp;of&nbsp;length&nbsp;0.&nbsp;Will&nbsp;be<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;code&amp;gt;null&amp;lt;/code&amp;gt;&nbsp;if&nbsp;the&nbsp;legal&nbsp;characters&nbsp;(including&nbsp;'=')&nbsp;isn't<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;divideable&nbsp;by&nbsp;4.&nbsp;(I.e.&nbsp;definitely&nbsp;corrupted).<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;byte[]&nbsp;decodeFast(char[]&nbsp;sArr)&nbsp;{<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;byte[]&nbsp;decode(final&nbsp;char[]&nbsp;sArr)&nbsp;{<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Check&nbsp;special&nbsp;case<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;sLen&nbsp;=&nbsp;sArr.length;<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;int&nbsp;sLen&nbsp;=&nbsp;sArr&nbsp;!=&nbsp;null&nbsp;?&nbsp;sArr.length&nbsp;:&nbsp;0;<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(sLen&nbsp;==&nbsp;0)&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;new&nbsp;byte[0];<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;sIx&nbsp;=&nbsp;0,&nbsp;eIx&nbsp;=&nbsp;sLen&nbsp;-&nbsp;1;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Start&nbsp;and&nbsp;end&nbsp;index&nbsp;after&nbsp;trimming.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Count&nbsp;illegal&nbsp;characters&nbsp;(including&nbsp;'\r',&nbsp;'\n')&nbsp;to&nbsp;know&nbsp;what&nbsp;size&nbsp;the<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;returned&nbsp;array&nbsp;will&nbsp;be,&nbsp;so&nbsp;we&nbsp;don't&nbsp;have&nbsp;to&nbsp;reallocate&nbsp;&amp;amp;&nbsp;copy&nbsp;it<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;later.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;sepCnt&nbsp;=&nbsp;0;&nbsp;//&nbsp;Number&nbsp;of&nbsp;separator&nbsp;characters.&nbsp;(Actually&nbsp;illegal&nbsp;characters,&nbsp;but&nbsp;that's&nbsp;a&nbsp;bonus...)<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&amp;lt;&nbsp;sLen;&nbsp;i++)&nbsp;//&nbsp;If&nbsp;input&nbsp;is&nbsp;&amp;quot;pure&amp;quot;&nbsp;(I.e.&nbsp;no&nbsp;line&nbsp;separators&nbsp;or&nbsp;illegal&nbsp;chars)&nbsp;base64&nbsp;this&nbsp;loop&nbsp;can&nbsp;be&nbsp;commented&nbsp;out.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(IA[sArr[i]]&nbsp;&amp;lt;&nbsp;0)&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sepCnt++;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Trim&nbsp;illegal&nbsp;chars&nbsp;from&nbsp;start<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;(sIx&nbsp;&amp;lt;&nbsp;eIx&nbsp;&amp;amp;&amp;amp;&nbsp;IA[sArr[sIx]]&nbsp;&amp;lt;&nbsp;0)&nbsp;{<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sIx++;<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Check&nbsp;so&nbsp;that&nbsp;legal&nbsp;chars&nbsp;(including&nbsp;'=')&nbsp;are&nbsp;evenly&nbsp;divideable&nbsp;by&nbsp;4<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;as&nbsp;specified&nbsp;in&nbsp;RFC&nbsp;2045.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;((sLen&nbsp;-&nbsp;sepCnt)&nbsp;%&nbsp;4&nbsp;!=&nbsp;0)&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;null;<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Trim&nbsp;illegal&nbsp;chars&nbsp;from&nbsp;end<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;(eIx&nbsp;&amp;gt;&nbsp;0&nbsp;&amp;amp;&amp;amp;&nbsp;IA[sArr[eIx]]&nbsp;&amp;lt;&nbsp;0)&nbsp;{<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eIx--;<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;pad&nbsp;=&nbsp;0;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;i&nbsp;=&nbsp;sLen;&nbsp;i&nbsp;&amp;gt;&nbsp;1&nbsp;&amp;amp;&amp;amp;&nbsp;IA[sArr[--i]]&nbsp;&amp;lt;=&nbsp;0;)&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(sArr[i]&nbsp;==&nbsp;'=')&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pad++;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;get&nbsp;the&nbsp;padding&nbsp;count&nbsp;(=)&nbsp;(0,&nbsp;1&nbsp;or&nbsp;2)<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;pad&nbsp;=&nbsp;sArr[eIx]&nbsp;==&nbsp;'='&nbsp;?&nbsp;(sArr[eIx&nbsp;-&nbsp;1]&nbsp;==&nbsp;'='&nbsp;?&nbsp;2&nbsp;:&nbsp;1)&nbsp;:&nbsp;0;&nbsp;&nbsp;//&nbsp;Count&nbsp;'='&nbsp;at&nbsp;end.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;cCnt&nbsp;=&nbsp;eIx&nbsp;-&nbsp;sIx&nbsp;+&nbsp;1;&nbsp;&nbsp;&nbsp;//&nbsp;Content&nbsp;count&nbsp;including&nbsp;possible&nbsp;separators<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;sepCnt&nbsp;=&nbsp;sLen&nbsp;&amp;gt;&nbsp;76&nbsp;?&nbsp;(sArr[76]&nbsp;==&nbsp;'\r'&nbsp;?&nbsp;cCnt&nbsp;/&nbsp;78&nbsp;:&nbsp;0)&nbsp;&amp;lt;&amp;lt;&nbsp;1&nbsp;:&nbsp;0;<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;int&nbsp;len&nbsp;=&nbsp;((sLen&nbsp;-&nbsp;sepCnt)&nbsp;*&nbsp;6&nbsp;&amp;gt;&amp;gt;&nbsp;3)&nbsp;-&nbsp;pad;<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;len&nbsp;=&nbsp;((cCnt&nbsp;-&nbsp;sepCnt)&nbsp;*&nbsp;6&nbsp;&amp;gt;&amp;gt;&nbsp;3)&nbsp;-&nbsp;pad;&nbsp;//&nbsp;The&nbsp;number&nbsp;of&nbsp;decoded&nbsp;bytes<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;byte[]&nbsp;dArr&nbsp;=&nbsp;new&nbsp;byte[len];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Preallocate&nbsp;byte[]&nbsp;of&nbsp;exact&nbsp;length<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;byte[]&nbsp;dArr&nbsp;=&nbsp;new&nbsp;byte[len];&nbsp;//&nbsp;Preallocate&nbsp;byte[]&nbsp;of&nbsp;exact&nbsp;length<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Decode&nbsp;all&nbsp;but&nbsp;the&nbsp;last&nbsp;0&nbsp;-&nbsp;2&nbsp;bytes.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;d&nbsp;=&nbsp;0;<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;cc&nbsp;=&nbsp;0,&nbsp;eLen&nbsp;=&nbsp;(len&nbsp;/&nbsp;3)&nbsp;*&nbsp;3;&nbsp;d&nbsp;&amp;lt;&nbsp;eLen;)&nbsp;{<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;s&nbsp;=&nbsp;0,&nbsp;d&nbsp;=&nbsp;0;&nbsp;d&nbsp;&amp;lt;&nbsp;len;)&nbsp;{<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Assemble&nbsp;three&nbsp;bytes&nbsp;into&nbsp;an&nbsp;int&nbsp;from&nbsp;four&nbsp;&amp;quot;valid&amp;quot;&nbsp;characters.<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;i&nbsp;=&nbsp;IA[sArr[sIx++]]&nbsp;&amp;lt;&amp;lt;&nbsp;18&nbsp;|&nbsp;IA[sArr[sIx++]]&nbsp;&amp;lt;&amp;lt;&nbsp;12&nbsp;|&nbsp;IA[sArr[sIx++]]&nbsp;&amp;lt;&amp;lt;&nbsp;6&nbsp;|&nbsp;IA[sArr[sIx++]];<br>
-<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;i&nbsp;=&nbsp;0;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;j&nbsp;=&nbsp;0;&nbsp;j&nbsp;&amp;lt;&nbsp;4;&nbsp;j++)&nbsp;{&nbsp;//&nbsp;j&nbsp;only&nbsp;increased&nbsp;if&nbsp;a&nbsp;valid&nbsp;char&nbsp;was&nbsp;found.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;int&nbsp;c&nbsp;=&nbsp;IA[sArr[s++]];<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(c&nbsp;&amp;gt;=&nbsp;0)&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i&nbsp;|=&nbsp;c&nbsp;&amp;lt;&amp;lt;&nbsp;18&nbsp;-&nbsp;j&nbsp;*&nbsp;6;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;j--;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Add&nbsp;the&nbsp;bytes<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[d++]&nbsp;=&nbsp;(byte)&nbsp;(i&nbsp;&amp;gt;&amp;gt;&nbsp;16);<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[d++]&nbsp;=&nbsp;(byte)&nbsp;(i&nbsp;&amp;gt;&amp;gt;&nbsp;8);<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[d++]&nbsp;=&nbsp;(byte)&nbsp;i;<br>
-<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;If&nbsp;line&nbsp;separator,&nbsp;jump&nbsp;over&nbsp;it.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(sepCnt&nbsp;&amp;gt;&nbsp;0&nbsp;&amp;amp;&amp;amp;&nbsp;++cc&nbsp;==&nbsp;19)&nbsp;{<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sIx&nbsp;+=&nbsp;2;<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cc&nbsp;=&nbsp;0;<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(d&nbsp;&amp;lt;&nbsp;len)&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[d++]&nbsp;=&nbsp;(byte)&nbsp;(i&nbsp;&amp;gt;&amp;gt;&nbsp;8);<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(d&nbsp;&amp;lt;&nbsp;len)&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[d++]&nbsp;=&nbsp;(byte)&nbsp;i;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;del&gt;-<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(d&nbsp;&amp;lt;&nbsp;len)&nbsp;{<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Decode&nbsp;last&nbsp;1-3&nbsp;bytes&nbsp;(incl&nbsp;'=')&nbsp;into&nbsp;1-3&nbsp;bytes<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;i&nbsp;=&nbsp;0;<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;j&nbsp;=&nbsp;0;&nbsp;sIx&nbsp;&amp;lt;=&nbsp;eIx&nbsp;-&nbsp;pad;&nbsp;j++)&nbsp;{<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i&nbsp;|=&nbsp;IA[sArr[sIx++]]&nbsp;&amp;lt;&amp;lt;&nbsp;(18&nbsp;-&nbsp;j&nbsp;*&nbsp;6);<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
-<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;r&nbsp;=&nbsp;16;&nbsp;d&nbsp;&amp;lt;&nbsp;len;&nbsp;r&nbsp;-=&nbsp;8)&nbsp;{<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[d++]&nbsp;=&nbsp;(byte)&nbsp;(i&nbsp;&amp;gt;&amp;gt;&nbsp;r);<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
-<br>
&lt;/del&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;dArr;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;****************************************************************************************<br>
-&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;*&nbsp;&nbsp;byte[]&nbsp;version<br>
-&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;****************************************************************************************<br>
-&nbsp;&nbsp;&nbsp;&nbsp;/**&nbsp;Encodes&nbsp;a&nbsp;raw&nbsp;byte&nbsp;array&nbsp;into&nbsp;a&nbsp;BASE64&nbsp;&amp;lt;code&amp;gt;byte[]&amp;lt;/code&amp;gt;&nbsp;representation&nbsp;i&nbsp;accordance&nbsp;with&nbsp;RFC&nbsp;2045.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;sArr&nbsp;The&nbsp;bytes&nbsp;to&nbsp;convert.&nbsp;If&nbsp;&amp;lt;code&amp;gt;null&amp;lt;/code&amp;gt;&nbsp;or&nbsp;length&nbsp;0&nbsp;an&nbsp;empty&nbsp;array&nbsp;will&nbsp;be&nbsp;returned.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;lineSep&nbsp;Optional&nbsp;&amp;quot;\r\n&amp;quot;&nbsp;after&nbsp;76&nbsp;characters,&nbsp;unless&nbsp;end&nbsp;of&nbsp;file.&amp;lt;br&amp;gt;<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;No&nbsp;line&nbsp;separator&nbsp;will&nbsp;be&nbsp;in&nbsp;breach&nbsp;of&nbsp;RFC&nbsp;2045&nbsp;which&nbsp;specifies&nbsp;max&nbsp;76&nbsp;per&nbsp;line&nbsp;but&nbsp;will&nbsp;be&nbsp;a<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;little&nbsp;faster.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;A&nbsp;BASE64&nbsp;encoded&nbsp;array.&nbsp;Never&nbsp;&amp;lt;code&amp;gt;null&amp;lt;/code&amp;gt;.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Decodes&nbsp;a&nbsp;BASE64&nbsp;encoded&nbsp;&amp;lt;code&amp;gt;String&amp;lt;/code&amp;gt;.&nbsp;All&nbsp;illegal&nbsp;characters&nbsp;will<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;be&nbsp;ignored&nbsp;and&nbsp;can&nbsp;handle&nbsp;both&nbsp;strings&nbsp;with&nbsp;and&nbsp;without&nbsp;line&nbsp;separators.&amp;lt;br&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&amp;lt;b&amp;gt;Note!&amp;lt;/b&amp;gt;&nbsp;It&nbsp;can&nbsp;be&nbsp;up&nbsp;to&nbsp;about&nbsp;2x&nbsp;the&nbsp;speed&nbsp;to&nbsp;call<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&amp;lt;code&amp;gt;decode(str.toCharArray())&amp;lt;/code&amp;gt;&nbsp;instead.&nbsp;That&nbsp;will&nbsp;create&nbsp;a<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;temporary&nbsp;array&nbsp;though.&nbsp;This&nbsp;version&nbsp;will&nbsp;use&nbsp;&amp;lt;code&amp;gt;str.charAt(i)&amp;lt;/code&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;to&nbsp;iterate&nbsp;the&nbsp;string.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;str<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;source&nbsp;string.&nbsp;&amp;lt;code&amp;gt;null&amp;lt;/code&amp;gt;&nbsp;or&nbsp;length&nbsp;0&nbsp;will&nbsp;return<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;an&nbsp;empty&nbsp;array.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;The&nbsp;decoded&nbsp;array&nbsp;of&nbsp;bytes.&nbsp;May&nbsp;be&nbsp;of&nbsp;length&nbsp;0.&nbsp;Will&nbsp;be<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;code&amp;gt;null&amp;lt;/code&amp;gt;&nbsp;if&nbsp;the&nbsp;legal&nbsp;characters&nbsp;(including&nbsp;'=')&nbsp;isn't<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;divideable&nbsp;by&nbsp;4.&nbsp;(I.e.&nbsp;definitely&nbsp;corrupted).<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;byte[]&nbsp;encodeToByte(byte[]&nbsp;sArr,&nbsp;boolean&nbsp;lineSep)&nbsp;{<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;byte[]&nbsp;decode(final&nbsp;String&nbsp;str)&nbsp;{<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Check&nbsp;special&nbsp;case<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;sLen&nbsp;=&nbsp;sArr&nbsp;!=&nbsp;null&nbsp;?&nbsp;sArr.length&nbsp;:&nbsp;0;<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;int&nbsp;sLen&nbsp;=&nbsp;str&nbsp;!=&nbsp;null&nbsp;?&nbsp;str.length()&nbsp;:&nbsp;0;<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(sLen&nbsp;==&nbsp;0)&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;new&nbsp;byte[0];<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;eLen&nbsp;=&nbsp;(sLen&nbsp;/&nbsp;3)&nbsp;*&nbsp;3;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Length&nbsp;of&nbsp;even&nbsp;24-bits.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;cCnt&nbsp;=&nbsp;((sLen&nbsp;-&nbsp;1)&nbsp;/&nbsp;3&nbsp;+&nbsp;1)&nbsp;&amp;lt;&amp;lt;&nbsp;2;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Returned&nbsp;character&nbsp;count<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;dLen&nbsp;=&nbsp;cCnt&nbsp;+&nbsp;(lineSep&nbsp;?&nbsp;(cCnt&nbsp;-&nbsp;1)&nbsp;/&nbsp;76&nbsp;&amp;lt;&amp;lt;&nbsp;1&nbsp;:&nbsp;0);&nbsp;//&nbsp;Length&nbsp;of&nbsp;returned&nbsp;array<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;byte[]&nbsp;dArr&nbsp;=&nbsp;new&nbsp;byte[dLen];<br>
-<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Encode&nbsp;even&nbsp;24-bits<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;s&nbsp;=&nbsp;0,&nbsp;d&nbsp;=&nbsp;0,&nbsp;cc&nbsp;=&nbsp;0;&nbsp;s&nbsp;&amp;lt;&nbsp;eLen;)&nbsp;{<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Copy&nbsp;next&nbsp;three&nbsp;bytes&nbsp;into&nbsp;lower&nbsp;24&nbsp;bits&nbsp;of&nbsp;int,&nbsp;paying&nbsp;attension&nbsp;to&nbsp;sign.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;i&nbsp;=&nbsp;(sArr[s++]&nbsp;&amp;amp;&nbsp;0xff)&nbsp;&amp;lt;&amp;lt;&nbsp;16&nbsp;|&nbsp;(sArr[s++]&nbsp;&amp;amp;&nbsp;0xff)&nbsp;&amp;lt;&amp;lt;&nbsp;8&nbsp;|&nbsp;(sArr[s++]&nbsp;&amp;amp;&nbsp;0xff);<br>
-<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Encode&nbsp;the&nbsp;int&nbsp;into&nbsp;four&nbsp;chars<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[d++]&nbsp;=&nbsp;(byte)&nbsp;CA[(i&nbsp;&amp;gt;&amp;gt;&amp;gt;&nbsp;18)&nbsp;&amp;amp;&nbsp;0x3f];<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[d++]&nbsp;=&nbsp;(byte)&nbsp;CA[(i&nbsp;&amp;gt;&amp;gt;&amp;gt;&nbsp;12)&nbsp;&amp;amp;&nbsp;0x3f];<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[d++]&nbsp;=&nbsp;(byte)&nbsp;CA[(i&nbsp;&amp;gt;&amp;gt;&amp;gt;&nbsp;6)&nbsp;&amp;amp;&nbsp;0x3f];<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[d++]&nbsp;=&nbsp;(byte)&nbsp;CA[i&nbsp;&amp;amp;&nbsp;0x3f];<br>
-<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Add&nbsp;optional&nbsp;line&nbsp;separator<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(lineSep&nbsp;&amp;amp;&amp;amp;&nbsp;++cc&nbsp;==&nbsp;19&nbsp;&amp;amp;&amp;amp;&nbsp;d&nbsp;&amp;lt;&nbsp;dLen&nbsp;-&nbsp;2)&nbsp;{<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[d++]&nbsp;=&nbsp;'\r';<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[d++]&nbsp;=&nbsp;'\n';<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cc&nbsp;=&nbsp;0;<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
-<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Pad&nbsp;and&nbsp;encode&nbsp;last&nbsp;bits&nbsp;if&nbsp;source&nbsp;isn't&nbsp;an&nbsp;even&nbsp;24&nbsp;bits.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;left&nbsp;=&nbsp;sLen&nbsp;-&nbsp;eLen;&nbsp;//&nbsp;0&nbsp;-&nbsp;2.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(left&nbsp;&amp;gt;&nbsp;0)&nbsp;{<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Prepare&nbsp;the&nbsp;int<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;i&nbsp;=&nbsp;((sArr[eLen]&nbsp;&amp;amp;&nbsp;0xff)&nbsp;&amp;lt;&amp;lt;&nbsp;10)&nbsp;|&nbsp;(left&nbsp;==&nbsp;2&nbsp;?&nbsp;((sArr[sLen&nbsp;-&nbsp;1]&nbsp;&amp;amp;&nbsp;0xff)&nbsp;&amp;lt;&amp;lt;&nbsp;2)&nbsp;:&nbsp;0);<br>
-<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Set&nbsp;last&nbsp;four&nbsp;chars<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[dLen&nbsp;-&nbsp;4]&nbsp;=&nbsp;(byte)&nbsp;CA[i&nbsp;&amp;gt;&amp;gt;&nbsp;12];<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[dLen&nbsp;-&nbsp;3]&nbsp;=&nbsp;(byte)&nbsp;CA[(i&nbsp;&amp;gt;&amp;gt;&amp;gt;&nbsp;6)&nbsp;&amp;amp;&nbsp;0x3f];<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[dLen&nbsp;-&nbsp;2]&nbsp;=&nbsp;left&nbsp;==&nbsp;2&nbsp;?&nbsp;(byte)&nbsp;CA[i&nbsp;&amp;amp;&nbsp;0x3f]&nbsp;:&nbsp;(byte)&nbsp;'=';<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[dLen&nbsp;-&nbsp;1]&nbsp;=&nbsp;'=';<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;dArr;<br>
-&nbsp;&nbsp;&nbsp;&nbsp;}<br>
-<br>
-&nbsp;&nbsp;&nbsp;&nbsp;/**&nbsp;Decodes&nbsp;a&nbsp;BASE64&nbsp;encoded&nbsp;byte&nbsp;array.&nbsp;All&nbsp;illegal&nbsp;characters&nbsp;will&nbsp;be&nbsp;ignored&nbsp;and&nbsp;can&nbsp;handle&nbsp;both&nbsp;arrays&nbsp;with<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;and&nbsp;without&nbsp;line&nbsp;separators.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;sArr&nbsp;The&nbsp;source&nbsp;array.&nbsp;Length&nbsp;0&nbsp;will&nbsp;return&nbsp;an&nbsp;empty&nbsp;array.&nbsp;&amp;lt;code&amp;gt;null&amp;lt;/code&amp;gt;&nbsp;will&nbsp;throw&nbsp;an&nbsp;exception.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;The&nbsp;decoded&nbsp;array&nbsp;of&nbsp;bytes.&nbsp;May&nbsp;be&nbsp;of&nbsp;length&nbsp;0.&nbsp;Will&nbsp;be&nbsp;&amp;lt;code&amp;gt;null&amp;lt;/code&amp;gt;&nbsp;if&nbsp;the&nbsp;legal&nbsp;characters<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;(including&nbsp;'=')&nbsp;isn't&nbsp;divideable&nbsp;by&nbsp;4.&nbsp;(I.e.&nbsp;definitely&nbsp;corrupted).<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
-&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;byte[]&nbsp;decode(byte[]&nbsp;sArr)&nbsp;{<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Check&nbsp;special&nbsp;case<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;sLen&nbsp;=&nbsp;sArr.length;<br>
-<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Count&nbsp;illegal&nbsp;characters&nbsp;(including&nbsp;'\r',&nbsp;'\n')&nbsp;to&nbsp;know&nbsp;what&nbsp;size&nbsp;the&nbsp;returned&nbsp;array&nbsp;will&nbsp;be,<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;so&nbsp;we&nbsp;don't&nbsp;have&nbsp;to&nbsp;reallocate&nbsp;&amp;amp;&nbsp;copy&nbsp;it&nbsp;later.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Count&nbsp;illegal&nbsp;characters&nbsp;(including&nbsp;'\r',&nbsp;'\n')&nbsp;to&nbsp;know&nbsp;what&nbsp;size&nbsp;the<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;returned&nbsp;array&nbsp;will&nbsp;be,&nbsp;so&nbsp;we&nbsp;don't&nbsp;have&nbsp;to&nbsp;reallocate&nbsp;&amp;amp;&nbsp;copy&nbsp;it<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;later.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;sepCnt&nbsp;=&nbsp;0;&nbsp;//&nbsp;Number&nbsp;of&nbsp;separator&nbsp;characters.&nbsp;(Actually&nbsp;illegal&nbsp;characters,&nbsp;but&nbsp;that's&nbsp;a&nbsp;bonus...)<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&amp;lt;&nbsp;sLen;&nbsp;i++)&nbsp;//&nbsp;If&nbsp;input&nbsp;is&nbsp;&amp;quot;pure&amp;quot;&nbsp;(I.e.&nbsp;no&nbsp;line&nbsp;separators&nbsp;or&nbsp;illegal&nbsp;chars)&nbsp;base64&nbsp;this&nbsp;loop&nbsp;can&nbsp;be&nbsp;commented&nbsp;out.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(IA[sArr[i]&nbsp;&amp;amp;&nbsp;0xff]&nbsp;&amp;lt;&nbsp;0)&nbsp;{<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(IA[str.charAt(i)]&nbsp;&amp;lt;&nbsp;0)&nbsp;{<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sepCnt++;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Check&nbsp;so&nbsp;that&nbsp;legal&nbsp;chars&nbsp;(including&nbsp;'=')&nbsp;are&nbsp;evenly&nbsp;divideable&nbsp;by&nbsp;4&nbsp;as&nbsp;specified&nbsp;in&nbsp;RFC&nbsp;2045.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Check&nbsp;so&nbsp;that&nbsp;legal&nbsp;chars&nbsp;(including&nbsp;'=')&nbsp;are&nbsp;evenly&nbsp;divideable&nbsp;by&nbsp;4<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;as&nbsp;specified&nbsp;in&nbsp;RFC&nbsp;2045.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;((sLen&nbsp;-&nbsp;sepCnt)&nbsp;%&nbsp;4&nbsp;!=&nbsp;0)&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;null;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Count&nbsp;'='&nbsp;at&nbsp;end<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;pad&nbsp;=&nbsp;0;<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;i&nbsp;=&nbsp;sLen;&nbsp;i&nbsp;&amp;gt;&nbsp;1&nbsp;&amp;amp;&amp;amp;&nbsp;IA[sArr[--i]&nbsp;&amp;amp;&nbsp;0xff]&nbsp;&amp;lt;=&nbsp;0;)&nbsp;{<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(sArr[i]&nbsp;==&nbsp;'=')&nbsp;{<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;i&nbsp;=&nbsp;sLen;&nbsp;i&nbsp;&amp;gt;&nbsp;1&nbsp;&amp;amp;&amp;amp;&nbsp;IA[str.charAt(--i)]&nbsp;&amp;lt;=&nbsp;0;)&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(str.charAt(i)&nbsp;==&nbsp;'=')&nbsp;{<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pad++;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;len&nbsp;=&nbsp;((sLen&nbsp;-&nbsp;sepCnt)&nbsp;*&nbsp;6&nbsp;&amp;gt;&amp;gt;&nbsp;3)&nbsp;-&nbsp;pad;<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;int&nbsp;len&nbsp;=&nbsp;((sLen&nbsp;-&nbsp;sepCnt)&nbsp;*&nbsp;6&nbsp;&amp;gt;&amp;gt;&nbsp;3)&nbsp;-&nbsp;pad;<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;byte[]&nbsp;dArr&nbsp;=&nbsp;new&nbsp;byte[len];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Preallocate&nbsp;byte[]&nbsp;of&nbsp;exact&nbsp;length<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;byte[]&nbsp;dArr&nbsp;=&nbsp;new&nbsp;byte[len];&nbsp;//&nbsp;Preallocate&nbsp;byte[]&nbsp;of&nbsp;exact&nbsp;length<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;s&nbsp;=&nbsp;0,&nbsp;d&nbsp;=&nbsp;0;&nbsp;d&nbsp;&amp;lt;&nbsp;len;)&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Assemble&nbsp;three&nbsp;bytes&nbsp;into&nbsp;an&nbsp;int&nbsp;from&nbsp;four&nbsp;&amp;quot;valid&amp;quot;&nbsp;characters.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;i&nbsp;=&nbsp;0;<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;j&nbsp;=&nbsp;0;&nbsp;j&nbsp;&amp;lt;&nbsp;4;&nbsp;j++)&nbsp;{&nbsp;&nbsp;&nbsp;//&nbsp;j&nbsp;only&nbsp;increased&nbsp;if&nbsp;a&nbsp;valid&nbsp;char&nbsp;was&nbsp;found.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;c&nbsp;=&nbsp;IA[sArr[s++]&nbsp;&amp;amp;&nbsp;0xff];<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;j&nbsp;=&nbsp;0;&nbsp;j&nbsp;&amp;lt;&nbsp;4;&nbsp;j++)&nbsp;{&nbsp;//&nbsp;j&nbsp;only&nbsp;increased&nbsp;if&nbsp;a&nbsp;valid&nbsp;char&nbsp;was&nbsp;found.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;int&nbsp;c&nbsp;=&nbsp;IA[str.charAt(s++)];<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(c&nbsp;&amp;gt;=&nbsp;0)&nbsp;{<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i&nbsp;|=&nbsp;c&nbsp;&amp;lt;&amp;lt;&nbsp;(18&nbsp;-&nbsp;j&nbsp;*&nbsp;6);<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i&nbsp;|=&nbsp;c&nbsp;&amp;lt;&amp;lt;&nbsp;18&nbsp;-&nbsp;j&nbsp;*&nbsp;6;<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;j--;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;del&gt;-<br>
&lt;/del&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Add&nbsp;the&nbsp;bytes<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[d++]&nbsp;=&nbsp;(byte)&nbsp;(i&nbsp;&amp;gt;&amp;gt;&nbsp;16);<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(d&nbsp;&amp;lt;&nbsp;len)&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-387,27&nbsp;+313,33&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;del&gt;-<br>
&lt;/del&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;dArr;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;/**&nbsp;Decodes&nbsp;a&nbsp;BASE64&nbsp;encoded&nbsp;byte&nbsp;array&nbsp;that&nbsp;is&nbsp;known&nbsp;to&nbsp;be&nbsp;resonably&nbsp;well&nbsp;formatted.&nbsp;The&nbsp;method&nbsp;is&nbsp;about&nbsp;twice&nbsp;as<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;fast&nbsp;as&nbsp;{@link&nbsp;#decode(byte[])}.&nbsp;The&nbsp;preconditions&nbsp;are:&amp;lt;br&amp;gt;<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;+&nbsp;The&nbsp;array&nbsp;must&nbsp;have&nbsp;a&nbsp;line&nbsp;length&nbsp;of&nbsp;76&nbsp;chars&nbsp;OR&nbsp;no&nbsp;line&nbsp;separators&nbsp;at&nbsp;all&nbsp;(one&nbsp;line).&amp;lt;br&amp;gt;<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;+&nbsp;Line&nbsp;separator&nbsp;must&nbsp;be&nbsp;&amp;quot;\r\n&amp;quot;,&nbsp;as&nbsp;specified&nbsp;in&nbsp;RFC&nbsp;2045<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;+&nbsp;The&nbsp;array&nbsp;must&nbsp;not&nbsp;contain&nbsp;illegal&nbsp;characters&nbsp;within&nbsp;the&nbsp;encoded&nbsp;string&amp;lt;br&amp;gt;<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;+&nbsp;The&nbsp;array&nbsp;CAN&nbsp;have&nbsp;illegal&nbsp;characters&nbsp;at&nbsp;the&nbsp;beginning&nbsp;and&nbsp;end,&nbsp;those&nbsp;will&nbsp;be&nbsp;dealt&nbsp;with&nbsp;appropriately.&amp;lt;br&amp;gt;<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;sArr&nbsp;The&nbsp;source&nbsp;array.&nbsp;Length&nbsp;0&nbsp;will&nbsp;return&nbsp;an&nbsp;empty&nbsp;array.&nbsp;&amp;lt;code&amp;gt;null&amp;lt;/code&amp;gt;&nbsp;will&nbsp;throw&nbsp;an&nbsp;exception.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Decodes&nbsp;a&nbsp;BASE64&nbsp;encoded&nbsp;byte&nbsp;array&nbsp;that&nbsp;is&nbsp;known&nbsp;to&nbsp;be&nbsp;resonably&nbsp;well<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;formatted.&nbsp;The&nbsp;method&nbsp;is&nbsp;about&nbsp;twice&nbsp;as&nbsp;fast&nbsp;as&nbsp;{@link&nbsp;#decode(byte[])}.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;The&nbsp;preconditions&nbsp;are:&amp;lt;br&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;+&nbsp;The&nbsp;array&nbsp;must&nbsp;have&nbsp;a&nbsp;line&nbsp;length&nbsp;of&nbsp;76&nbsp;chars&nbsp;OR&nbsp;no&nbsp;line&nbsp;separators&nbsp;at<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;all&nbsp;(one&nbsp;line).&amp;lt;br&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;+&nbsp;Line&nbsp;separator&nbsp;must&nbsp;be&nbsp;&amp;quot;\r\n&amp;quot;,&nbsp;as&nbsp;specified&nbsp;in&nbsp;RFC&nbsp;2045&nbsp;+&nbsp;The&nbsp;array<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;must&nbsp;not&nbsp;contain&nbsp;illegal&nbsp;characters&nbsp;within&nbsp;the&nbsp;encoded&nbsp;string&amp;lt;br&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;+&nbsp;The&nbsp;array&nbsp;CAN&nbsp;have&nbsp;illegal&nbsp;characters&nbsp;at&nbsp;the&nbsp;beginning&nbsp;and&nbsp;end,&nbsp;those<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;will&nbsp;be&nbsp;dealt&nbsp;with&nbsp;appropriately.&amp;lt;br&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;sArr<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;source&nbsp;array.&nbsp;Length&nbsp;0&nbsp;will&nbsp;return&nbsp;an&nbsp;empty&nbsp;array.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;code&amp;gt;null&amp;lt;/code&amp;gt;&nbsp;will&nbsp;throw&nbsp;an&nbsp;exception.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;The&nbsp;decoded&nbsp;array&nbsp;of&nbsp;bytes.&nbsp;May&nbsp;be&nbsp;of&nbsp;length&nbsp;0.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;byte[]&nbsp;decodeFast(byte[]&nbsp;sArr)&nbsp;{<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;byte[]&nbsp;decodeFast(final&nbsp;byte[]&nbsp;sArr)&nbsp;{<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Check&nbsp;special&nbsp;case<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;sLen&nbsp;=&nbsp;sArr.length;<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;int&nbsp;sLen&nbsp;=&nbsp;sArr.length;<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(sLen&nbsp;==&nbsp;0)&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;new&nbsp;byte[0];<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;sIx&nbsp;=&nbsp;0,&nbsp;eIx&nbsp;=&nbsp;sLen&nbsp;-&nbsp;1;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Start&nbsp;and&nbsp;end&nbsp;index&nbsp;after&nbsp;trimming.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;sIx&nbsp;=&nbsp;0,&nbsp;eIx&nbsp;=&nbsp;sLen&nbsp;-&nbsp;1;&nbsp;//&nbsp;Start&nbsp;and&nbsp;end&nbsp;index&nbsp;after&nbsp;trimming.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Trim&nbsp;illegal&nbsp;chars&nbsp;from&nbsp;start<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;(sIx&nbsp;&amp;lt;&nbsp;eIx&nbsp;&amp;amp;&amp;amp;&nbsp;IA[sArr[sIx]&nbsp;&amp;amp;&nbsp;0xff]&nbsp;&amp;lt;&nbsp;0)&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-420,18&nbsp;+352,20&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;get&nbsp;the&nbsp;padding&nbsp;count&nbsp;(=)&nbsp;(0,&nbsp;1&nbsp;or&nbsp;2)<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;pad&nbsp;=&nbsp;sArr[eIx]&nbsp;==&nbsp;'='&nbsp;?&nbsp;(sArr[eIx&nbsp;-&nbsp;1]&nbsp;==&nbsp;'='&nbsp;?&nbsp;2&nbsp;:&nbsp;1)&nbsp;:&nbsp;0;&nbsp;&nbsp;//&nbsp;Count&nbsp;'='&nbsp;at&nbsp;end.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;cCnt&nbsp;=&nbsp;eIx&nbsp;-&nbsp;sIx&nbsp;+&nbsp;1;&nbsp;&nbsp;&nbsp;//&nbsp;Content&nbsp;count&nbsp;including&nbsp;possible&nbsp;separators<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;sepCnt&nbsp;=&nbsp;sLen&nbsp;&amp;gt;&nbsp;76&nbsp;?&nbsp;(sArr[76]&nbsp;==&nbsp;'\r'&nbsp;?&nbsp;cCnt&nbsp;/&nbsp;78&nbsp;:&nbsp;0)&nbsp;&amp;lt;&amp;lt;&nbsp;1&nbsp;:&nbsp;0;<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;int&nbsp;pad&nbsp;=&nbsp;sArr[eIx]&nbsp;==&nbsp;'='&nbsp;?&nbsp;sArr[eIx&nbsp;-&nbsp;1]&nbsp;==&nbsp;'='&nbsp;?&nbsp;2&nbsp;:&nbsp;1&nbsp;:&nbsp;0;&nbsp;//&nbsp;Count&nbsp;'='&nbsp;at&nbsp;end.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;int&nbsp;cCnt&nbsp;=&nbsp;eIx&nbsp;-&nbsp;sIx&nbsp;+&nbsp;1;&nbsp;//&nbsp;Content&nbsp;count&nbsp;including&nbsp;possible&nbsp;separators<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;int&nbsp;sepCnt&nbsp;=&nbsp;sLen&nbsp;&amp;gt;&nbsp;76&nbsp;?&nbsp;(sArr[76]&nbsp;==&nbsp;'\r'&nbsp;?&nbsp;cCnt&nbsp;/&nbsp;78&nbsp;:&nbsp;0)&nbsp;&amp;lt;&amp;lt;&nbsp;1&nbsp;:&nbsp;0;<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;len&nbsp;=&nbsp;((cCnt&nbsp;-&nbsp;sepCnt)&nbsp;*&nbsp;6&nbsp;&amp;gt;&amp;gt;&nbsp;3)&nbsp;-&nbsp;pad;&nbsp;//&nbsp;The&nbsp;number&nbsp;of&nbsp;decoded&nbsp;bytes<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;byte[]&nbsp;dArr&nbsp;=&nbsp;new&nbsp;byte[len];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Preallocate&nbsp;byte[]&nbsp;of&nbsp;exact&nbsp;length<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;int&nbsp;len&nbsp;=&nbsp;((cCnt&nbsp;-&nbsp;sepCnt)&nbsp;*&nbsp;6&nbsp;&amp;gt;&amp;gt;&nbsp;3)&nbsp;-&nbsp;pad;&nbsp;//&nbsp;The&nbsp;number&nbsp;of&nbsp;decoded&nbsp;bytes<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;byte[]&nbsp;dArr&nbsp;=&nbsp;new&nbsp;byte[len];&nbsp;//&nbsp;Preallocate&nbsp;byte[]&nbsp;of&nbsp;exact&nbsp;length<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Decode&nbsp;all&nbsp;but&nbsp;the&nbsp;last&nbsp;0&nbsp;-&nbsp;2&nbsp;bytes.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;d&nbsp;=&nbsp;0;<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;cc&nbsp;=&nbsp;0,&nbsp;eLen&nbsp;=&nbsp;(len&nbsp;/&nbsp;3)&nbsp;*&nbsp;3;&nbsp;d&nbsp;&amp;lt;&nbsp;eLen;)&nbsp;{<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;cc&nbsp;=&nbsp;0,&nbsp;eLen&nbsp;=&nbsp;len&nbsp;/&nbsp;3&nbsp;*&nbsp;3;&nbsp;d&nbsp;&amp;lt;&nbsp;eLen;)&nbsp;{<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Assemble&nbsp;three&nbsp;bytes&nbsp;into&nbsp;an&nbsp;int&nbsp;from&nbsp;four&nbsp;&amp;quot;valid&amp;quot;&nbsp;characters.<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;i&nbsp;=&nbsp;IA[sArr[sIx++]]&nbsp;&amp;lt;&amp;lt;&nbsp;18&nbsp;|&nbsp;IA[sArr[sIx++]]&nbsp;&amp;lt;&amp;lt;&nbsp;12&nbsp;|&nbsp;IA[sArr[sIx++]]&nbsp;&amp;lt;&amp;lt;&nbsp;6&nbsp;|&nbsp;IA[sArr[sIx++]];<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;int&nbsp;i&nbsp;=<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IA[sArr[sIx++]]&nbsp;&amp;lt;&amp;lt;&nbsp;18&nbsp;|&nbsp;IA[sArr[sIx++]]&nbsp;&amp;lt;&amp;lt;&nbsp;12&nbsp;|&nbsp;IA[sArr[sIx++]]&nbsp;&amp;lt;&amp;lt;&nbsp;6<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;IA[sArr[sIx++]];<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Add&nbsp;the&nbsp;bytes<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[d++]&nbsp;=&nbsp;(byte)&nbsp;(i&nbsp;&amp;gt;&amp;gt;&nbsp;16);<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-449,7&nbsp;+383,7&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Decode&nbsp;last&nbsp;1-3&nbsp;bytes&nbsp;(incl&nbsp;'=')&nbsp;into&nbsp;1-3&nbsp;bytes<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;i&nbsp;=&nbsp;0;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;j&nbsp;=&nbsp;0;&nbsp;sIx&nbsp;&amp;lt;=&nbsp;eIx&nbsp;-&nbsp;pad;&nbsp;j++)&nbsp;{<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i&nbsp;|=&nbsp;IA[sArr[sIx++]]&nbsp;&amp;lt;&amp;lt;&nbsp;(18&nbsp;-&nbsp;j&nbsp;*&nbsp;6);<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i&nbsp;|=&nbsp;IA[sArr[sIx++]]&nbsp;&amp;lt;&amp;lt;&nbsp;18&nbsp;-&nbsp;j&nbsp;*&nbsp;6;<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;r&nbsp;=&nbsp;16;&nbsp;d&nbsp;&amp;lt;&nbsp;len;&nbsp;r&nbsp;-=&nbsp;8)&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-460,114&nbsp;+394,108&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;dArr;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;****************************************************************************************<br>
-&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;*&nbsp;String&nbsp;version<br>
-&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;****************************************************************************************<br>
-&nbsp;&nbsp;&nbsp;&nbsp;/**&nbsp;Encodes&nbsp;a&nbsp;raw&nbsp;byte&nbsp;array&nbsp;into&nbsp;a&nbsp;BASE64&nbsp;&amp;lt;code&amp;gt;String&amp;lt;/code&amp;gt;&nbsp;representation&nbsp;i&nbsp;accordance&nbsp;with&nbsp;RFC&nbsp;2045.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;sArr&nbsp;The&nbsp;bytes&nbsp;to&nbsp;convert.&nbsp;If&nbsp;&amp;lt;code&amp;gt;null&amp;lt;/code&amp;gt;&nbsp;or&nbsp;length&nbsp;0&nbsp;an&nbsp;empty&nbsp;array&nbsp;will&nbsp;be&nbsp;returned.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;lineSep&nbsp;Optional&nbsp;&amp;quot;\r\n&amp;quot;&nbsp;after&nbsp;76&nbsp;characters,&nbsp;unless&nbsp;end&nbsp;of&nbsp;file.&amp;lt;br&amp;gt;<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;No&nbsp;line&nbsp;separator&nbsp;will&nbsp;be&nbsp;in&nbsp;breach&nbsp;of&nbsp;RFC&nbsp;2045&nbsp;which&nbsp;specifies&nbsp;max&nbsp;76&nbsp;per&nbsp;line&nbsp;but&nbsp;will&nbsp;be&nbsp;a<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;little&nbsp;faster.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;A&nbsp;BASE64&nbsp;encoded&nbsp;array.&nbsp;Never&nbsp;&amp;lt;code&amp;gt;null&amp;lt;/code&amp;gt;.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
-&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;String&nbsp;encode(byte[]&nbsp;sArr,&nbsp;boolean&nbsp;lineSep)&nbsp;{<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Reuse&nbsp;char[]&nbsp;since&nbsp;we&nbsp;can't&nbsp;create&nbsp;a&nbsp;String&nbsp;incrementally&nbsp;anyway&nbsp;and&nbsp;StringBuffer/Builder&nbsp;would&nbsp;be&nbsp;slower.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;new&nbsp;String(encodeToChar(sArr,&nbsp;lineSep));<br>
-&nbsp;&nbsp;&nbsp;&nbsp;}<br>
-<br>
&lt;/del&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;This&nbsp;method&nbsp;is&nbsp;using&nbsp;{@link&nbsp;#encode(byte[],&nbsp;boolean)},&nbsp;and&nbsp;it<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;only&nbsp;exists&nbsp;so&nbsp;we&nbsp;don't&nbsp;break&nbsp;the&nbsp;API.&nbsp;<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Decodes&nbsp;a&nbsp;BASE64&nbsp;encoded&nbsp;char&nbsp;array&nbsp;that&nbsp;is&nbsp;known&nbsp;to&nbsp;be&nbsp;resonably&nbsp;well<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;formatted.&nbsp;The&nbsp;method&nbsp;is&nbsp;about&nbsp;twice&nbsp;as&nbsp;fast&nbsp;as&nbsp;{@link&nbsp;#decode(char[])}.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;The&nbsp;preconditions&nbsp;are:&amp;lt;br&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;+&nbsp;The&nbsp;array&nbsp;must&nbsp;have&nbsp;a&nbsp;line&nbsp;length&nbsp;of&nbsp;76&nbsp;chars&nbsp;OR&nbsp;no&nbsp;line&nbsp;separators&nbsp;at<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;all&nbsp;(one&nbsp;line).&amp;lt;br&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;+&nbsp;Line&nbsp;separator&nbsp;must&nbsp;be&nbsp;&amp;quot;\r\n&amp;quot;,&nbsp;as&nbsp;specified&nbsp;in&nbsp;RFC&nbsp;2045&nbsp;+&nbsp;The&nbsp;array<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;must&nbsp;not&nbsp;contain&nbsp;illegal&nbsp;characters&nbsp;within&nbsp;the&nbsp;encoded&nbsp;string&amp;lt;br&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;+&nbsp;The&nbsp;array&nbsp;CAN&nbsp;have&nbsp;illegal&nbsp;characters&nbsp;at&nbsp;the&nbsp;beginning&nbsp;and&nbsp;end,&nbsp;those<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;will&nbsp;be&nbsp;dealt&nbsp;with&nbsp;appropriately.&amp;lt;br&amp;gt;<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;content&nbsp;The&nbsp;bytearray&nbsp;that&nbsp;needs&nbsp;to&nbsp;be&nbsp;Base64&nbsp;encoded<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;the&nbsp;Base64&nbsp;encoded<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;sArr<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;source&nbsp;array.&nbsp;Length&nbsp;0&nbsp;will&nbsp;return&nbsp;an&nbsp;empty&nbsp;array.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;code&amp;gt;null&amp;lt;/code&amp;gt;&nbsp;will&nbsp;throw&nbsp;an&nbsp;exception.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;The&nbsp;decoded&nbsp;array&nbsp;of&nbsp;bytes.&nbsp;May&nbsp;be&nbsp;of&nbsp;length&nbsp;0.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;String&nbsp;encode(byte[]&nbsp;content)&nbsp;{<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;encode(content,&nbsp;false);<br>
-&nbsp;&nbsp;&nbsp;&nbsp;}<br>
-<br>
-&nbsp;&nbsp;&nbsp;&nbsp;/**&nbsp;Decodes&nbsp;a&nbsp;BASE64&nbsp;encoded&nbsp;&amp;lt;code&amp;gt;String&amp;lt;/code&amp;gt;.&nbsp;All&nbsp;illegal&nbsp;characters&nbsp;will&nbsp;be&nbsp;ignored&nbsp;and&nbsp;can&nbsp;handle&nbsp;both&nbsp;strings&nbsp;with<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;and&nbsp;without&nbsp;line&nbsp;separators.&amp;lt;br&amp;gt;<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&amp;lt;b&amp;gt;Note!&amp;lt;/b&amp;gt;&nbsp;It&nbsp;can&nbsp;be&nbsp;up&nbsp;to&nbsp;about&nbsp;2x&nbsp;the&nbsp;speed&nbsp;to&nbsp;call&nbsp;&amp;lt;code&amp;gt;decode(str.toCharArray())&amp;lt;/code&amp;gt;&nbsp;instead.&nbsp;That<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;will&nbsp;create&nbsp;a&nbsp;temporary&nbsp;array&nbsp;though.&nbsp;This&nbsp;version&nbsp;will&nbsp;use&nbsp;&amp;lt;code&amp;gt;str.charAt(i)&amp;lt;/code&amp;gt;&nbsp;to&nbsp;iterate&nbsp;the&nbsp;string.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;str&nbsp;The&nbsp;source&nbsp;string.&nbsp;&amp;lt;code&amp;gt;null&amp;lt;/code&amp;gt;&nbsp;or&nbsp;length&nbsp;0&nbsp;will&nbsp;return&nbsp;an&nbsp;empty&nbsp;array.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;The&nbsp;decoded&nbsp;array&nbsp;of&nbsp;bytes.&nbsp;May&nbsp;be&nbsp;of&nbsp;length&nbsp;0.&nbsp;Will&nbsp;be&nbsp;&amp;lt;code&amp;gt;null&amp;lt;/code&amp;gt;&nbsp;if&nbsp;the&nbsp;legal&nbsp;characters<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;(including&nbsp;'=')&nbsp;isn't&nbsp;divideable&nbsp;by&nbsp;4.&nbsp;&nbsp;(I.e.&nbsp;definitely&nbsp;corrupted).<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
-&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;byte[]&nbsp;decode(String&nbsp;str)&nbsp;{<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;byte[]&nbsp;decodeFast(final&nbsp;char[]&nbsp;sArr)&nbsp;{<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Check&nbsp;special&nbsp;case<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;sLen&nbsp;=&nbsp;str&nbsp;!=&nbsp;null&nbsp;?&nbsp;str.length()&nbsp;:&nbsp;0;<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;int&nbsp;sLen&nbsp;=&nbsp;sArr.length;<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(sLen&nbsp;==&nbsp;0)&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;new&nbsp;byte[0];<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Count&nbsp;illegal&nbsp;characters&nbsp;(including&nbsp;'\r',&nbsp;'\n')&nbsp;to&nbsp;know&nbsp;what&nbsp;size&nbsp;the&nbsp;returned&nbsp;array&nbsp;will&nbsp;be,<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;so&nbsp;we&nbsp;don't&nbsp;have&nbsp;to&nbsp;reallocate&nbsp;&amp;amp;&nbsp;copy&nbsp;it&nbsp;later.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;sepCnt&nbsp;=&nbsp;0;&nbsp;//&nbsp;Number&nbsp;of&nbsp;separator&nbsp;characters.&nbsp;(Actually&nbsp;illegal&nbsp;characters,&nbsp;but&nbsp;that's&nbsp;a&nbsp;bonus...)<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&amp;lt;&nbsp;sLen;&nbsp;i++)&nbsp;//&nbsp;If&nbsp;input&nbsp;is&nbsp;&amp;quot;pure&amp;quot;&nbsp;(I.e.&nbsp;no&nbsp;line&nbsp;separators&nbsp;or&nbsp;illegal&nbsp;chars)&nbsp;base64&nbsp;this&nbsp;loop&nbsp;can&nbsp;be&nbsp;commented&nbsp;out.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(IA[str.charAt(i)]&nbsp;&amp;lt;&nbsp;0)&nbsp;{<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sepCnt++;<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;sIx&nbsp;=&nbsp;0,&nbsp;eIx&nbsp;=&nbsp;sLen&nbsp;-&nbsp;1;&nbsp;//&nbsp;Start&nbsp;and&nbsp;end&nbsp;index&nbsp;after&nbsp;trimming.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Check&nbsp;so&nbsp;that&nbsp;legal&nbsp;chars&nbsp;(including&nbsp;'=')&nbsp;are&nbsp;evenly&nbsp;divideable&nbsp;by&nbsp;4&nbsp;as&nbsp;specified&nbsp;in&nbsp;RFC&nbsp;2045.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;((sLen&nbsp;-&nbsp;sepCnt)&nbsp;%&nbsp;4&nbsp;!=&nbsp;0)&nbsp;{<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;null;<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Trim&nbsp;illegal&nbsp;chars&nbsp;from&nbsp;start<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;(sIx&nbsp;&amp;lt;&nbsp;eIx&nbsp;&amp;amp;&amp;amp;&nbsp;IA[sArr[sIx]]&nbsp;&amp;lt;&nbsp;0)&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sIx++;<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Count&nbsp;'='&nbsp;at&nbsp;end<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;pad&nbsp;=&nbsp;0;<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;i&nbsp;=&nbsp;sLen;&nbsp;i&nbsp;&amp;gt;&nbsp;1&nbsp;&amp;amp;&amp;amp;&nbsp;IA[str.charAt(--i)]&nbsp;&amp;lt;=&nbsp;0;)&nbsp;{<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(str.charAt(i)&nbsp;==&nbsp;'=')&nbsp;{<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pad++;<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Trim&nbsp;illegal&nbsp;chars&nbsp;from&nbsp;end<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;(eIx&nbsp;&amp;gt;&nbsp;0&nbsp;&amp;amp;&amp;amp;&nbsp;IA[sArr[eIx]]&nbsp;&amp;lt;&nbsp;0)&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eIx--;<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;len&nbsp;=&nbsp;((sLen&nbsp;-&nbsp;sepCnt)&nbsp;*&nbsp;6&nbsp;&amp;gt;&amp;gt;&nbsp;3)&nbsp;-&nbsp;pad;<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;get&nbsp;the&nbsp;padding&nbsp;count&nbsp;(=)&nbsp;(0,&nbsp;1&nbsp;or&nbsp;2)<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;int&nbsp;pad&nbsp;=&nbsp;sArr[eIx]&nbsp;==&nbsp;'='&nbsp;?&nbsp;sArr[eIx&nbsp;-&nbsp;1]&nbsp;==&nbsp;'='&nbsp;?&nbsp;2&nbsp;:&nbsp;1&nbsp;:&nbsp;0;&nbsp;//&nbsp;Count&nbsp;'='&nbsp;at&nbsp;end.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;int&nbsp;cCnt&nbsp;=&nbsp;eIx&nbsp;-&nbsp;sIx&nbsp;+&nbsp;1;&nbsp;//&nbsp;Content&nbsp;count&nbsp;including&nbsp;possible&nbsp;separators<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;int&nbsp;sepCnt&nbsp;=&nbsp;sLen&nbsp;&amp;gt;&nbsp;76&nbsp;?&nbsp;(sArr[76]&nbsp;==&nbsp;'\r'&nbsp;?&nbsp;cCnt&nbsp;/&nbsp;78&nbsp;:&nbsp;0)&nbsp;&amp;lt;&amp;lt;&nbsp;1&nbsp;:&nbsp;0;<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;byte[]&nbsp;dArr&nbsp;=&nbsp;new&nbsp;byte[len];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Preallocate&nbsp;byte[]&nbsp;of&nbsp;exact&nbsp;length<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;int&nbsp;len&nbsp;=&nbsp;((cCnt&nbsp;-&nbsp;sepCnt)&nbsp;*&nbsp;6&nbsp;&amp;gt;&amp;gt;&nbsp;3)&nbsp;-&nbsp;pad;&nbsp;//&nbsp;The&nbsp;number&nbsp;of&nbsp;decoded&nbsp;bytes<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;byte[]&nbsp;dArr&nbsp;=&nbsp;new&nbsp;byte[len];&nbsp;//&nbsp;Preallocate&nbsp;byte[]&nbsp;of&nbsp;exact&nbsp;length<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;s&nbsp;=&nbsp;0,&nbsp;d&nbsp;=&nbsp;0;&nbsp;d&nbsp;&amp;lt;&nbsp;len;)&nbsp;{<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Decode&nbsp;all&nbsp;but&nbsp;the&nbsp;last&nbsp;0&nbsp;-&nbsp;2&nbsp;bytes.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;d&nbsp;=&nbsp;0;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;cc&nbsp;=&nbsp;0,&nbsp;eLen&nbsp;=&nbsp;len&nbsp;/&nbsp;3&nbsp;*&nbsp;3;&nbsp;d&nbsp;&amp;lt;&nbsp;eLen;)&nbsp;{<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Assemble&nbsp;three&nbsp;bytes&nbsp;into&nbsp;an&nbsp;int&nbsp;from&nbsp;four&nbsp;&amp;quot;valid&amp;quot;&nbsp;characters.<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;i&nbsp;=&nbsp;0;<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;j&nbsp;=&nbsp;0;&nbsp;j&nbsp;&amp;lt;&nbsp;4;&nbsp;j++)&nbsp;{&nbsp;&nbsp;&nbsp;//&nbsp;j&nbsp;only&nbsp;increased&nbsp;if&nbsp;a&nbsp;valid&nbsp;char&nbsp;was&nbsp;found.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;c&nbsp;=&nbsp;IA[str.charAt(s++)];<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(c&nbsp;&amp;gt;=&nbsp;0)&nbsp;{<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i&nbsp;|=&nbsp;c&nbsp;&amp;lt;&amp;lt;&nbsp;(18&nbsp;-&nbsp;j&nbsp;*&nbsp;6);<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;j--;<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;int&nbsp;i&nbsp;=<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IA[sArr[sIx++]]&nbsp;&amp;lt;&amp;lt;&nbsp;18&nbsp;|&nbsp;IA[sArr[sIx++]]&nbsp;&amp;lt;&amp;lt;&nbsp;12&nbsp;|&nbsp;IA[sArr[sIx++]]&nbsp;&amp;lt;&amp;lt;&nbsp;6<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;IA[sArr[sIx++]];<br>
+<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Add&nbsp;the&nbsp;bytes<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[d++]&nbsp;=&nbsp;(byte)&nbsp;(i&nbsp;&amp;gt;&amp;gt;&nbsp;16);<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(d&nbsp;&amp;lt;&nbsp;len)&nbsp;{<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[d++]&nbsp;=&nbsp;(byte)&nbsp;(i&nbsp;&amp;gt;&amp;gt;&nbsp;8);<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(d&nbsp;&amp;lt;&nbsp;len)&nbsp;{<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[d++]&nbsp;=&nbsp;(byte)&nbsp;i;<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[d++]&nbsp;=&nbsp;(byte)&nbsp;(i&nbsp;&amp;gt;&amp;gt;&nbsp;8);<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[d++]&nbsp;=&nbsp;(byte)&nbsp;i;<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;If&nbsp;line&nbsp;separator,&nbsp;jump&nbsp;over&nbsp;it.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(sepCnt&nbsp;&amp;gt;&nbsp;0&nbsp;&amp;amp;&amp;amp;&nbsp;++cc&nbsp;==&nbsp;19)&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sIx&nbsp;+=&nbsp;2;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cc&nbsp;=&nbsp;0;<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;ins&gt;+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(d&nbsp;&amp;lt;&nbsp;len)&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Decode&nbsp;last&nbsp;1-3&nbsp;bytes&nbsp;(incl&nbsp;'=')&nbsp;into&nbsp;1-3&nbsp;bytes<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;i&nbsp;=&nbsp;0;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;j&nbsp;=&nbsp;0;&nbsp;sIx&nbsp;&amp;lt;=&nbsp;eIx&nbsp;-&nbsp;pad;&nbsp;j++)&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i&nbsp;|=&nbsp;IA[sArr[sIx++]]&nbsp;&amp;lt;&amp;lt;&nbsp;18&nbsp;-&nbsp;j&nbsp;*&nbsp;6;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;r&nbsp;=&nbsp;16;&nbsp;d&nbsp;&amp;lt;&nbsp;len;&nbsp;r&nbsp;-=&nbsp;8)&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[d++]&nbsp;=&nbsp;(byte)&nbsp;(i&nbsp;&amp;gt;&amp;gt;&nbsp;r);<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
+<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;dArr;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;/**&nbsp;Decodes&nbsp;a&nbsp;BASE64&nbsp;encoded&nbsp;string&nbsp;that&nbsp;is&nbsp;known&nbsp;to&nbsp;be&nbsp;resonably&nbsp;well&nbsp;formatted.&nbsp;The&nbsp;method&nbsp;is&nbsp;about&nbsp;twice&nbsp;as<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;fast&nbsp;as&nbsp;{@link&nbsp;#decode(String)}.&nbsp;The&nbsp;preconditions&nbsp;are:&amp;lt;br&amp;gt;<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;+&nbsp;The&nbsp;array&nbsp;must&nbsp;have&nbsp;a&nbsp;line&nbsp;length&nbsp;of&nbsp;76&nbsp;chars&nbsp;OR&nbsp;no&nbsp;line&nbsp;separators&nbsp;at&nbsp;all&nbsp;(one&nbsp;line).&amp;lt;br&amp;gt;<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;+&nbsp;Line&nbsp;separator&nbsp;must&nbsp;be&nbsp;&amp;quot;\r\n&amp;quot;,&nbsp;as&nbsp;specified&nbsp;in&nbsp;RFC&nbsp;2045<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;+&nbsp;The&nbsp;array&nbsp;must&nbsp;not&nbsp;contain&nbsp;illegal&nbsp;characters&nbsp;within&nbsp;the&nbsp;encoded&nbsp;string&amp;lt;br&amp;gt;<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;+&nbsp;The&nbsp;array&nbsp;CAN&nbsp;have&nbsp;illegal&nbsp;characters&nbsp;at&nbsp;the&nbsp;beginning&nbsp;and&nbsp;end,&nbsp;those&nbsp;will&nbsp;be&nbsp;dealt&nbsp;with&nbsp;appropriately.&amp;lt;br&amp;gt;<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;s&nbsp;The&nbsp;source&nbsp;string.&nbsp;Length&nbsp;0&nbsp;will&nbsp;return&nbsp;an&nbsp;empty&nbsp;array.&nbsp;&amp;lt;code&amp;gt;null&amp;lt;/code&amp;gt;&nbsp;will&nbsp;throw&nbsp;an&nbsp;exception.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Decodes&nbsp;a&nbsp;BASE64&nbsp;encoded&nbsp;string&nbsp;that&nbsp;is&nbsp;known&nbsp;to&nbsp;be&nbsp;resonably&nbsp;well<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;formatted.&nbsp;The&nbsp;method&nbsp;is&nbsp;about&nbsp;twice&nbsp;as&nbsp;fast&nbsp;as&nbsp;{@link&nbsp;#decode(String)}.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;The&nbsp;preconditions&nbsp;are:&amp;lt;br&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;+&nbsp;The&nbsp;array&nbsp;must&nbsp;have&nbsp;a&nbsp;line&nbsp;length&nbsp;of&nbsp;76&nbsp;chars&nbsp;OR&nbsp;no&nbsp;line&nbsp;separators&nbsp;at<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;all&nbsp;(one&nbsp;line).&amp;lt;br&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;+&nbsp;Line&nbsp;separator&nbsp;must&nbsp;be&nbsp;&amp;quot;\r\n&amp;quot;,&nbsp;as&nbsp;specified&nbsp;in&nbsp;RFC&nbsp;2045&nbsp;+&nbsp;The&nbsp;array<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;must&nbsp;not&nbsp;contain&nbsp;illegal&nbsp;characters&nbsp;within&nbsp;the&nbsp;encoded&nbsp;string&amp;lt;br&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;+&nbsp;The&nbsp;array&nbsp;CAN&nbsp;have&nbsp;illegal&nbsp;characters&nbsp;at&nbsp;the&nbsp;beginning&nbsp;and&nbsp;end,&nbsp;those<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;will&nbsp;be&nbsp;dealt&nbsp;with&nbsp;appropriately.&amp;lt;br&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;s<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;source&nbsp;string.&nbsp;Length&nbsp;0&nbsp;will&nbsp;return&nbsp;an&nbsp;empty&nbsp;array.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;code&amp;gt;null&amp;lt;/code&amp;gt;&nbsp;will&nbsp;throw&nbsp;an&nbsp;exception.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;The&nbsp;decoded&nbsp;array&nbsp;of&nbsp;bytes.&nbsp;May&nbsp;be&nbsp;of&nbsp;length&nbsp;0.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;byte[]&nbsp;decodeFast(String&nbsp;s)&nbsp;{<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;byte[]&nbsp;decodeFast(final&nbsp;String&nbsp;s)&nbsp;{<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Check&nbsp;special&nbsp;case<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;sLen&nbsp;=&nbsp;s.length();<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;int&nbsp;sLen&nbsp;=&nbsp;s.length();<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(sLen&nbsp;==&nbsp;0)&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;new&nbsp;byte[0];<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;sIx&nbsp;=&nbsp;0,&nbsp;eIx&nbsp;=&nbsp;sLen&nbsp;-&nbsp;1;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Start&nbsp;and&nbsp;end&nbsp;index&nbsp;after&nbsp;trimming.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;sIx&nbsp;=&nbsp;0,&nbsp;eIx&nbsp;=&nbsp;sLen&nbsp;-&nbsp;1;&nbsp;//&nbsp;Start&nbsp;and&nbsp;end&nbsp;index&nbsp;after&nbsp;trimming.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Trim&nbsp;illegal&nbsp;chars&nbsp;from&nbsp;start<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;(sIx&nbsp;&amp;lt;&nbsp;eIx&nbsp;&amp;amp;&amp;amp;&nbsp;IA[s.charAt(sIx)&nbsp;&amp;amp;&nbsp;0xff]&nbsp;&amp;lt;&nbsp;0)&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-580,18&nbsp;+508,20&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;get&nbsp;the&nbsp;padding&nbsp;count&nbsp;(=)&nbsp;(0,&nbsp;1&nbsp;or&nbsp;2)<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;pad&nbsp;=&nbsp;s.charAt(eIx)&nbsp;==&nbsp;'='&nbsp;?&nbsp;(s.charAt(eIx&nbsp;-&nbsp;1)&nbsp;==&nbsp;'='&nbsp;?&nbsp;2&nbsp;:&nbsp;1)&nbsp;:&nbsp;0;&nbsp;&nbsp;//&nbsp;Count&nbsp;'='&nbsp;at&nbsp;end.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;cCnt&nbsp;=&nbsp;eIx&nbsp;-&nbsp;sIx&nbsp;+&nbsp;1;&nbsp;&nbsp;&nbsp;//&nbsp;Content&nbsp;count&nbsp;including&nbsp;possible&nbsp;separators<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;sepCnt&nbsp;=&nbsp;sLen&nbsp;&amp;gt;&nbsp;76&nbsp;?&nbsp;(s.charAt(76)&nbsp;==&nbsp;'\r'&nbsp;?&nbsp;cCnt&nbsp;/&nbsp;78&nbsp;:&nbsp;0)&nbsp;&amp;lt;&amp;lt;&nbsp;1&nbsp;:&nbsp;0;<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;int&nbsp;pad&nbsp;=&nbsp;s.charAt(eIx)&nbsp;==&nbsp;'='&nbsp;?&nbsp;s.charAt(eIx&nbsp;-&nbsp;1)&nbsp;==&nbsp;'='&nbsp;?&nbsp;2&nbsp;:&nbsp;1&nbsp;:&nbsp;0;&nbsp;//&nbsp;Count&nbsp;'='&nbsp;at&nbsp;end.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;int&nbsp;cCnt&nbsp;=&nbsp;eIx&nbsp;-&nbsp;sIx&nbsp;+&nbsp;1;&nbsp;//&nbsp;Content&nbsp;count&nbsp;including&nbsp;possible&nbsp;separators<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;int&nbsp;sepCnt&nbsp;=&nbsp;sLen&nbsp;&amp;gt;&nbsp;76&nbsp;?&nbsp;(s.charAt(76)&nbsp;==&nbsp;'\r'&nbsp;?&nbsp;cCnt&nbsp;/&nbsp;78&nbsp;:&nbsp;0)&nbsp;&amp;lt;&amp;lt;&nbsp;1&nbsp;:&nbsp;0;<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;len&nbsp;=&nbsp;((cCnt&nbsp;-&nbsp;sepCnt)&nbsp;*&nbsp;6&nbsp;&amp;gt;&amp;gt;&nbsp;3)&nbsp;-&nbsp;pad;&nbsp;//&nbsp;The&nbsp;number&nbsp;of&nbsp;decoded&nbsp;bytes<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;byte[]&nbsp;dArr&nbsp;=&nbsp;new&nbsp;byte[len];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Preallocate&nbsp;byte[]&nbsp;of&nbsp;exact&nbsp;length<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;int&nbsp;len&nbsp;=&nbsp;((cCnt&nbsp;-&nbsp;sepCnt)&nbsp;*&nbsp;6&nbsp;&amp;gt;&amp;gt;&nbsp;3)&nbsp;-&nbsp;pad;&nbsp;//&nbsp;The&nbsp;number&nbsp;of&nbsp;decoded&nbsp;bytes<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;byte[]&nbsp;dArr&nbsp;=&nbsp;new&nbsp;byte[len];&nbsp;//&nbsp;Preallocate&nbsp;byte[]&nbsp;of&nbsp;exact&nbsp;length<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Decode&nbsp;all&nbsp;but&nbsp;the&nbsp;last&nbsp;0&nbsp;-&nbsp;2&nbsp;bytes.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;d&nbsp;=&nbsp;0;<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;cc&nbsp;=&nbsp;0,&nbsp;eLen&nbsp;=&nbsp;(len&nbsp;/&nbsp;3)&nbsp;*&nbsp;3;&nbsp;d&nbsp;&amp;lt;&nbsp;eLen;)&nbsp;{<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;cc&nbsp;=&nbsp;0,&nbsp;eLen&nbsp;=&nbsp;len&nbsp;/&nbsp;3&nbsp;*&nbsp;3;&nbsp;d&nbsp;&amp;lt;&nbsp;eLen;)&nbsp;{<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Assemble&nbsp;three&nbsp;bytes&nbsp;into&nbsp;an&nbsp;int&nbsp;from&nbsp;four&nbsp;&amp;quot;valid&amp;quot;&nbsp;characters.<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;i&nbsp;=&nbsp;IA[s.charAt(sIx++)]&nbsp;&amp;lt;&amp;lt;&nbsp;18&nbsp;|&nbsp;IA[s.charAt(sIx++)]&nbsp;&amp;lt;&amp;lt;&nbsp;12&nbsp;|&nbsp;IA[s.charAt(sIx++)]&nbsp;&amp;lt;&amp;lt;&nbsp;6&nbsp;|&nbsp;IA[s.charAt(sIx++)];<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;int&nbsp;i&nbsp;=<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IA[s.charAt(sIx++)]&nbsp;&amp;lt;&amp;lt;&nbsp;18&nbsp;|&nbsp;IA[s.charAt(sIx++)]&nbsp;&amp;lt;&amp;lt;&nbsp;12<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;IA[s.charAt(sIx++)]&nbsp;&amp;lt;&amp;lt;&nbsp;6&nbsp;|&nbsp;IA[s.charAt(sIx++)];<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Add&nbsp;the&nbsp;bytes<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[d++]&nbsp;=&nbsp;(byte)&nbsp;(i&nbsp;&amp;gt;&amp;gt;&nbsp;16);<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-609,7&nbsp;+539,7&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Decode&nbsp;last&nbsp;1-3&nbsp;bytes&nbsp;(incl&nbsp;'=')&nbsp;into&nbsp;1-3&nbsp;bytes<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;i&nbsp;=&nbsp;0;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;j&nbsp;=&nbsp;0;&nbsp;sIx&nbsp;&amp;lt;=&nbsp;eIx&nbsp;-&nbsp;pad;&nbsp;j++)&nbsp;{<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i&nbsp;|=&nbsp;IA[s.charAt(sIx++)]&nbsp;&amp;lt;&amp;lt;&nbsp;(18&nbsp;-&nbsp;j&nbsp;*&nbsp;6);<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i&nbsp;|=&nbsp;IA[s.charAt(sIx++)]&nbsp;&amp;lt;&amp;lt;&nbsp;18&nbsp;-&nbsp;j&nbsp;*&nbsp;6;<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;r&nbsp;=&nbsp;16;&nbsp;d&nbsp;&amp;lt;&nbsp;len;&nbsp;r&nbsp;-=&nbsp;8)&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-619,4&nbsp;+549,161&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;dArr;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;ins&gt;+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;This&nbsp;method&nbsp;is&nbsp;using&nbsp;{@link&nbsp;#encode(byte[],&nbsp;boolean)},&nbsp;and&nbsp;it&nbsp;only&nbsp;exists<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;so&nbsp;we&nbsp;don't&nbsp;break&nbsp;the&nbsp;API.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;content<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;bytearray&nbsp;that&nbsp;needs&nbsp;to&nbsp;be&nbsp;Base64&nbsp;encoded<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;the&nbsp;Base64&nbsp;encoded<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
+&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;String&nbsp;encode(final&nbsp;byte[]&nbsp;content)&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;encode(content,&nbsp;false);<br>
+&nbsp;&nbsp;&nbsp;&nbsp;}<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Encodes&nbsp;a&nbsp;raw&nbsp;byte&nbsp;array&nbsp;into&nbsp;a&nbsp;BASE64&nbsp;&amp;lt;code&amp;gt;String&amp;lt;/code&amp;gt;&nbsp;representation<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;i&nbsp;accordance&nbsp;with&nbsp;RFC&nbsp;2045.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;sArr<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;bytes&nbsp;to&nbsp;convert.&nbsp;If&nbsp;&amp;lt;code&amp;gt;null&amp;lt;/code&amp;gt;&nbsp;or&nbsp;length&nbsp;0&nbsp;an<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;empty&nbsp;array&nbsp;will&nbsp;be&nbsp;returned.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;lineSep<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Optional&nbsp;&amp;quot;\r\n&amp;quot;&nbsp;after&nbsp;76&nbsp;characters,&nbsp;unless&nbsp;end&nbsp;of&nbsp;file.&amp;lt;br&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No&nbsp;line&nbsp;separator&nbsp;will&nbsp;be&nbsp;in&nbsp;breach&nbsp;of&nbsp;RFC&nbsp;2045&nbsp;which<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;specifies&nbsp;max&nbsp;76&nbsp;per&nbsp;line&nbsp;but&nbsp;will&nbsp;be&nbsp;a&nbsp;little&nbsp;faster.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;A&nbsp;BASE64&nbsp;encoded&nbsp;array.&nbsp;Never&nbsp;&amp;lt;code&amp;gt;null&amp;lt;/code&amp;gt;.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
+&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;String&nbsp;encode(final&nbsp;byte[]&nbsp;sArr,&nbsp;final&nbsp;boolean&nbsp;lineSep)&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Reuse&nbsp;char[]&nbsp;since&nbsp;we&nbsp;can't&nbsp;create&nbsp;a&nbsp;String&nbsp;incrementally&nbsp;anyway&nbsp;and<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;StringBuffer/Builder&nbsp;would&nbsp;be&nbsp;slower.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;new&nbsp;String(encodeToChar(sArr,&nbsp;lineSep));<br>
+&nbsp;&nbsp;&nbsp;&nbsp;}<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Encodes&nbsp;a&nbsp;raw&nbsp;byte&nbsp;array&nbsp;into&nbsp;a&nbsp;BASE64&nbsp;&amp;lt;code&amp;gt;byte[]&amp;lt;/code&amp;gt;&nbsp;representation<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;i&nbsp;accordance&nbsp;with&nbsp;RFC&nbsp;2045.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;sArr<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;bytes&nbsp;to&nbsp;convert.&nbsp;If&nbsp;&amp;lt;code&amp;gt;null&amp;lt;/code&amp;gt;&nbsp;or&nbsp;length&nbsp;0&nbsp;an<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;empty&nbsp;array&nbsp;will&nbsp;be&nbsp;returned.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;lineSep<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Optional&nbsp;&amp;quot;\r\n&amp;quot;&nbsp;after&nbsp;76&nbsp;characters,&nbsp;unless&nbsp;end&nbsp;of&nbsp;file.&amp;lt;br&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No&nbsp;line&nbsp;separator&nbsp;will&nbsp;be&nbsp;in&nbsp;breach&nbsp;of&nbsp;RFC&nbsp;2045&nbsp;which<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;specifies&nbsp;max&nbsp;76&nbsp;per&nbsp;line&nbsp;but&nbsp;will&nbsp;be&nbsp;a&nbsp;little&nbsp;faster.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;A&nbsp;BASE64&nbsp;encoded&nbsp;array.&nbsp;Never&nbsp;&amp;lt;code&amp;gt;null&amp;lt;/code&amp;gt;.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
+&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;byte[]&nbsp;encodeToByte(final&nbsp;byte[]&nbsp;sArr,&nbsp;final&nbsp;boolean&nbsp;lineSep)&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Check&nbsp;special&nbsp;case<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;int&nbsp;sLen&nbsp;=&nbsp;sArr&nbsp;!=&nbsp;null&nbsp;?&nbsp;sArr.length&nbsp;:&nbsp;0;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(sLen&nbsp;==&nbsp;0)&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;new&nbsp;byte[0];<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;int&nbsp;eLen&nbsp;=&nbsp;sLen&nbsp;/&nbsp;3&nbsp;*&nbsp;3;&nbsp;//&nbsp;Length&nbsp;of&nbsp;even&nbsp;24-bits.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;int&nbsp;cCnt&nbsp;=&nbsp;(sLen&nbsp;-&nbsp;1)&nbsp;/&nbsp;3&nbsp;+&nbsp;1&nbsp;&amp;lt;&amp;lt;&nbsp;2;&nbsp;//&nbsp;Returned&nbsp;character&nbsp;count<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;int&nbsp;dLen&nbsp;=&nbsp;cCnt&nbsp;+&nbsp;(lineSep&nbsp;?&nbsp;(cCnt&nbsp;-&nbsp;1)&nbsp;/&nbsp;76&nbsp;&amp;lt;&amp;lt;&nbsp;1&nbsp;:&nbsp;0);&nbsp;//&nbsp;Length&nbsp;of&nbsp;returned&nbsp;array<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;byte[]&nbsp;dArr&nbsp;=&nbsp;new&nbsp;byte[dLen];<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Encode&nbsp;even&nbsp;24-bits<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;s&nbsp;=&nbsp;0,&nbsp;d&nbsp;=&nbsp;0,&nbsp;cc&nbsp;=&nbsp;0;&nbsp;s&nbsp;&amp;lt;&nbsp;eLen;)&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Copy&nbsp;next&nbsp;three&nbsp;bytes&nbsp;into&nbsp;lower&nbsp;24&nbsp;bits&nbsp;of&nbsp;int,&nbsp;paying&nbsp;attension&nbsp;to&nbsp;sign.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;int&nbsp;i&nbsp;=&nbsp;(sArr[s++]&nbsp;&amp;amp;&nbsp;0xff)&nbsp;&amp;lt;&amp;lt;&nbsp;16&nbsp;|&nbsp;(sArr[s++]&nbsp;&amp;amp;&nbsp;0xff)&nbsp;&amp;lt;&amp;lt;&nbsp;8&nbsp;|&nbsp;sArr[s++]&nbsp;&amp;amp;&nbsp;0xff;<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Encode&nbsp;the&nbsp;int&nbsp;into&nbsp;four&nbsp;chars<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[d++]&nbsp;=&nbsp;(byte)&nbsp;CA[i&nbsp;&amp;gt;&amp;gt;&amp;gt;&nbsp;18&nbsp;&amp;amp;&nbsp;0x3f];<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[d++]&nbsp;=&nbsp;(byte)&nbsp;CA[i&nbsp;&amp;gt;&amp;gt;&amp;gt;&nbsp;12&nbsp;&amp;amp;&nbsp;0x3f];<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[d++]&nbsp;=&nbsp;(byte)&nbsp;CA[i&nbsp;&amp;gt;&amp;gt;&amp;gt;&nbsp;6&nbsp;&amp;amp;&nbsp;0x3f];<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[d++]&nbsp;=&nbsp;(byte)&nbsp;CA[i&nbsp;&amp;amp;&nbsp;0x3f];<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Add&nbsp;optional&nbsp;line&nbsp;separator<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(lineSep&nbsp;&amp;amp;&amp;amp;&nbsp;++cc&nbsp;==&nbsp;19&nbsp;&amp;amp;&amp;amp;&nbsp;d&nbsp;&amp;lt;&nbsp;dLen&nbsp;-&nbsp;2)&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[d++]&nbsp;=&nbsp;'\r';<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[d++]&nbsp;=&nbsp;'\n';<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cc&nbsp;=&nbsp;0;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Pad&nbsp;and&nbsp;encode&nbsp;last&nbsp;bits&nbsp;if&nbsp;source&nbsp;isn't&nbsp;an&nbsp;even&nbsp;24&nbsp;bits.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;int&nbsp;left&nbsp;=&nbsp;sLen&nbsp;-&nbsp;eLen;&nbsp;//&nbsp;0&nbsp;-&nbsp;2.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(left&nbsp;&amp;gt;&nbsp;0)&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Prepare&nbsp;the&nbsp;int<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;int&nbsp;i&nbsp;=<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(sArr[eLen]&nbsp;&amp;amp;&nbsp;0xff)&nbsp;&amp;lt;&amp;lt;&nbsp;10&nbsp;|&nbsp;(left&nbsp;==&nbsp;2&nbsp;?&nbsp;(sArr[sLen&nbsp;-&nbsp;1]&nbsp;&amp;amp;&nbsp;0xff)&nbsp;&amp;lt;&amp;lt;&nbsp;2&nbsp;:&nbsp;0);<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Set&nbsp;last&nbsp;four&nbsp;chars<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[dLen&nbsp;-&nbsp;4]&nbsp;=&nbsp;(byte)&nbsp;CA[i&nbsp;&amp;gt;&amp;gt;&nbsp;12];<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[dLen&nbsp;-&nbsp;3]&nbsp;=&nbsp;(byte)&nbsp;CA[i&nbsp;&amp;gt;&amp;gt;&amp;gt;&nbsp;6&nbsp;&amp;amp;&nbsp;0x3f];<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[dLen&nbsp;-&nbsp;2]&nbsp;=&nbsp;left&nbsp;==&nbsp;2&nbsp;?&nbsp;(byte)&nbsp;CA[i&nbsp;&amp;amp;&nbsp;0x3f]&nbsp;:&nbsp;(byte)&nbsp;'=';<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[dLen&nbsp;-&nbsp;1]&nbsp;=&nbsp;'=';<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;dArr;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;}<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Encodes&nbsp;a&nbsp;raw&nbsp;byte&nbsp;array&nbsp;into&nbsp;a&nbsp;BASE64&nbsp;&amp;lt;code&amp;gt;char[]&amp;lt;/code&amp;gt;&nbsp;representation<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;i&nbsp;accordance&nbsp;with&nbsp;RFC&nbsp;2045.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;sArr<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;bytes&nbsp;to&nbsp;convert.&nbsp;If&nbsp;&amp;lt;code&amp;gt;null&amp;lt;/code&amp;gt;&nbsp;or&nbsp;length&nbsp;0&nbsp;an<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;empty&nbsp;array&nbsp;will&nbsp;be&nbsp;returned.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;lineSep<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Optional&nbsp;&amp;quot;\r\n&amp;quot;&nbsp;after&nbsp;76&nbsp;characters,&nbsp;unless&nbsp;end&nbsp;of&nbsp;file.&amp;lt;br&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No&nbsp;line&nbsp;separator&nbsp;will&nbsp;be&nbsp;in&nbsp;breach&nbsp;of&nbsp;RFC&nbsp;2045&nbsp;which<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;specifies&nbsp;max&nbsp;76&nbsp;per&nbsp;line&nbsp;but&nbsp;will&nbsp;be&nbsp;a&nbsp;little&nbsp;faster.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;A&nbsp;BASE64&nbsp;encoded&nbsp;array.&nbsp;Never&nbsp;&amp;lt;code&amp;gt;null&amp;lt;/code&amp;gt;.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
+&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;char[]&nbsp;encodeToChar(final&nbsp;byte[]&nbsp;sArr,&nbsp;final&nbsp;boolean&nbsp;lineSep)&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Check&nbsp;special&nbsp;case<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;int&nbsp;sLen&nbsp;=&nbsp;sArr&nbsp;!=&nbsp;null&nbsp;?&nbsp;sArr.length&nbsp;:&nbsp;0;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(sLen&nbsp;==&nbsp;0)&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;new&nbsp;char[0];<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;int&nbsp;eLen&nbsp;=&nbsp;sLen&nbsp;/&nbsp;3&nbsp;*&nbsp;3;&nbsp;//&nbsp;Length&nbsp;of&nbsp;even&nbsp;24-bits.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;int&nbsp;cCnt&nbsp;=&nbsp;(sLen&nbsp;-&nbsp;1)&nbsp;/&nbsp;3&nbsp;+&nbsp;1&nbsp;&amp;lt;&amp;lt;&nbsp;2;&nbsp;//&nbsp;Returned&nbsp;character&nbsp;count<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;int&nbsp;dLen&nbsp;=&nbsp;cCnt&nbsp;+&nbsp;(lineSep&nbsp;?&nbsp;(cCnt&nbsp;-&nbsp;1)&nbsp;/&nbsp;76&nbsp;&amp;lt;&amp;lt;&nbsp;1&nbsp;:&nbsp;0);&nbsp;//&nbsp;Length&nbsp;of&nbsp;returned&nbsp;array<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;char[]&nbsp;dArr&nbsp;=&nbsp;new&nbsp;char[dLen];<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Encode&nbsp;even&nbsp;24-bits<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;s&nbsp;=&nbsp;0,&nbsp;d&nbsp;=&nbsp;0,&nbsp;cc&nbsp;=&nbsp;0;&nbsp;s&nbsp;&amp;lt;&nbsp;eLen;)&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Copy&nbsp;next&nbsp;three&nbsp;bytes&nbsp;into&nbsp;lower&nbsp;24&nbsp;bits&nbsp;of&nbsp;int,&nbsp;paying&nbsp;attension&nbsp;to&nbsp;sign.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;int&nbsp;i&nbsp;=&nbsp;(sArr[s++]&nbsp;&amp;amp;&nbsp;0xff)&nbsp;&amp;lt;&amp;lt;&nbsp;16&nbsp;|&nbsp;(sArr[s++]&nbsp;&amp;amp;&nbsp;0xff)&nbsp;&amp;lt;&amp;lt;&nbsp;8&nbsp;|&nbsp;sArr[s++]&nbsp;&amp;amp;&nbsp;0xff;<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Encode&nbsp;the&nbsp;int&nbsp;into&nbsp;four&nbsp;chars<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[d++]&nbsp;=&nbsp;CA[i&nbsp;&amp;gt;&amp;gt;&amp;gt;&nbsp;18&nbsp;&amp;amp;&nbsp;0x3f];<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[d++]&nbsp;=&nbsp;CA[i&nbsp;&amp;gt;&amp;gt;&amp;gt;&nbsp;12&nbsp;&amp;amp;&nbsp;0x3f];<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[d++]&nbsp;=&nbsp;CA[i&nbsp;&amp;gt;&amp;gt;&amp;gt;&nbsp;6&nbsp;&amp;amp;&nbsp;0x3f];<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[d++]&nbsp;=&nbsp;CA[i&nbsp;&amp;amp;&nbsp;0x3f];<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Add&nbsp;optional&nbsp;line&nbsp;separator<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(lineSep&nbsp;&amp;amp;&amp;amp;&nbsp;++cc&nbsp;==&nbsp;19&nbsp;&amp;amp;&amp;amp;&nbsp;d&nbsp;&amp;lt;&nbsp;dLen&nbsp;-&nbsp;2)&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[d++]&nbsp;=&nbsp;'\r';<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[d++]&nbsp;=&nbsp;'\n';<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cc&nbsp;=&nbsp;0;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Pad&nbsp;and&nbsp;encode&nbsp;last&nbsp;bits&nbsp;if&nbsp;source&nbsp;isn't&nbsp;even&nbsp;24&nbsp;bits.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;int&nbsp;left&nbsp;=&nbsp;sLen&nbsp;-&nbsp;eLen;&nbsp;//&nbsp;0&nbsp;-&nbsp;2.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(left&nbsp;&amp;gt;&nbsp;0)&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Prepare&nbsp;the&nbsp;int<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;int&nbsp;i&nbsp;=<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(sArr[eLen]&nbsp;&amp;amp;&nbsp;0xff)&nbsp;&amp;lt;&amp;lt;&nbsp;10&nbsp;|&nbsp;(left&nbsp;==&nbsp;2&nbsp;?&nbsp;(sArr[sLen&nbsp;-&nbsp;1]&nbsp;&amp;amp;&nbsp;0xff)&nbsp;&amp;lt;&amp;lt;&nbsp;2&nbsp;:&nbsp;0);<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Set&nbsp;last&nbsp;four&nbsp;chars<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[dLen&nbsp;-&nbsp;4]&nbsp;=&nbsp;CA[i&nbsp;&amp;gt;&amp;gt;&nbsp;12];<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[dLen&nbsp;-&nbsp;3]&nbsp;=&nbsp;CA[i&nbsp;&amp;gt;&amp;gt;&amp;gt;&nbsp;6&nbsp;&amp;amp;&nbsp;0x3f];<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[dLen&nbsp;-&nbsp;2]&nbsp;=&nbsp;left&nbsp;==&nbsp;2&nbsp;?&nbsp;CA[i&nbsp;&amp;amp;&nbsp;0x3f]&nbsp;:&nbsp;'=';<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dArr[dLen&nbsp;-&nbsp;1]&nbsp;=&nbsp;'=';<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;dArr;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;}<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;Base64()&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;No&nbsp;impl.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;}<br>
&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;<br>
&lt;a&nbsp;id=&quot;forgerockutiltrunksrcmainjavaorgforgerockutilencodeBase64urljava&quot;&gt;&lt;/a&gt;<br>
&lt;div&nbsp;class=&quot;modfile&quot;&gt;&lt;h4&gt;Modified:&nbsp;forgerock-util/trunk/src/main/java/org/forgerock/util/encode/Base64url.java&nbsp;(1407&nbsp;=&gt;&nbsp;1408)&lt;/h4&gt;<br>
&lt;pre&nbsp;class=&quot;diff&quot;&gt;&lt;span&gt;<br>
&lt;span&nbsp;class=&quot;info&quot;&gt;---&nbsp;forgerock-util/trunk/src/main/java/org/forgerock/util/encode/Base64url.java&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp2013-12-19&nbsp;09:03:16&nbsp;UTC&nbsp;(rev&nbsp;1407)<br>
+++&nbsp;forgerock-util/trunk/src/main/java/org/forgerock/util/encode/Base64url.java&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp2013-12-19&nbsp;14:46:21&nbsp;UTC&nbsp;(rev&nbsp;1408)<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-17,45&nbsp;+17,45&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;package&nbsp;org.forgerock.util.encode;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;/**<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;*&nbsp;Makes&nbsp;use&nbsp;of&nbsp;the&nbsp;very&nbsp;fast&nbsp;and&nbsp;memory&nbsp;efficient&nbsp;Base64&nbsp;class&nbsp;to&nbsp;encode&nbsp;and&nbsp;decode&nbsp;to&nbsp;and&nbsp;from&nbsp;BASE64&nbsp;in&nbsp;full<br>
-&nbsp;*&nbsp;accordance&nbsp;with&nbsp;RFC&nbsp;2045.&nbsp;And&nbsp;then&nbsp;replaces&nbsp;+&nbsp;and&nbsp;/&nbsp;for&nbsp;-&nbsp;and&nbsp;_&nbsp;respectively&nbsp;and&nbsp;removes&nbsp;the&nbsp;padding&nbsp;character&nbsp;=<br>
-&nbsp;*&nbsp;to&nbsp;be&nbsp;in&nbsp;accordance&nbsp;with&nbsp;RFC&nbsp;4648.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;*&nbsp;Makes&nbsp;use&nbsp;of&nbsp;the&nbsp;very&nbsp;fast&nbsp;and&nbsp;memory&nbsp;efficient&nbsp;Base64&nbsp;class&nbsp;to&nbsp;encode&nbsp;and<br>
+&nbsp;*&nbsp;decode&nbsp;to&nbsp;and&nbsp;from&nbsp;BASE64&nbsp;in&nbsp;full&nbsp;accordance&nbsp;with&nbsp;RFC&nbsp;2045.&nbsp;And&nbsp;then&nbsp;replaces<br>
+&nbsp;*&nbsp;+&nbsp;and&nbsp;/&nbsp;for&nbsp;-&nbsp;and&nbsp;_&nbsp;respectively&nbsp;and&nbsp;removes&nbsp;the&nbsp;padding&nbsp;character&nbsp;=&nbsp;to&nbsp;be&nbsp;in<br>
+&nbsp;*&nbsp;accordance&nbsp;with&nbsp;RFC&nbsp;4648.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;del&gt;-public&nbsp;class&nbsp;Base64url&nbsp;{<br>
-<br>
&lt;/del&gt;&lt;ins&gt;+public&nbsp;final&nbsp;class&nbsp;Base64url&nbsp;{<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Encodes&nbsp;the&nbsp;given&nbsp;byte&nbsp;array&nbsp;into&nbsp;a&nbsp;Base64url&nbsp;encoded&nbsp;String.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;content&nbsp;The&nbsp;byte&nbsp;array&nbsp;to&nbsp;encode.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;The&nbsp;Base64url&nbsp;encoded&nbsp;byte&nbsp;array.<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
-&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;String&nbsp;encode(byte[]&nbsp;content)&nbsp;{<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;base64EncodedString&nbsp;=&nbsp;Base64.encode(content);<br>
-<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;base64EncodedString.replaceAll(&amp;quot;\\+&amp;quot;,&nbsp;&amp;quot;-&amp;quot;)<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.replaceAll(&amp;quot;/&amp;quot;,&nbsp;&amp;quot;_&amp;quot;)<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.replaceAll(&amp;quot;=&amp;quot;,&nbsp;&amp;quot;&amp;quot;);<br>
-&nbsp;&nbsp;&nbsp;&nbsp;}<br>
-<br>
-&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/del&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Decodes&nbsp;the&nbsp;given&nbsp;Base64url&nbsp;encoded&nbsp;String&nbsp;into&nbsp;a&nbsp;byte&nbsp;array.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;content&nbsp;The&nbsp;Base64url&nbsp;encoded&nbsp;String&nbsp;to&nbsp;decode.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;content<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;Base64url&nbsp;encoded&nbsp;String&nbsp;to&nbsp;decode.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;The&nbsp;decoded&nbsp;byte[]&nbsp;array.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;byte[]&nbsp;decode(String&nbsp;content)&nbsp;{<br>
-<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;content&nbsp;=&nbsp;content.replaceAll(&amp;quot;-&amp;quot;,&nbsp;&amp;quot;+&amp;quot;)<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.replaceAll(&amp;quot;_&amp;quot;,&nbsp;&amp;quot;/&amp;quot;);<br>
-<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;modulus&nbsp;=&nbsp;content.length()&nbsp;%&nbsp;4;<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;numberOfPaddingChars&nbsp;=&nbsp;4&nbsp;-&nbsp;modulus;<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;byte[]&nbsp;decode(final&nbsp;String&nbsp;content)&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;StringBuilder&nbsp;builder&nbsp;=<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;new&nbsp;StringBuilder(content.replaceAll(&amp;quot;-&amp;quot;,&nbsp;&amp;quot;+&amp;quot;).replaceAll(&amp;quot;_&amp;quot;,&nbsp;&amp;quot;/&amp;quot;));<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;int&nbsp;modulus&nbsp;=&nbsp;builder.length()&nbsp;%&nbsp;4;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;int&nbsp;numberOfPaddingChars&nbsp;=&nbsp;4&nbsp;-&nbsp;modulus;<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(modulus&nbsp;!=&nbsp;0)&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&amp;lt;&nbsp;numberOfPaddingChars;&nbsp;i++)&nbsp;{<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;content&nbsp;+=&nbsp;&amp;quot;=&amp;quot;;<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;builder.append('=');<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;Base64.decode(builder.toString());<br>
+&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;Base64.decode(content);<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Encodes&nbsp;the&nbsp;given&nbsp;byte&nbsp;array&nbsp;into&nbsp;a&nbsp;Base64url&nbsp;encoded&nbsp;String.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;content<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;byte&nbsp;array&nbsp;to&nbsp;encode.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;The&nbsp;Base64url&nbsp;encoded&nbsp;byte&nbsp;array.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
+&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;String&nbsp;encode(final&nbsp;byte[]&nbsp;content)&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;Base64.encode(content).replaceAll(&amp;quot;\\+&amp;quot;,&nbsp;&amp;quot;-&amp;quot;).replaceAll(&amp;quot;/&amp;quot;,&nbsp;&amp;quot;_&amp;quot;).replaceAll(&amp;quot;=&amp;quot;,<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;quot;&amp;quot;);<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;ins&gt;+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;Base64url()&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;No&nbsp;impl.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;}<br>
&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;<br>
&lt;a&nbsp;id=&quot;forgerockutiltrunksrcmainjavaorgforgerockutilxmlXMLHandlerjava&quot;&gt;&lt;/a&gt;<br>
&lt;div&nbsp;class=&quot;modfile&quot;&gt;&lt;h4&gt;Modified:&nbsp;forgerock-util/trunk/src/main/java/org/forgerock/util/xml/XMLHandler.java&nbsp;(1407&nbsp;=&gt;&nbsp;1408)&lt;/h4&gt;<br>
&lt;pre&nbsp;class=&quot;diff&quot;&gt;&lt;span&gt;<br>
&lt;span&nbsp;class=&quot;info&quot;&gt;---&nbsp;forgerock-util/trunk/src/main/java/org/forgerock/util/xml/XMLHandler.java&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp2013-12-19&nbsp;09:03:16&nbsp;UTC&nbsp;(rev&nbsp;1407)<br>
+++&nbsp;forgerock-util/trunk/src/main/java/org/forgerock/util/xml/XMLHandler.java&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp2013-12-19&nbsp;14:46:21&nbsp;UTC&nbsp;(rev&nbsp;1408)<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-24,13&nbsp;+24,14&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*&nbsp;$Id:&nbsp;XMLHandler.java,v&nbsp;1.2&nbsp;2008/06/25&nbsp;05:53:08&nbsp;qcheng&nbsp;Exp&nbsp;$<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;*&nbsp;Portions&nbsp;Copyrighted&nbsp;2012-2013&nbsp;ForgeRock&nbsp;Inc<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;*&nbsp;Portions&nbsp;Copyright&nbsp;2012-2013&nbsp;ForgeRock&nbsp;Inc<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;package&nbsp;org.forgerock.util.xml;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;import&nbsp;java.io.InputStream;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;import&nbsp;java.io.StringReader;<br>
&lt;/span&gt;&lt;ins&gt;+<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;import&nbsp;org.xml.sax.InputSource;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;import&nbsp;org.xml.sax.helpers.DefaultHandler;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-44,20&nbsp;+45,32&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;public&nbsp;class&nbsp;XMLHandler&nbsp;extends&nbsp;DefaultHandler&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;InputSource&nbsp;resolveEntity(String&nbsp;aPublicID,&nbsp;String&nbsp;aSystemID)&nbsp;{<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;sysid&nbsp;=&nbsp;aSystemID.trim();<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;FIXME:&nbsp;does&nbsp;this&nbsp;class&nbsp;need&nbsp;to&nbsp;be&nbsp;non-final&nbsp;and&nbsp;public?&nbsp;*/<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Creates&nbsp;a&nbsp;new&nbsp;XML&nbsp;handler.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
+&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;XMLHandler()&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;No&nbsp;impl.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;}<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;@Override<br>
+&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;InputSource&nbsp;resolveEntity(final&nbsp;String&nbsp;aPublicID,&nbsp;final&nbsp;String&nbsp;aSystemID)&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;String&nbsp;sysid&nbsp;=&nbsp;aSystemID.trim();<br>
+<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(sysid.toLowerCase().startsWith(&amp;quot;jar://&amp;quot;))&nbsp;{<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;dtdname&nbsp;=&nbsp;sysid.substring(5);<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;InputStream&nbsp;is&nbsp;=&nbsp;getClass().getResourceAsStream(dtdname);<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;String&nbsp;dtdname&nbsp;=&nbsp;sysid.substring(5);<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;InputStream&nbsp;is&nbsp;=&nbsp;getClass().getResourceAsStream(dtdname);<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(is&nbsp;!=&nbsp;null)&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;new&nbsp;InputSource(is);<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//make&nbsp;sure&nbsp;that&nbsp;we&nbsp;do&nbsp;NOT&nbsp;return&nbsp;null&nbsp;here,&nbsp;as&nbsp;xerces&nbsp;would<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//fall&nbsp;back&nbsp;to&nbsp;the&nbsp;default&nbsp;entity&nbsp;resolver&nbsp;and&nbsp;try&nbsp;to&nbsp;resolve&nbsp;the<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//entity&nbsp;with&nbsp;that<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;make&nbsp;sure&nbsp;that&nbsp;we&nbsp;do&nbsp;NOT&nbsp;return&nbsp;null&nbsp;here,&nbsp;as&nbsp;xerces&nbsp;would&nbsp;fall&nbsp;back<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;to&nbsp;the&nbsp;default&nbsp;entity&nbsp;resolver&nbsp;and&nbsp;try&nbsp;to&nbsp;resolve&nbsp;the&nbsp;entity&nbsp;with<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;that<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;new&nbsp;InputSource(new&nbsp;StringReader(&amp;quot;&amp;quot;));<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;}<br>
&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;<br>
&lt;a&nbsp;id=&quot;forgerockutiltrunksrcmainjavaorgforgerockutilxmlXMLUtilsjava&quot;&gt;&lt;/a&gt;<br>
&lt;div&nbsp;class=&quot;modfile&quot;&gt;&lt;h4&gt;Modified:&nbsp;forgerock-util/trunk/src/main/java/org/forgerock/util/xml/XMLUtils.java&nbsp;(1407&nbsp;=&gt;&nbsp;1408)&lt;/h4&gt;<br>
&lt;pre&nbsp;class=&quot;diff&quot;&gt;&lt;span&gt;<br>
&lt;span&nbsp;class=&quot;info&quot;&gt;---&nbsp;forgerock-util/trunk/src/main/java/org/forgerock/util/xml/XMLUtils.java&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp2013-12-19&nbsp;09:03:16&nbsp;UTC&nbsp;(rev&nbsp;1407)<br>
+++&nbsp;forgerock-util/trunk/src/main/java/org/forgerock/util/xml/XMLUtils.java&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp2013-12-19&nbsp;14:46:21&nbsp;UTC&nbsp;(rev&nbsp;1408)<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-37,7&nbsp;+37,13&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;import&nbsp;javax.xml.parsers.SAXParser;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;import&nbsp;javax.xml.parsers.SAXParserFactory;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;del&gt;-public&nbsp;class&nbsp;XMLUtils&nbsp;{<br>
&lt;/del&gt;&lt;ins&gt;+/**<br>
+&nbsp;*&nbsp;Utility&nbsp;classes&nbsp;for&nbsp;handling&nbsp;XML.<br>
+&nbsp;*/<br>
+public&nbsp;final&nbsp;class&nbsp;XMLUtils&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;XMLUtils()&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;No&nbsp;impl.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Provides&nbsp;a&nbsp;secure&nbsp;DocumentBuilder&nbsp;implementation,&nbsp;which&nbsp;is&nbsp;protected&nbsp;against<br>
&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;<br>
&lt;a&nbsp;id=&quot;forgerockutiltrunksrctestjavaorgforgerockutilRangeSetTestjava&quot;&gt;&lt;/a&gt;<br>
&lt;div&nbsp;class=&quot;modfile&quot;&gt;&lt;h4&gt;Modified:&nbsp;forgerock-util/trunk/src/test/java/org/forgerock/util/RangeSetTest.java&nbsp;(1407&nbsp;=&gt;&nbsp;1408)&lt;/h4&gt;<br>
&lt;pre&nbsp;class=&quot;diff&quot;&gt;&lt;span&gt;<br>
&lt;span&nbsp;class=&quot;info&quot;&gt;---&nbsp;forgerock-util/trunk/src/test/java/org/forgerock/util/RangeSetTest.java&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp2013-12-19&nbsp;09:03:16&nbsp;UTC&nbsp;(rev&nbsp;1407)<br>
+++&nbsp;forgerock-util/trunk/src/test/java/org/forgerock/util/RangeSetTest.java&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp2013-12-19&nbsp;14:46:21&nbsp;UTC&nbsp;(rev&nbsp;1408)<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-11,7&nbsp;+11,7&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*&nbsp;Header,&nbsp;with&nbsp;the&nbsp;fields&nbsp;enclosed&nbsp;by&nbsp;brackets&nbsp;[]&nbsp;replaced&nbsp;by&nbsp;your&nbsp;own&nbsp;identifying<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*&nbsp;information:&nbsp;&amp;quot;Portions&nbsp;Copyrighted&nbsp;[year]&nbsp;[name&nbsp;of&nbsp;copyright&nbsp;owner]&amp;quot;.<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;*&nbsp;Copyright&nbsp;©&nbsp;2011&nbsp;ForgeRock&nbsp;AS.&nbsp;All&nbsp;rights&nbsp;reserved.<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;*&nbsp;Copyright&nbsp;2011-2013&nbsp;ForgeRock&nbsp;AS.<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;package&nbsp;org.forgerock.util;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-22,9&nbsp;+22,7&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;//&nbsp;TestNG<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;import&nbsp;org.testng.annotations.Test;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;del&gt;-/**<br>
-&nbsp;*&nbsp;@author&nbsp;Paul&nbsp;C.&nbsp;Bryan<br>
-&nbsp;*/<br>
&lt;/del&gt;&lt;ins&gt;+@SuppressWarnings(&amp;quot;javadoc&amp;quot;)<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;public&nbsp;class&nbsp;RangeSetTest&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Test<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-71,6&nbsp;+69,6&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Test(expectedExceptions=IllegalArgumentException.class)<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;illegalStep()&nbsp;{<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RangeSet&nbsp;range&nbsp;=&nbsp;new&nbsp;RangeSet(0,&nbsp;100,&nbsp;0);&nbsp;//&nbsp;meet&nbsp;infinity<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;new&nbsp;RangeSet(0,&nbsp;100,&nbsp;0);&nbsp;//&nbsp;meet&nbsp;infinity<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;}<br>
&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;<br>
&lt;a&nbsp;id=&quot;forgerockutiltrunksrctestjavaorgforgerockutilRejectTestjava&quot;&gt;&lt;/a&gt;<br>
&lt;div&nbsp;class=&quot;modfile&quot;&gt;&lt;h4&gt;Modified:&nbsp;forgerock-util/trunk/src/test/java/org/forgerock/util/RejectTest.java&nbsp;(1407&nbsp;=&gt;&nbsp;1408)&lt;/h4&gt;<br>
&lt;pre&nbsp;class=&quot;diff&quot;&gt;&lt;span&gt;<br>
&lt;span&nbsp;class=&quot;info&quot;&gt;---&nbsp;forgerock-util/trunk/src/test/java/org/forgerock/util/RejectTest.java&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp2013-12-19&nbsp;09:03:16&nbsp;UTC&nbsp;(rev&nbsp;1407)<br>
+++&nbsp;forgerock-util/trunk/src/test/java/org/forgerock/util/RejectTest.java&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp2013-12-19&nbsp;14:46:21&nbsp;UTC&nbsp;(rev&nbsp;1408)<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-15,17&nbsp;+15,13&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;*/<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;package&nbsp;org.forgerock.util;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;del&gt;-<br>
&lt;/del&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;//&nbsp;TestNG<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;import&nbsp;org.testng.annotations.Test;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;//&nbsp;FEST-Assert<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;import&nbsp;static&nbsp;org.fest.assertions.Assertions.assertThat;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;del&gt;-<br>
-/**<br>
-&nbsp;*&nbsp;Test&nbsp;Reject&nbsp;utilities&nbsp;for&nbsp;proper&nbsp;parameter&nbsp;assumption/validation.<br>
-&nbsp;*/<br>
&lt;/del&gt;&lt;ins&gt;+@SuppressWarnings(&amp;quot;javadoc&amp;quot;)<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;public&nbsp;class&nbsp;RejectTest&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Test(expectedExceptions&nbsp;=&nbsp;NullPointerException.class)<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-55,16&nbsp;+51,16&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Test<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;checkNotNullNotNull()&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Long&nbsp;value&nbsp;=&nbsp;Long.MAX_VALUE;<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reject.checkNotNull(value);<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assertThat(Reject.checkNotNull(value)).isSameAs(value);<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;@Test(expectedExceptions=NullPointerException.class)<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;@Test(expectedExceptions&nbsp;=&nbsp;NullPointerException.class)<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;checkNotNullNull()&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Long&nbsp;value&nbsp;=&nbsp;null;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reject.checkNotNull(value);<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;@Test(expectedExceptions=IllegalArgumentException.class)<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;@Test(expectedExceptions&nbsp;=&nbsp;IllegalArgumentException.class)<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;ifTrueTrue()&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reject.ifTrue(true);<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-74,17&nbsp;+70,7&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reject.ifTrue(false);<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;@Test(expectedExceptions=IllegalArgumentException.class)<br>
-&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;checkFalseTrue()&nbsp;{<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reject.checkFalse(true);<br>
-&nbsp;&nbsp;&nbsp;&nbsp;}<br>
-<br>
-&nbsp;&nbsp;&nbsp;&nbsp;@Test<br>
-&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;checkFalseFalse()&nbsp;{<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assertThat(Reject.checkFalse(false)).isFalse();<br>
-&nbsp;&nbsp;&nbsp;&nbsp;}<br>
-<br>
-&nbsp;&nbsp;&nbsp;&nbsp;@Test(expectedExceptions=IllegalArgumentException.class)<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;@Test(expectedExceptions&nbsp;=&nbsp;IllegalArgumentException.class)<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;ifFalseFalse()&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reject.ifFalse(false);<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-94,13&nbsp;+80,15&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reject.ifFalse(true);<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;@Test(expectedExceptions=IllegalArgumentException.class)<br>
-&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;checkTrueFalse()&nbsp;{<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reject.checkTrue(false);<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;@Test(expectedExceptions&nbsp;=&nbsp;NullPointerException.class)<br>
+&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;ifNullVarArgsStrings()&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String[]&nbsp;args&nbsp;=&nbsp;{&nbsp;&amp;quot;hello&amp;quot;,&nbsp;null&nbsp;};<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reject.ifNull(args);<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;del&gt;-&nbsp;&nbsp;&nbsp;&nbsp;@Test<br>
-&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;checkTrueTrue()&nbsp;{<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assertThat(Reject.checkTrue(true)).isTrue();<br>
&lt;/del&gt;&lt;ins&gt;+&nbsp;&nbsp;&nbsp;&nbsp;@Test(expectedExceptions&nbsp;=&nbsp;NullPointerException.class)<br>
+&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;ifNullVarArgsObjects()&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Object[]&nbsp;args&nbsp;=&nbsp;{&nbsp;&amp;quot;hello&amp;quot;,&nbsp;null&nbsp;};<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reject.ifNull(args);<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;}<br>
&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;<br>
&lt;a&nbsp;id=&quot;forgerockutiltrunksrctestjavaorgforgerockutilencodeBase64urlTestjava&quot;&gt;&lt;/a&gt;<br>
&lt;div&nbsp;class=&quot;modfile&quot;&gt;&lt;h4&gt;Modified:&nbsp;forgerock-util/trunk/src/test/java/org/forgerock/util/encode/Base64urlTest.java&nbsp;(1407&nbsp;=&gt;&nbsp;1408)&lt;/h4&gt;<br>
&lt;pre&nbsp;class=&quot;diff&quot;&gt;&lt;span&gt;<br>
&lt;span&nbsp;class=&quot;info&quot;&gt;---&nbsp;forgerock-util/trunk/src/test/java/org/forgerock/util/encode/Base64urlTest.java&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp2013-12-19&nbsp;09:03:16&nbsp;UTC&nbsp;(rev&nbsp;1407)<br>
+++&nbsp;forgerock-util/trunk/src/test/java/org/forgerock/util/encode/Base64urlTest.java&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp2013-12-19&nbsp;14:46:21&nbsp;UTC&nbsp;(rev&nbsp;1408)<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-23,6&nbsp;+23,7&nbsp;@@<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;import&nbsp;static&nbsp;org.testng.Assert.assertEquals;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;import&nbsp;static&nbsp;org.testng.Assert.assertNotSame;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;ins&gt;+@SuppressWarnings(&amp;quot;javadoc&amp;quot;)<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;public&nbsp;class&nbsp;Base64urlTest&nbsp;{<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Test<br>
&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;div&nbsp;id=&quot;footer&quot;&gt;Copyright&nbsp;(c)&nbsp;by&nbsp;ForgeRock.&nbsp;All&nbsp;rights&nbsp;reserved.&lt;/div&gt;<br>
<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
