<tt>
&lt;!DOCTYPE&nbsp;html&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;XHTML&nbsp;1.1//EN&quot;<br>
&quot;http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd&quot;&gt;<br>
&lt;html&nbsp;xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;<br>
&lt;head&gt;&lt;meta&nbsp;http-equiv=&quot;content-type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=utf-8&quot;&nbsp;/&gt;<br>
&lt;title&gt;[2843]&nbsp;forgerock-doc-default-branding:&nbsp;DOCS-144&nbsp;CR-5784&nbsp;-&nbsp;Added&nbsp;transformations&nbsp;to&nbsp;output&nbsp;Bootstrap-styled&nbsp;documentation.&lt;/title&gt;<br>
&lt;/head&gt;<br>
&lt;body&gt;<br>
<br>
&lt;style&nbsp;type=&quot;text/css&quot;&gt;&lt;!--<br>
#msg&nbsp;dl.meta&nbsp;{&nbsp;border:&nbsp;1px&nbsp;#006&nbsp;solid;&nbsp;background:&nbsp;#369;&nbsp;padding:&nbsp;6px;&nbsp;color:&nbsp;#fff;&nbsp;}<br>
#msg&nbsp;dl.meta&nbsp;dt&nbsp;{&nbsp;float:&nbsp;left;&nbsp;width:&nbsp;6em;&nbsp;font-weight:&nbsp;bold;&nbsp;}<br>
#msg&nbsp;dt:after&nbsp;{&nbsp;content:':';}<br>
#msg&nbsp;dl,&nbsp;#msg&nbsp;dt,&nbsp;#msg&nbsp;ul,&nbsp;#msg&nbsp;li,&nbsp;#header,&nbsp;#footer,&nbsp;#logmsg&nbsp;{&nbsp;font-family:&nbsp;verdana,arial,helvetica,sans-serif;&nbsp;font-size:&nbsp;10pt;&nbsp;&nbsp;}<br>
#msg&nbsp;dl&nbsp;a&nbsp;{&nbsp;font-weight:&nbsp;bold}<br>
#msg&nbsp;dl&nbsp;a:link&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;color:#fc3;&nbsp;}<br>
#msg&nbsp;dl&nbsp;a:active&nbsp;&nbsp;{&nbsp;color:#ff0;&nbsp;}<br>
#msg&nbsp;dl&nbsp;a:visited&nbsp;{&nbsp;color:#cc6;&nbsp;}<br>
h3&nbsp;{&nbsp;font-family:&nbsp;verdana,arial,helvetica,sans-serif;&nbsp;font-size:&nbsp;10pt;&nbsp;font-weight:&nbsp;bold;&nbsp;}<br>
#msg&nbsp;pre&nbsp;{&nbsp;overflow:&nbsp;auto;&nbsp;background:&nbsp;#ffc;&nbsp;border:&nbsp;1px&nbsp;#fa0&nbsp;solid;&nbsp;padding:&nbsp;6px;&nbsp;}<br>
#logmsg&nbsp;{&nbsp;background:&nbsp;#ffc;&nbsp;border:&nbsp;1px&nbsp;#fa0&nbsp;solid;&nbsp;padding:&nbsp;1em&nbsp;1em&nbsp;0&nbsp;1em;&nbsp;}<br>
#logmsg&nbsp;p,&nbsp;#logmsg&nbsp;pre,&nbsp;#logmsg&nbsp;blockquote&nbsp;{&nbsp;margin:&nbsp;0&nbsp;0&nbsp;1em&nbsp;0;&nbsp;}<br>
#logmsg&nbsp;p,&nbsp;#logmsg&nbsp;li,&nbsp;#logmsg&nbsp;dt,&nbsp;#logmsg&nbsp;dd&nbsp;{&nbsp;line-height:&nbsp;14pt;&nbsp;}<br>
#logmsg&nbsp;h1,&nbsp;#logmsg&nbsp;h2,&nbsp;#logmsg&nbsp;h3,&nbsp;#logmsg&nbsp;h4,&nbsp;#logmsg&nbsp;h5,&nbsp;#logmsg&nbsp;h6&nbsp;{&nbsp;margin:&nbsp;.5em&nbsp;0;&nbsp;}<br>
#logmsg&nbsp;h1:first-child,&nbsp;#logmsg&nbsp;h2:first-child,&nbsp;#logmsg&nbsp;h3:first-child,&nbsp;#logmsg&nbsp;h4:first-child,&nbsp;#logmsg&nbsp;h5:first-child,&nbsp;#logmsg&nbsp;h6:first-child&nbsp;{&nbsp;margin-top:&nbsp;0;&nbsp;}<br>
#logmsg&nbsp;ul,&nbsp;#logmsg&nbsp;ol&nbsp;{&nbsp;padding:&nbsp;0;&nbsp;list-style-position:&nbsp;inside;&nbsp;margin:&nbsp;0&nbsp;0&nbsp;0&nbsp;1em;&nbsp;}<br>
#logmsg&nbsp;ul&nbsp;{&nbsp;text-indent:&nbsp;-1em;&nbsp;padding-left:&nbsp;1em;&nbsp;}#logmsg&nbsp;ol&nbsp;{&nbsp;text-indent:&nbsp;-1.5em;&nbsp;padding-left:&nbsp;1.5em;&nbsp;}<br>
#logmsg&nbsp;&gt;&nbsp;ul,&nbsp;#logmsg&nbsp;&gt;&nbsp;ol&nbsp;{&nbsp;margin:&nbsp;0&nbsp;0&nbsp;1em&nbsp;0;&nbsp;}<br>
#logmsg&nbsp;pre&nbsp;{&nbsp;background:&nbsp;#eee;&nbsp;padding:&nbsp;1em;&nbsp;}<br>
#logmsg&nbsp;blockquote&nbsp;{&nbsp;border:&nbsp;1px&nbsp;solid&nbsp;#fa0;&nbsp;border-left-width:&nbsp;10px;&nbsp;padding:&nbsp;1em&nbsp;1em&nbsp;0&nbsp;1em;&nbsp;background:&nbsp;white;}<br>
#logmsg&nbsp;dl&nbsp;{&nbsp;margin:&nbsp;0;&nbsp;}<br>
#logmsg&nbsp;dt&nbsp;{&nbsp;font-weight:&nbsp;bold;&nbsp;}<br>
#logmsg&nbsp;dd&nbsp;{&nbsp;margin:&nbsp;0;&nbsp;padding:&nbsp;0&nbsp;0&nbsp;0.5em&nbsp;0;&nbsp;}<br>
#logmsg&nbsp;dd:before&nbsp;{&nbsp;content:'\00bb';}<br>
#logmsg&nbsp;table&nbsp;{&nbsp;border-spacing:&nbsp;0px;&nbsp;border-collapse:&nbsp;collapse;&nbsp;border-top:&nbsp;4px&nbsp;solid&nbsp;#fa0;&nbsp;border-bottom:&nbsp;1px&nbsp;solid&nbsp;#fa0;&nbsp;background:&nbsp;#fff;&nbsp;}<br>
#logmsg&nbsp;table&nbsp;th&nbsp;{&nbsp;text-align:&nbsp;left;&nbsp;font-weight:&nbsp;normal;&nbsp;padding:&nbsp;0.2em&nbsp;0.5em;&nbsp;border-top:&nbsp;1px&nbsp;dotted&nbsp;#fa0;&nbsp;}<br>
#logmsg&nbsp;table&nbsp;td&nbsp;{&nbsp;text-align:&nbsp;right;&nbsp;border-top:&nbsp;1px&nbsp;dotted&nbsp;#fa0;&nbsp;padding:&nbsp;0.2em&nbsp;0.5em;&nbsp;}<br>
#logmsg&nbsp;table&nbsp;thead&nbsp;th&nbsp;{&nbsp;text-align:&nbsp;center;&nbsp;border-bottom:&nbsp;1px&nbsp;solid&nbsp;#fa0;&nbsp;}<br>
#logmsg&nbsp;table&nbsp;th.Corner&nbsp;{&nbsp;text-align:&nbsp;left;&nbsp;}<br>
#logmsg&nbsp;hr&nbsp;{&nbsp;border:&nbsp;none&nbsp;0;&nbsp;border-top:&nbsp;2px&nbsp;dashed&nbsp;#fa0;&nbsp;height:&nbsp;1px;&nbsp;}<br>
#header,&nbsp;#footer&nbsp;{&nbsp;color:&nbsp;#fff;&nbsp;background:&nbsp;#636;&nbsp;border:&nbsp;1px&nbsp;#300&nbsp;solid;&nbsp;padding:&nbsp;6px;&nbsp;}<br>
#patch&nbsp;{&nbsp;width:&nbsp;100%;&nbsp;}<br>
#patch&nbsp;h4&nbsp;{font-family:&nbsp;verdana,arial,helvetica,sans-serif;font-size:10pt;padding:8px;background:#369;color:#fff;margin:0;}<br>
#patch&nbsp;.propset&nbsp;h4,&nbsp;#patch&nbsp;.binary&nbsp;h4&nbsp;{margin:0;}<br>
#patch&nbsp;pre&nbsp;{padding:0;line-height:1.2em;margin:0;}<br>
#patch&nbsp;.diff&nbsp;{width:100%;background:#eee;padding:&nbsp;0&nbsp;0&nbsp;10px&nbsp;0;overflow:auto;}<br>
#patch&nbsp;.propset&nbsp;.diff,&nbsp;#patch&nbsp;.binary&nbsp;.diff&nbsp;&nbsp;{padding:10px&nbsp;0;}<br>
#patch&nbsp;span&nbsp;{display:block;padding:0&nbsp;10px;}<br>
#patch&nbsp;.modfile,&nbsp;#patch&nbsp;.addfile,&nbsp;#patch&nbsp;.delfile,&nbsp;#patch&nbsp;.propset,&nbsp;#patch&nbsp;.binary,&nbsp;#patch&nbsp;.copfile&nbsp;{border:1px&nbsp;solid&nbsp;#ccc;margin:10px&nbsp;0;}<br>
#patch&nbsp;ins&nbsp;{background:#dfd;text-decoration:none;display:block;padding:0&nbsp;10px;}<br>
#patch&nbsp;del&nbsp;{background:#fdd;text-decoration:none;display:block;padding:0&nbsp;10px;}<br>
#patch&nbsp;.lines,&nbsp;.info&nbsp;{color:#888;background:#fff;}<br>
--&gt;&lt;/style&gt;<br>
&lt;div&nbsp;id=&quot;msg&quot;&gt;<br>
&lt;dl&nbsp;class=&quot;meta&quot;&gt;<br>
&lt;dt&gt;Revision&lt;/dt&gt;&nbsp;&lt;dd&gt;&lt;a&nbsp;href=&quot;http://sources.forgerock.org/changelog/commons/?cs=2843&quot;&gt;2843&lt;/a&gt;&lt;/dd&gt;<br>
&lt;dt&gt;Author&lt;/dt&gt;&nbsp;&lt;dd&gt;chris.lee&lt;/dd&gt;<br>
&lt;dt&gt;Date&lt;/dt&gt;&nbsp;&lt;dd&gt;2015-01-19&nbsp;10:21:52&nbsp;+0000&nbsp;(Mon,&nbsp;19&nbsp;Jan&nbsp;2015)&lt;/dd&gt;<br>
&lt;/dl&gt;<br>
<br>
&lt;h3&gt;Log&nbsp;Message&lt;/h3&gt;<br>
&lt;pre&gt;DOCS-144&nbsp;CR-5784&nbsp;-&nbsp;Added&nbsp;transformations&nbsp;to&nbsp;output&nbsp;Bootstrap-styled&nbsp;documentation.&lt;/pre&gt;<br>
<br>
&lt;h3&gt;Added&nbsp;Paths&lt;/h3&gt;<br>
&lt;ul&gt;<br>
&lt;li&gt;&lt;a&nbsp;href=&quot;#forgerockdocdefaultbrandingREADMEmd&quot;&gt;forgerock-doc-default-branding/README.md&lt;/a&gt;&lt;/li&gt;<br>
&lt;li&gt;forgerock-doc-default-branding/trunk/src/main/resources/docbkx-stylesheets/bootstrap/&lt;/li&gt;<br>
&lt;li&gt;&lt;a&nbsp;href=&quot;#forgerockdocdefaultbrandingtrunksrcmainresourcesdocbkxstylesheetsbootstrapadmonxsl&quot;&gt;forgerock-doc-default-branding/trunk/src/main/resources/docbkx-stylesheets/bootstrap/admon.xsl&lt;/a&gt;&lt;/li&gt;<br>
&lt;li&gt;&lt;a&nbsp;href=&quot;#forgerockdocdefaultbrandingtrunksrcmainresourcesdocbkxstylesheetsbootstrapautotocxsl&quot;&gt;forgerock-doc-default-branding/trunk/src/main/resources/docbkx-stylesheets/bootstrap/autotoc.xsl&lt;/a&gt;&lt;/li&gt;<br>
&lt;li&gt;&lt;a&nbsp;href=&quot;#forgerockdocdefaultbrandingtrunksrcmainresourcesdocbkxstylesheetsbootstrapbooktitlepagexsl&quot;&gt;forgerock-doc-default-branding/trunk/src/main/resources/docbkx-stylesheets/bootstrap/booktitlepage.xsl&lt;/a&gt;&lt;/li&gt;<br>
&lt;li&gt;&lt;a&nbsp;href=&quot;#forgerockdocdefaultbrandingtrunksrcmainresourcesdocbkxstylesheetsbootstrapcoredocxsl&quot;&gt;forgerock-doc-default-branding/trunk/src/main/resources/docbkx-stylesheets/bootstrap/coredoc.xsl&lt;/a&gt;&lt;/li&gt;<br>
&lt;li&gt;&lt;a&nbsp;href=&quot;#forgerockdocdefaultbrandingtrunksrcmainresourcesdocbkxstylesheetsbootstrapdivisionxsl&quot;&gt;forgerock-doc-default-branding/trunk/src/main/resources/docbkx-stylesheets/bootstrap/division.xsl&lt;/a&gt;&lt;/li&gt;<br>
&lt;li&gt;&lt;a&nbsp;href=&quot;#forgerockdocdefaultbrandingtrunksrcmainresourcesdocbkxstylesheetsbootstrapdocbookxsl&quot;&gt;forgerock-doc-default-branding/trunk/src/main/resources/docbkx-stylesheets/bootstrap/docbook.xsl&lt;/a&gt;&lt;/li&gt;<br>
&lt;li&gt;&lt;a&nbsp;href=&quot;#forgerockdocdefaultbrandingtrunksrcmainresourcesdocbkxstylesheetsbootstrapgraphicsxsl&quot;&gt;forgerock-doc-default-branding/trunk/src/main/resources/docbkx-stylesheets/bootstrap/graphics.xsl&lt;/a&gt;&lt;/li&gt;<br>
&lt;li&gt;&lt;a&nbsp;href=&quot;#forgerockdocdefaultbrandingtrunksrcmainresourcesdocbkxstylesheetsbootstrapscriptsjs&quot;&gt;forgerock-doc-default-branding/trunk/src/main/resources/docbkx-stylesheets/bootstrap/scripts.js&lt;/a&gt;&lt;/li&gt;<br>
&lt;li&gt;&lt;a&nbsp;href=&quot;#forgerockdocdefaultbrandingtrunksrcmainresourcesdocbkxstylesheetsbootstrapstylescss&quot;&gt;forgerock-doc-default-branding/trunk/src/main/resources/docbkx-stylesheets/bootstrap/styles.css&lt;/a&gt;&lt;/li&gt;<br>
&lt;li&gt;&lt;a&nbsp;href=&quot;#forgerockdocdefaultbrandingtrunksrcmainresourcesdocbkxstylesheetsbootstraptablexsl&quot;&gt;forgerock-doc-default-branding/trunk/src/main/resources/docbkx-stylesheets/bootstrap/table.xsl&lt;/a&gt;&lt;/li&gt;<br>
&lt;li&gt;&lt;a&nbsp;href=&quot;#forgerockdocdefaultbrandingtrunksrcmainresourcesdocbkxstylesheetsbootstraptocxsl&quot;&gt;forgerock-doc-default-branding/trunk/src/main/resources/docbkx-stylesheets/bootstrap/toc.xsl&lt;/a&gt;&lt;/li&gt;<br>
&lt;/ul&gt;<br>
<br>
&lt;/div&gt;<br>
&lt;div&nbsp;id=&quot;patch&quot;&gt;<br>
&lt;h3&gt;Diff&lt;/h3&gt;<br>
&lt;a&nbsp;id=&quot;forgerockdocdefaultbrandingREADMEmd&quot;&gt;&lt;/a&gt;<br>
&lt;div&nbsp;class=&quot;addfile&quot;&gt;&lt;h4&gt;Added:&nbsp;forgerock-doc-default-branding/README.md&nbsp;(0&nbsp;=&gt;&nbsp;2843)&lt;/h4&gt;<br>
&lt;pre&nbsp;class=&quot;diff&quot;&gt;&lt;span&gt;<br>
&lt;span&nbsp;class=&quot;info&quot;&gt;---&nbsp;forgerock-doc-default-branding/README.md&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(rev&nbsp;0)<br>
+++&nbsp;forgerock-doc-default-branding/README.md&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp2015-01-19&nbsp;10:21:52&nbsp;UTC&nbsp;(rev&nbsp;2843)<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-0,0&nbsp;+1,62&nbsp;@@<br>
&lt;/span&gt;&lt;ins&gt;+#&nbsp;ForgeRock&nbsp;Doc&nbsp;Default&nbsp;Branding&nbsp;Module<br>
+<br>
+This&nbsp;branding&nbsp;module&nbsp;acts&nbsp;as&nbsp;a&nbsp;customization&nbsp;layer&nbsp;on&nbsp;top&nbsp;of&nbsp;the&nbsp;default<br>
+Docbook&nbsp;XSL&nbsp;stylesheets,&nbsp;and&nbsp;can&nbsp;be&nbsp;used&nbsp;to&nbsp;modify&nbsp;the&nbsp;look&nbsp;and&nbsp;feel<br>
+of&nbsp;the&nbsp;output&nbsp;documentation.<br>
+<br>
+ForgeRock-customized&nbsp;stylesheets&nbsp;are&nbsp;provided&nbsp;in<br>
+`main/resources/docbkx-stylesheets`&nbsp;for&nbsp;the&nbsp;following&nbsp;output<br>
+targets:<br>
+<br>
+&nbsp;*&nbsp;bootstrap<br>
+&nbsp;*&nbsp;epub<br>
+&nbsp;*&nbsp;fo&nbsp;(PDF)<br>
+&nbsp;*&nbsp;html<br>
+&nbsp;*&nbsp;man<br>
+&nbsp;*&nbsp;webhelp<br>
+&nbsp;*&nbsp;xhtml5<br>
+<br>
+For&nbsp;more&nbsp;information&nbsp;on&nbsp;Docbook&nbsp;customization&nbsp;layers,&nbsp;see:<br>
+[Customization&nbsp;methods](http://www.sagehill.net/docbookxsl/CustomMethods.html)<br>
+<br>
+##&nbsp;Upgrading&nbsp;Underlying&nbsp;Docbook&nbsp;Stylesheets<br>
+<br>
+The&nbsp;XSL&nbsp;customizations&nbsp;in&nbsp;this&nbsp;module&nbsp;override&nbsp;the&nbsp;transformations&nbsp;present&nbsp;in<br>
+the&nbsp;default&nbsp;Docbook&nbsp;XSL&nbsp;files.<br>
+<br>
+If&nbsp;the&nbsp;default&nbsp;Docbook&nbsp;XSL&nbsp;stylesheets&nbsp;change,&nbsp;you&nbsp;may&nbsp;need&nbsp;to&nbsp;update&nbsp;the<br>
+customizations&nbsp;in&nbsp;this&nbsp;module&nbsp;to&nbsp;take&nbsp;advantage&nbsp;of&nbsp;those&nbsp;changes&nbsp;in&nbsp;the&nbsp;output.<br>
+<br>
+Updating&nbsp;an&nbsp;XSL&nbsp;customization&nbsp;generally&nbsp;involves:<br>
+<br>
+1.&nbsp;Locate&nbsp;the&nbsp;default&nbsp;Docbook&nbsp;XSL&nbsp;stylesheet&nbsp;that&nbsp;transforms&nbsp;the&nbsp;tag&nbsp;you&nbsp;want<br>
+&nbsp;&nbsp;&nbsp;to&nbsp;customize.<br>
+<br>
+2.&nbsp;Make&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;XSL&nbsp;file&nbsp;in&nbsp;the&nbsp;customization&nbsp;layer.<br>
+<br>
+3.&nbsp;Apply&nbsp;the&nbsp;changes&nbsp;you&nbsp;want&nbsp;to&nbsp;make&nbsp;to&nbsp;the&nbsp;copy&nbsp;of&nbsp;the&nbsp;XSL&nbsp;file.<br>
+<br>
+4.&nbsp;Remove&nbsp;any&nbsp;`xsl:template`&nbsp;blocks&nbsp;from&nbsp;the&nbsp;copy&nbsp;of&nbsp;the&nbsp;XSL&nbsp;file&nbsp;that&nbsp;have&nbsp;not<br>
+&nbsp;&nbsp;&nbsp;been&nbsp;modified.&nbsp;The&nbsp;build&nbsp;process&nbsp;will&nbsp;fall-back&nbsp;to&nbsp;the&nbsp;content&nbsp;of&nbsp;the<br>
+&nbsp;&nbsp;&nbsp;default&nbsp;Docbook&nbsp;XSL&nbsp;stylesheets&nbsp;if&nbsp;there&nbsp;is&nbsp;not&nbsp;an&nbsp;applicable&nbsp;template&nbsp;in<br>
+&nbsp;&nbsp;&nbsp;the&nbsp;customization&nbsp;layer.<br>
+<br>
+5.&nbsp;Ensure&nbsp;the&nbsp;copy&nbsp;of&nbsp;the&nbsp;XML&nbsp;file&nbsp;is&nbsp;included&nbsp;in&nbsp;the&nbsp;root&nbsp;XSL&nbsp;file&nbsp;in&nbsp;the<br>
+&nbsp;&nbsp;&nbsp;customization&nbsp;layer&nbsp;for&nbsp;the&nbsp;target&nbsp;you&nbsp;are&nbsp;modifying,&nbsp;for&nbsp;example:<br>
+&nbsp;&nbsp;&nbsp;`docbkx-stylesheets/html/coredoc.xsl`.<br>
+<br>
+*&nbsp;*&nbsp;*<br>
+<br>
+The&nbsp;contents&nbsp;of&nbsp;this&nbsp;file&nbsp;are&nbsp;subject&nbsp;to&nbsp;the&nbsp;terms&nbsp;of&nbsp;the&nbsp;Common&nbsp;Development&nbsp;and<br>
+Distribution&nbsp;License&nbsp;(the&nbsp;License).&nbsp;You&nbsp;may&nbsp;not&nbsp;use&nbsp;this&nbsp;file&nbsp;except&nbsp;in&nbsp;compliance&nbsp;with&nbsp;the<br>
+License.<br>
+<br>
+You&nbsp;can&nbsp;obtain&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;License&nbsp;at&nbsp;legal/CDDLv1.0.txt.&nbsp;See&nbsp;the&nbsp;License&nbsp;for&nbsp;the<br>
+specific&nbsp;language&nbsp;governing&nbsp;permission&nbsp;and&nbsp;limitations&nbsp;under&nbsp;the&nbsp;License.<br>
+<br>
+When&nbsp;distributing&nbsp;Covered&nbsp;Software,&nbsp;include&nbsp;this&nbsp;CDDL&nbsp;Header&nbsp;Notice&nbsp;in&nbsp;each&nbsp;file&nbsp;and&nbsp;include<br>
+the&nbsp;License&nbsp;file&nbsp;at&nbsp;legal/CDDLv1.0.txt.&nbsp;If&nbsp;applicable,&nbsp;add&nbsp;the&nbsp;following&nbsp;below&nbsp;the&nbsp;CDDL<br>
+Header,&nbsp;with&nbsp;the&nbsp;fields&nbsp;enclosed&nbsp;by&nbsp;brackets&nbsp;[]&nbsp;replaced&nbsp;by&nbsp;your&nbsp;own&nbsp;identifying<br>
+information:&nbsp;&amp;quot;Portions&nbsp;copyright&nbsp;[year]&nbsp;[name&nbsp;of&nbsp;copyright&nbsp;owner]&amp;quot;.<br>
+<br>
+Copyright&nbsp;2015&nbsp;ForgeRock&nbsp;AS.<br>
&lt;/ins&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;<br>
&lt;a&nbsp;id=&quot;forgerockdocdefaultbrandingtrunksrcmainresourcesdocbkxstylesheetsbootstrapadmonxsl&quot;&gt;&lt;/a&gt;<br>
&lt;div&nbsp;class=&quot;addfile&quot;&gt;&lt;h4&gt;Added:&nbsp;forgerock-doc-default-branding/trunk/src/main/resources/docbkx-stylesheets/bootstrap/admon.xsl&nbsp;(0&nbsp;=&gt;&nbsp;2843)&lt;/h4&gt;<br>
&lt;pre&nbsp;class=&quot;diff&quot;&gt;&lt;span&gt;<br>
&lt;span&nbsp;class=&quot;info&quot;&gt;---&nbsp;forgerock-doc-default-branding/trunk/src/main/resources/docbkx-stylesheets/bootstrap/admon.xsl&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(rev&nbsp;0)<br>
+++&nbsp;forgerock-doc-default-branding/trunk/src/main/resources/docbkx-stylesheets/bootstrap/admon.xsl&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp2015-01-19&nbsp;10:21:52&nbsp;UTC&nbsp;(rev&nbsp;2843)<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-0,0&nbsp;+1,54&nbsp;@@<br>
&lt;/span&gt;&lt;ins&gt;+&amp;lt;?xml&nbsp;version='1.0'?&amp;gt;<br>
+&amp;lt;xsl:stylesheet&nbsp;xmlns:xsl=&amp;quot;http://www.w3.org/1999/XSL/Transform&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:ng=&amp;quot;http://docbook.org/docbook-ng&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:db=&amp;quot;http://docbook.org/ns/docbook&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:exsl=&amp;quot;http://exslt.org/common&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:exslt=&amp;quot;http://exslt.org/common&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exclude-result-prefixes=&amp;quot;db&nbsp;ng&nbsp;exsl&nbsp;exslt&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;version='1.0'&amp;gt;<br>
+<br>
+&amp;lt;!--&nbsp;********************************************************************<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$Id:&nbsp;admon.xsl&nbsp;9728&nbsp;2013-03-08&nbsp;00:16:41Z&nbsp;bobstayton&nbsp;$<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;********************************************************************<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;file&nbsp;is&nbsp;part&nbsp;of&nbsp;the&nbsp;XSL&nbsp;DocBook&nbsp;Stylesheet&nbsp;distribution.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;See&nbsp;../README&nbsp;or&nbsp;http://docbook.sf.net/release/xsl/current/&nbsp;for<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;copyright&nbsp;and&nbsp;other&nbsp;information.<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;********************************************************************&nbsp;--&amp;gt;<br>
+<br>
+&amp;lt;xsl:template&nbsp;name=&amp;quot;nongraphical.admonition&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;div&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;common.html.attributes&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;inherit&amp;quot;&nbsp;select=&amp;quot;1&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;id.attribute&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:if&nbsp;test=&amp;quot;$admon.style&nbsp;!=&nbsp;''&nbsp;and&nbsp;$make.clean.html&nbsp;=&nbsp;0&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:attribute&nbsp;name=&amp;quot;style&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$admon.style&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:attribute&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:if&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;!--&nbsp;Add&nbsp;panel&nbsp;class&nbsp;to&nbsp;admonitions,&nbsp;and&nbsp;panel&nbsp;type&nbsp;depending&nbsp;on&nbsp;the&nbsp;admonition&nbsp;type&nbsp;//--&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;local-name(.)='note'&amp;quot;&amp;gt;&amp;lt;xsl:attribute&nbsp;name=&amp;quot;class&amp;quot;&amp;gt;panel&nbsp;panel-info&amp;lt;/xsl:attribute&amp;gt;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;local-name(.)='warning'&amp;quot;&amp;gt;&amp;lt;xsl:attribute&nbsp;name=&amp;quot;class&amp;quot;&amp;gt;panel&nbsp;panel-warning&amp;lt;/xsl:attribute&amp;gt;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;local-name(.)='caution'&amp;quot;&amp;gt;&amp;lt;xsl:attribute&nbsp;name=&amp;quot;class&amp;quot;&amp;gt;panel&nbsp;panel-danger&amp;lt;/xsl:attribute&amp;gt;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;local-name(.)='tip'&amp;quot;&amp;gt;&amp;lt;xsl:attribute&nbsp;name=&amp;quot;class&amp;quot;&amp;gt;panel&nbsp;panel-success&amp;lt;/xsl:attribute&amp;gt;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;local-name(.)='important'&amp;quot;&amp;gt;&amp;lt;xsl:attribute&nbsp;name=&amp;quot;class&amp;quot;&amp;gt;panel&nbsp;panel-primary&amp;lt;/xsl:attribute&amp;gt;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;&amp;lt;xsl:attribute&nbsp;name=&amp;quot;class&amp;quot;&amp;gt;panel&nbsp;panel-primary&amp;lt;/xsl:attribute&amp;gt;&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:if&nbsp;test=&amp;quot;$admon.textlabel&nbsp;!=&nbsp;0&nbsp;or&nbsp;db:title&nbsp;or&nbsp;db:info/db:title&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;div&nbsp;class=&amp;quot;panel-heading&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;h3&nbsp;class=&amp;quot;panel-title&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;anchor&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:apply-templates&nbsp;select=&amp;quot;.&amp;quot;&nbsp;mode=&amp;quot;object.title.markup&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/h3&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/div&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:if&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;div&nbsp;class=&amp;quot;panel-body&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:apply-templates/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;/div&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/div&amp;gt;<br>
+&amp;lt;/xsl:template&amp;gt;<br>
+<br>
+&amp;lt;/xsl:stylesheet&amp;gt;<br>
&lt;/ins&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;<br>
&lt;a&nbsp;id=&quot;forgerockdocdefaultbrandingtrunksrcmainresourcesdocbkxstylesheetsbootstrapautotocxsl&quot;&gt;&lt;/a&gt;<br>
&lt;div&nbsp;class=&quot;addfile&quot;&gt;&lt;h4&gt;Added:&nbsp;forgerock-doc-default-branding/trunk/src/main/resources/docbkx-stylesheets/bootstrap/autotoc.xsl&nbsp;(0&nbsp;=&gt;&nbsp;2843)&lt;/h4&gt;<br>
&lt;pre&nbsp;class=&quot;diff&quot;&gt;&lt;span&gt;<br>
&lt;span&nbsp;class=&quot;info&quot;&gt;---&nbsp;forgerock-doc-default-branding/trunk/src/main/resources/docbkx-stylesheets/bootstrap/autotoc.xsl&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(rev&nbsp;0)<br>
+++&nbsp;forgerock-doc-default-branding/trunk/src/main/resources/docbkx-stylesheets/bootstrap/autotoc.xsl&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp2015-01-19&nbsp;10:21:52&nbsp;UTC&nbsp;(rev&nbsp;2843)<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-0,0&nbsp;+1,334&nbsp;@@<br>
&lt;/span&gt;&lt;ins&gt;+&amp;lt;?xml&nbsp;version='1.0'?&amp;gt;<br>
+&amp;lt;xsl:stylesheet&nbsp;xmlns:xsl=&amp;quot;http://www.w3.org/1999/XSL/Transform&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:ng=&amp;quot;http://docbook.org/docbook-ng&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:db=&amp;quot;http://docbook.org/ns/docbook&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:exsl=&amp;quot;http://exslt.org/common&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:exslt=&amp;quot;http://exslt.org/common&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exclude-result-prefixes=&amp;quot;db&nbsp;ng&nbsp;exsl&nbsp;exslt&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;version='1.0'&amp;gt;<br>
+<br>
+&amp;lt;!--&nbsp;********************************************************************<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$Id:&nbsp;autotoc.xsl&nbsp;9692&nbsp;2012-12-16&nbsp;02:31:34Z&nbsp;dcramer&nbsp;$<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;********************************************************************<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;file&nbsp;is&nbsp;part&nbsp;of&nbsp;the&nbsp;XSL&nbsp;DocBook&nbsp;Stylesheet&nbsp;distribution.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;See&nbsp;../README&nbsp;or&nbsp;http://docbook.sf.net/release/xsl/current/&nbsp;for<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;copyright&nbsp;and&nbsp;other&nbsp;information.<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;********************************************************************&nbsp;--&amp;gt;<br>
+<br>
+&amp;lt;xsl:variable&nbsp;name=&amp;quot;toc.listitem.type&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$toc.list.type&nbsp;=&nbsp;'dl'&amp;quot;&amp;gt;dt&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;li&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&amp;lt;/xsl:variable&amp;gt;<br>
+<br>
+&amp;lt;!--&nbsp;this&nbsp;is&nbsp;just&nbsp;hack&nbsp;because&nbsp;dl&nbsp;and&nbsp;ul&nbsp;aren't&nbsp;completely&nbsp;isomorphic&nbsp;--&amp;gt;<br>
+&amp;lt;xsl:variable&nbsp;name=&amp;quot;toc.dd.type&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$toc.list.type&nbsp;=&nbsp;'dl'&amp;quot;&amp;gt;dd&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&amp;lt;/xsl:variable&amp;gt;<br>
+<br>
+&amp;lt;xsl:template&nbsp;name=&amp;quot;make.toc&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;xsl:param&nbsp;name=&amp;quot;toc-context&amp;quot;&nbsp;select=&amp;quot;.&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;xsl:param&nbsp;name=&amp;quot;toc.title.p&amp;quot;&nbsp;select=&amp;quot;true()&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;xsl:param&nbsp;name=&amp;quot;nodes&amp;quot;&nbsp;select=&amp;quot;/NOT-AN-ELEMENT&amp;quot;/&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;nodes.plus&amp;quot;&nbsp;select=&amp;quot;$nodes&nbsp;|&nbsp;qandaset&amp;quot;/&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;toc.title&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:if&nbsp;test=&amp;quot;$toc.title.p&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;h4&nbsp;class=&amp;quot;toc-title&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;ancestor-or-self::db:book/db:info/db:title&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;br&nbsp;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;small&nbsp;class=&amp;quot;toc-subtitle&amp;quot;&amp;gt;&amp;lt;xsl:value-of<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;select=&amp;quot;ancestor-or-self::db:book/db:info/db:subtitle&amp;quot;/&amp;gt;&amp;lt;/small&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/h4&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:if&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$manual.toc&nbsp;!=&nbsp;''&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;id&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;object.id&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;toc&amp;quot;&nbsp;select=&amp;quot;document($manual.toc,&nbsp;.)&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;tocentry&amp;quot;&nbsp;select=&amp;quot;$toc//tocentry[@linkend=$id]&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:if&nbsp;test=&amp;quot;$tocentry&nbsp;and&nbsp;$tocentry/*&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;!--&nbsp;Add&nbsp;bootstrap&nbsp;classes&nbsp;to&nbsp;ToC&nbsp;container&nbsp;to&nbsp;make&nbsp;it&nbsp;a&nbsp;left-hand&nbsp;column&nbsp;//--&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;div&nbsp;class=&amp;quot;col-sm-3&nbsp;hidden-xs&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;div&nbsp;id=&amp;quot;sidebar&amp;quot;&nbsp;data-clampedwidth=&amp;quot;.col-sm-3&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:copy-of&nbsp;select=&amp;quot;$toc.title&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:element&nbsp;name=&amp;quot;{$toc.list.type}&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;toc.list.attributes&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;toc-context&amp;quot;&nbsp;select=&amp;quot;$toc-context&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;toc.title.p&amp;quot;&nbsp;select=&amp;quot;$toc.title.p&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;nodes&amp;quot;&nbsp;select=&amp;quot;$nodes&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;manual-toc&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;tocentry&amp;quot;&nbsp;select=&amp;quot;$tocentry/*[1]&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:element&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/div&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/div&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:if&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$qanda.in.toc&nbsp;!=&nbsp;0&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:if&nbsp;test=&amp;quot;$nodes.plus&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;!--&nbsp;Add&nbsp;bootstrap&nbsp;classes&nbsp;to&nbsp;ToC&nbsp;container&nbsp;to&nbsp;make&nbsp;it&nbsp;a&nbsp;left-hand&nbsp;column&nbsp;//--&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;div&nbsp;class=&amp;quot;col-sm-3&nbsp;hidden-xs&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;div&nbsp;id=&amp;quot;sidebar&amp;quot;&nbsp;data-clampedwidth=&amp;quot;.col-sm-3&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:copy-of&nbsp;select=&amp;quot;$toc.title&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:element&nbsp;name=&amp;quot;{$toc.list.type}&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;toc.list.attributes&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;toc-context&amp;quot;&nbsp;select=&amp;quot;$toc-context&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;toc.title.p&amp;quot;&nbsp;select=&amp;quot;$toc.title.p&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;nodes&amp;quot;&nbsp;select=&amp;quot;$nodes&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:apply-templates&nbsp;select=&amp;quot;$nodes.plus&amp;quot;&nbsp;mode=&amp;quot;toc&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;toc-context&amp;quot;&nbsp;select=&amp;quot;$toc-context&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:apply-templates&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:element&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/div&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/div&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:if&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:if&nbsp;test=&amp;quot;$nodes&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;!--&nbsp;Add&nbsp;bootstrap&nbsp;classes&nbsp;to&nbsp;ToC&nbsp;container&nbsp;to&nbsp;make&nbsp;it&nbsp;a&nbsp;left-hand&nbsp;column&nbsp;//--&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;div&nbsp;class=&amp;quot;col-sm-3&nbsp;hidden-xs&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;div&nbsp;id=&amp;quot;sidebar&amp;quot;&nbsp;data-clampedwidth=&amp;quot;.col-sm-3&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:copy-of&nbsp;select=&amp;quot;$toc.title&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:element&nbsp;name=&amp;quot;{$toc.list.type}&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;toc.list.attributes&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;toc-context&amp;quot;&nbsp;select=&amp;quot;$toc-context&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;toc.title.p&amp;quot;&nbsp;select=&amp;quot;$toc.title.p&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;nodes&amp;quot;&nbsp;select=&amp;quot;$nodes&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:apply-templates&nbsp;select=&amp;quot;$nodes&amp;quot;&nbsp;mode=&amp;quot;toc&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;toc-context&amp;quot;&nbsp;select=&amp;quot;$toc-context&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:apply-templates&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:element&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/div&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/div&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:if&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&amp;lt;/xsl:template&amp;gt;<br>
+<br>
+&amp;lt;xsl:template&nbsp;name=&amp;quot;toc.list.attributes&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;xsl:param&nbsp;name=&amp;quot;toc-context&amp;quot;&nbsp;select=&amp;quot;.&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;xsl:param&nbsp;name=&amp;quot;toc.title.p&amp;quot;&nbsp;select=&amp;quot;true()&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;xsl:param&nbsp;name=&amp;quot;nodes&amp;quot;&nbsp;select=&amp;quot;/NOT-AN-ELEMENT&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;!--&nbsp;Add&nbsp;bootstrap&nbsp;classes&nbsp;to&nbsp;ToC&nbsp;contents&nbsp;to&nbsp;make&nbsp;it&nbsp;stack&nbsp;vertically&nbsp;//--&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;xsl:attribute&nbsp;name=&amp;quot;class&amp;quot;&amp;gt;nav&nbsp;nav-stacked&amp;lt;/xsl:attribute&amp;gt;<br>
+&amp;lt;/xsl:template&amp;gt;<br>
+<br>
+&amp;lt;xsl:template&nbsp;name=&amp;quot;subtoc&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;xsl:param&nbsp;name=&amp;quot;toc-context&amp;quot;&nbsp;select=&amp;quot;.&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;xsl:param&nbsp;name=&amp;quot;nodes&amp;quot;&nbsp;select=&amp;quot;NOT-AN-ELEMENT&amp;quot;/&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;nodes.plus&amp;quot;&nbsp;select=&amp;quot;$nodes&nbsp;|&nbsp;db:qandaset&amp;quot;/&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;subtoc&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:element&nbsp;name=&amp;quot;{$toc.list.type}&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:attribute&nbsp;name=&amp;quot;class&amp;quot;&amp;gt;nav&nbsp;nav-stacked&amp;lt;/xsl:attribute&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$qanda.in.toc&nbsp;!=&nbsp;0&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:apply-templates&nbsp;mode=&amp;quot;toc&amp;quot;&nbsp;select=&amp;quot;$nodes.plus&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;toc-context&amp;quot;&nbsp;select=&amp;quot;$toc-context&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:apply-templates&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:apply-templates&nbsp;mode=&amp;quot;toc&amp;quot;&nbsp;select=&amp;quot;$nodes&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;toc-context&amp;quot;&nbsp;select=&amp;quot;$toc-context&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:apply-templates&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:element&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;depth&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;local-name(.)&nbsp;=&nbsp;'section'&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;count(ancestor::section)&nbsp;+&nbsp;1&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;local-name(.)&nbsp;=&nbsp;'sect1'&amp;quot;&amp;gt;1&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;local-name(.)&nbsp;=&nbsp;'sect2'&amp;quot;&amp;gt;2&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;local-name(.)&nbsp;=&nbsp;'sect3'&amp;quot;&amp;gt;3&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;local-name(.)&nbsp;=&nbsp;'sect4'&amp;quot;&amp;gt;4&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;local-name(.)&nbsp;=&nbsp;'sect5'&amp;quot;&amp;gt;5&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;local-name(.)&nbsp;=&nbsp;'refsect1'&amp;quot;&amp;gt;1&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;local-name(.)&nbsp;=&nbsp;'refsect2'&amp;quot;&amp;gt;2&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;local-name(.)&nbsp;=&nbsp;'refsect3'&amp;quot;&amp;gt;3&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;local-name(.)&nbsp;=&nbsp;'topic'&amp;quot;&amp;gt;1&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;local-name(.)&nbsp;=&nbsp;'simplesect'&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;!--&nbsp;sigh...&nbsp;--&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;local-name(..)&nbsp;=&nbsp;'section'&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;count(ancestor::section)&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;local-name(..)&nbsp;=&nbsp;'sect1'&amp;quot;&amp;gt;2&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;local-name(..)&nbsp;=&nbsp;'sect2'&amp;quot;&amp;gt;3&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;local-name(..)&nbsp;=&nbsp;'sect3'&amp;quot;&amp;gt;4&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;local-name(..)&nbsp;=&nbsp;'sect4'&amp;quot;&amp;gt;5&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;local-name(..)&nbsp;=&nbsp;'sect5'&amp;quot;&amp;gt;6&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;local-name(..)&nbsp;=&nbsp;'topic'&amp;quot;&amp;gt;2&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;local-name(..)&nbsp;=&nbsp;'refsect1'&amp;quot;&amp;gt;2&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;local-name(..)&nbsp;=&nbsp;'refsect2'&amp;quot;&amp;gt;3&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;local-name(..)&nbsp;=&nbsp;'refsect3'&amp;quot;&amp;gt;4&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;1&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;0&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;depth.from.context&amp;quot;&nbsp;select=&amp;quot;count(ancestor::*)-count($toc-context/ancestor::*)&amp;quot;/&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;subtoc.list&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$toc.dd.type&nbsp;=&nbsp;''&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:copy-of&nbsp;select=&amp;quot;$subtoc&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:element&nbsp;name=&amp;quot;{$toc.dd.type}&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:attribute&nbsp;name=&amp;quot;class&amp;quot;&amp;gt;nav&nbsp;nav-stacked&amp;lt;/xsl:attribute&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:copy-of&nbsp;select=&amp;quot;$subtoc&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:element&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&amp;lt;xsl:element&nbsp;name=&amp;quot;{$toc.listitem.type}&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;toc.line&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;toc-context&amp;quot;&nbsp;select=&amp;quot;$toc-context&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:if&nbsp;test=&amp;quot;$toc.listitem.type&nbsp;=&nbsp;'li'&nbsp;and<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&nbsp;(self::set&nbsp;or&nbsp;self::book&nbsp;or&nbsp;self::part)&nbsp;or&nbsp;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$toc.section.depth&nbsp;&amp;gt;&nbsp;$depth)&nbsp;and&nbsp;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&nbsp;($qanda.in.toc&nbsp;=&nbsp;0&nbsp;and&nbsp;count($nodes)&amp;amp;gt;0)&nbsp;or<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($qanda.in.toc&nbsp;!=&nbsp;0&nbsp;and&nbsp;count($nodes.plus)&amp;amp;gt;0)&nbsp;)<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;$toc.max.depth&nbsp;&amp;gt;&nbsp;$depth.from.context&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:copy-of&nbsp;select=&amp;quot;$subtoc.list&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:if&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:element&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;xsl:if&nbsp;test=&amp;quot;$toc.listitem.type&nbsp;!=&nbsp;'li'&nbsp;and<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&nbsp;(self::set&nbsp;or&nbsp;self::book&nbsp;or&nbsp;self::part)&nbsp;or&nbsp;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$toc.section.depth&nbsp;&amp;gt;&nbsp;$depth)&nbsp;and&nbsp;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&nbsp;($qanda.in.toc&nbsp;=&nbsp;0&nbsp;and&nbsp;count($nodes)&amp;amp;gt;0)&nbsp;or<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($qanda.in.toc&nbsp;!=&nbsp;0&nbsp;and&nbsp;count($nodes.plus)&amp;amp;gt;0)&nbsp;)<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;$toc.max.depth&nbsp;&amp;gt;&nbsp;$depth.from.context&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:copy-of&nbsp;select=&amp;quot;$subtoc.list&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:if&amp;gt;<br>
+&amp;lt;/xsl:template&amp;gt;<br>
+<br>
+&amp;lt;xsl:template&nbsp;name=&amp;quot;toc.line&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;xsl:param&nbsp;name=&amp;quot;toc-context&amp;quot;&nbsp;select=&amp;quot;.&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;xsl:param&nbsp;name=&amp;quot;depth&amp;quot;&nbsp;select=&amp;quot;1&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;xsl:param&nbsp;name=&amp;quot;depth.from.context&amp;quot;&nbsp;select=&amp;quot;8&amp;quot;/&amp;gt;<br>
+<br>
+<br>
+<br>
+&nbsp;&nbsp;&amp;lt;!--&nbsp;*&nbsp;if&nbsp;$autotoc.label.in.hyperlink&nbsp;is&nbsp;zero,&nbsp;then&nbsp;output&nbsp;the&nbsp;label&nbsp;--&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;!--&nbsp;*&nbsp;before&nbsp;the&nbsp;hyperlinked&nbsp;title&nbsp;(as&nbsp;the&nbsp;DSSSL&nbsp;stylesheet&nbsp;does)&nbsp;--&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;xsl:if&nbsp;test=&amp;quot;$autotoc.label.in.hyperlink&nbsp;=&nbsp;0&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;label&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:apply-templates&nbsp;select=&amp;quot;.&amp;quot;&nbsp;mode=&amp;quot;label.markup&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:copy-of&nbsp;select=&amp;quot;$label&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:if&nbsp;test=&amp;quot;$label&nbsp;!=&nbsp;''&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$autotoc.label.separator&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:if&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:if&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&amp;lt;a&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:attribute&nbsp;name=&amp;quot;href&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;href.target&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;context&amp;quot;&nbsp;select=&amp;quot;$toc-context&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;toc-context&amp;quot;&nbsp;select=&amp;quot;$toc-context&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:attribute&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;<br>
+&nbsp;&nbsp;&amp;lt;!--&nbsp;*&nbsp;if&nbsp;$autotoc.label.in.hyperlink&nbsp;is&nbsp;non-zero,&nbsp;then&nbsp;output&nbsp;the&nbsp;label&nbsp;--&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;!--&nbsp;*&nbsp;as&nbsp;part&nbsp;of&nbsp;the&nbsp;hyperlinked&nbsp;title&nbsp;--&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;xsl:if&nbsp;test=&amp;quot;not($autotoc.label.in.hyperlink&nbsp;=&nbsp;0)&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;label&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:apply-templates&nbsp;select=&amp;quot;.&amp;quot;&nbsp;mode=&amp;quot;label.markup&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:copy-of&nbsp;select=&amp;quot;$label&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:if&nbsp;test=&amp;quot;$label&nbsp;!=&nbsp;''&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$autotoc.label.separator&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:if&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:if&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:apply-templates&nbsp;select=&amp;quot;.&amp;quot;&nbsp;mode=&amp;quot;titleabbrev.markup&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/a&amp;gt;<br>
+&amp;lt;/xsl:template&amp;gt;<br>
+<br>
+&amp;lt;!--&nbsp;====================================================================&nbsp;--&amp;gt;<br>
+<br>
+&amp;lt;xsl:template&nbsp;name=&amp;quot;list.of.titles&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;xsl:param&nbsp;name=&amp;quot;toc-context&amp;quot;&nbsp;select=&amp;quot;.&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;xsl:param&nbsp;name=&amp;quot;titles&amp;quot;&nbsp;select=&amp;quot;'table'&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;xsl:param&nbsp;name=&amp;quot;nodes&amp;quot;&nbsp;select=&amp;quot;.//table&amp;quot;/&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&amp;lt;xsl:if&nbsp;test=&amp;quot;$nodes&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;div&nbsp;class=&amp;quot;list-of-{$titles}s&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$make.clean.html&nbsp;!=&nbsp;0&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;div&nbsp;class=&amp;quot;toc-title&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;gentext&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;key&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$titles='table'&amp;quot;&amp;gt;ListofTables&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$titles='figure'&amp;quot;&amp;gt;ListofFigures&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$titles='equation'&amp;quot;&amp;gt;ListofEquations&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$titles='example'&amp;quot;&amp;gt;ListofExamples&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$titles='procedure'&amp;quot;&amp;gt;ListofProcedures&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;ListofUnknown&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:with-param&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/div&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;p&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;b&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;gentext&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;key&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$titles='table'&amp;quot;&amp;gt;ListofTables&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$titles='figure'&amp;quot;&amp;gt;ListofFigures&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$titles='equation'&amp;quot;&amp;gt;ListofEquations&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$titles='example'&amp;quot;&amp;gt;ListofExamples&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$titles='procedure'&amp;quot;&amp;gt;ListofProcedures&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;ListofUnknown&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:with-param&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/b&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/p&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:element&nbsp;name=&amp;quot;{$toc.list.type}&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;!--&nbsp;Add&nbsp;bootstrap&nbsp;classes&nbsp;to&nbsp;ToC&nbsp;contents&nbsp;to&nbsp;make&nbsp;it&nbsp;stack&nbsp;vertically&nbsp;//--&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:attribute&nbsp;name=&amp;quot;class&amp;quot;&amp;gt;nav&nbsp;nav-stacked&amp;lt;/xsl:attribute&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:apply-templates&nbsp;select=&amp;quot;$nodes&amp;quot;&nbsp;mode=&amp;quot;toc&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;toc-context&amp;quot;&nbsp;select=&amp;quot;$toc-context&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:apply-templates&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:element&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/div&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:if&amp;gt;<br>
+&amp;lt;/xsl:template&amp;gt;<br>
+&amp;lt;/xsl:stylesheet&amp;gt;<br>
+<br>
&lt;/ins&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;<br>
&lt;a&nbsp;id=&quot;forgerockdocdefaultbrandingtrunksrcmainresourcesdocbkxstylesheetsbootstrapbooktitlepagexsl&quot;&gt;&lt;/a&gt;<br>
&lt;div&nbsp;class=&quot;addfile&quot;&gt;&lt;h4&gt;Added:&nbsp;forgerock-doc-default-branding/trunk/src/main/resources/docbkx-stylesheets/bootstrap/booktitlepage.xsl&nbsp;(0&nbsp;=&gt;&nbsp;2843)&lt;/h4&gt;<br>
&lt;pre&nbsp;class=&quot;diff&quot;&gt;&lt;span&gt;<br>
&lt;span&nbsp;class=&quot;info&quot;&gt;---&nbsp;forgerock-doc-default-branding/trunk/src/main/resources/docbkx-stylesheets/bootstrap/booktitlepage.xsl&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(rev&nbsp;0)<br>
+++&nbsp;forgerock-doc-default-branding/trunk/src/main/resources/docbkx-stylesheets/bootstrap/booktitlepage.xsl&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp2015-01-19&nbsp;10:21:52&nbsp;UTC&nbsp;(rev&nbsp;2843)<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-0,0&nbsp;+1,18&nbsp;@@<br>
&lt;/span&gt;&lt;ins&gt;+&amp;lt;?xml&nbsp;version='1.0'?&amp;gt;<br>
+&amp;lt;xsl:stylesheet&nbsp;xmlns:xsl=&amp;quot;http://www.w3.org/1999/XSL/Transform&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:ng=&amp;quot;http://docbook.org/docbook-ng&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:db=&amp;quot;http://docbook.org/ns/docbook&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:exsl=&amp;quot;http://exslt.org/common&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:exslt=&amp;quot;http://exslt.org/common&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exclude-result-prefixes=&amp;quot;db&nbsp;ng&nbsp;exsl&nbsp;exslt&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;version='1.0'&amp;gt;<br>
+&nbsp;&amp;lt;!--<br>
+&nbsp;&nbsp;Skip&nbsp;creation&nbsp;of&nbsp;initial&nbsp;Book&nbsp;title&nbsp;page,&nbsp;avoids&nbsp;showing&nbsp;the&nbsp;authors&nbsp;and&nbsp;other&nbsp;information<br>
+&nbsp;/--&amp;gt;<br>
+&nbsp;&amp;lt;xsl:template&nbsp;name=&amp;quot;book.titlepage.recto&amp;quot;&nbsp;/&amp;gt;<br>
+<br>
+&nbsp;&amp;lt;xsl:template&nbsp;name=&amp;quot;book.titlepage.verso&amp;quot;&nbsp;/&amp;gt;<br>
+<br>
+&nbsp;&amp;lt;xsl:template&nbsp;name=&amp;quot;book.titlepage.separator&amp;quot;&nbsp;/&amp;gt;<br>
+<br>
+&amp;lt;/xsl:stylesheet&amp;gt;<br>
&lt;/ins&gt;&lt;span&nbsp;class=&quot;cx&quot;&gt;\&nbsp;No&nbsp;newline&nbsp;at&nbsp;end&nbsp;of&nbsp;file<br>
&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;<br>
&lt;a&nbsp;id=&quot;forgerockdocdefaultbrandingtrunksrcmainresourcesdocbkxstylesheetsbootstrapcoredocxsl&quot;&gt;&lt;/a&gt;<br>
&lt;div&nbsp;class=&quot;addfile&quot;&gt;&lt;h4&gt;Added:&nbsp;forgerock-doc-default-branding/trunk/src/main/resources/docbkx-stylesheets/bootstrap/coredoc.xsl&nbsp;(0&nbsp;=&gt;&nbsp;2843)&lt;/h4&gt;<br>
&lt;pre&nbsp;class=&quot;diff&quot;&gt;&lt;span&gt;<br>
&lt;span&nbsp;class=&quot;info&quot;&gt;---&nbsp;forgerock-doc-default-branding/trunk/src/main/resources/docbkx-stylesheets/bootstrap/coredoc.xsl&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(rev&nbsp;0)<br>
+++&nbsp;forgerock-doc-default-branding/trunk/src/main/resources/docbkx-stylesheets/bootstrap/coredoc.xsl&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp2015-01-19&nbsp;10:21:52&nbsp;UTC&nbsp;(rev&nbsp;2843)<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-0,0&nbsp;+1,193&nbsp;@@<br>
&lt;/span&gt;&lt;ins&gt;+&amp;lt;?xml&nbsp;version=&amp;quot;1.0&amp;quot;&nbsp;encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;<br>
+&amp;lt;!--<br>
+&nbsp;&nbsp;!&nbsp;This&nbsp;work&nbsp;is&nbsp;licensed&nbsp;under&nbsp;the&nbsp;Creative&nbsp;Commons<br>
+&nbsp;&nbsp;!&nbsp;Attribution-NonCommercial-NoDerivs&nbsp;3.0&nbsp;Unported&nbsp;License.<br>
+&nbsp;&nbsp;!&nbsp;To&nbsp;view&nbsp;a&nbsp;copy&nbsp;of&nbsp;this&nbsp;license,&nbsp;visit<br>
+&nbsp;&nbsp;!&nbsp;http://creativecommons.org/licenses/by-nc-nd/3.0/<br>
+&nbsp;&nbsp;!&nbsp;or&nbsp;send&nbsp;a&nbsp;letter&nbsp;to&nbsp;Creative&nbsp;Commons,&nbsp;444&nbsp;Castro&nbsp;Street,<br>
+&nbsp;&nbsp;!&nbsp;Suite&nbsp;900,&nbsp;Mountain&nbsp;View,&nbsp;California,&nbsp;94041,&nbsp;USA.<br>
+&nbsp;&nbsp;!<br>
+&nbsp;&nbsp;!&nbsp;You&nbsp;can&nbsp;also&nbsp;obtain&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;license&nbsp;at<br>
+&nbsp;&nbsp;!&nbsp;legal/CC-BY-NC-ND.txt.<br>
+&nbsp;&nbsp;!&nbsp;See&nbsp;the&nbsp;License&nbsp;for&nbsp;the&nbsp;specific&nbsp;language&nbsp;governing&nbsp;permissions<br>
+&nbsp;&nbsp;!&nbsp;and&nbsp;limitations&nbsp;under&nbsp;the&nbsp;License.<br>
+&nbsp;&nbsp;!<br>
+&nbsp;&nbsp;!&nbsp;If&nbsp;applicable,&nbsp;add&nbsp;the&nbsp;following&nbsp;below&nbsp;this&nbsp;CCPL&nbsp;HEADER,&nbsp;with&nbsp;the&nbsp;fields<br>
+&nbsp;&nbsp;!&nbsp;enclosed&nbsp;by&nbsp;brackets&nbsp;&amp;quot;[]&amp;quot;&nbsp;replaced&nbsp;with&nbsp;your&nbsp;own&nbsp;identifying&nbsp;information:<br>
+&nbsp;&nbsp;!&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Portions&nbsp;Copyright&nbsp;[yyyy]&nbsp;[name&nbsp;of&nbsp;copyright&nbsp;owner]<br>
+&nbsp;&nbsp;!<br>
+&nbsp;&nbsp;!&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Copyright&nbsp;2011-2015&nbsp;ForgeRock&nbsp;AS.<br>
+&nbsp;&nbsp;!<br>
+--&amp;gt;<br>
+<br>
+&amp;lt;!DOCTYPE&nbsp;xsl:stylesheet&nbsp;[<br>
+&nbsp;&amp;lt;!ENTITY&nbsp;css&nbsp;SYSTEM&nbsp;&amp;quot;styles.css&amp;quot;&amp;gt;<br>
+&nbsp;&amp;lt;!ENTITY&nbsp;js&nbsp;SYSTEM&nbsp;&amp;quot;scripts.js&amp;quot;&amp;gt;<br>
+]&amp;gt;<br>
+&amp;lt;xsl:stylesheet&nbsp;xmlns:xsl=&amp;quot;http://www.w3.org/1999/XSL/Transform&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:ng=&amp;quot;http://docbook.org/docbook-ng&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:db=&amp;quot;http://docbook.org/ns/docbook&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:exsl=&amp;quot;http://exslt.org/common&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:exslt=&amp;quot;http://exslt.org/common&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exclude-result-prefixes=&amp;quot;db&nbsp;ng&nbsp;exsl&nbsp;exslt&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;version='1.0'&amp;gt;<br>
+&nbsp;&amp;lt;xsl:import&nbsp;href=&amp;quot;urn:docbkx:stylesheet&amp;quot;&nbsp;/&amp;gt;<br>
+&nbsp;&amp;lt;xsl:include&nbsp;href=&amp;quot;admon.xsl&amp;quot;&nbsp;/&amp;gt;<br>
+&nbsp;&amp;lt;xsl:include&nbsp;href=&amp;quot;autotoc.xsl&amp;quot;&nbsp;/&amp;gt;<br>
+&nbsp;&amp;lt;xsl:include&nbsp;href=&amp;quot;booktitlepage.xsl&amp;quot;&nbsp;/&amp;gt;<br>
+&nbsp;&amp;lt;xsl:include&nbsp;href=&amp;quot;division.xsl&amp;quot;&nbsp;/&amp;gt;<br>
+&nbsp;&amp;lt;xsl:include&nbsp;href=&amp;quot;docbook.xsl&amp;quot;&nbsp;/&amp;gt;<br>
+&nbsp;&amp;lt;xsl:include&nbsp;href=&amp;quot;graphics.xsl&amp;quot;&nbsp;/&amp;gt;<br>
+&nbsp;&amp;lt;xsl:include&nbsp;href=&amp;quot;toc.xsl&amp;quot;&nbsp;/&amp;gt;<br>
+&nbsp;&amp;lt;xsl:include&nbsp;href=&amp;quot;table.xsl&amp;quot;&nbsp;/&amp;gt;<br>
+<br>
+&nbsp;&amp;lt;xsl:output&nbsp;method=&amp;quot;html&amp;quot;&nbsp;encoding=&amp;quot;UTF-8&amp;quot;&nbsp;indent=&amp;quot;no&amp;quot;&nbsp;/&amp;gt;<br>
+<br>
+&nbsp;&amp;lt;xsl:preserve-space<br>
+&nbsp;elements=&amp;quot;db:computeroutput&nbsp;db:programlisting&nbsp;db:screen&nbsp;db:userinput&amp;quot;/&amp;gt;<br>
+<br>
+&nbsp;&amp;lt;xsl:template&nbsp;match=&amp;quot;db:programlisting&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;@language='aci'&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;pre&nbsp;class=&amp;quot;codelisting&nbsp;prettyprint&nbsp;&amp;quot;&amp;gt;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;.&amp;quot;&nbsp;/&amp;gt;&amp;lt;/pre&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;@language='csv'&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;pre&nbsp;class=&amp;quot;codelisting&nbsp;prettyprint&nbsp;lang-java&amp;quot;&amp;gt;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;.&amp;quot;&nbsp;/&amp;gt;&amp;lt;/pre&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;@language='html'&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;pre&nbsp;class=&amp;quot;codelisting&nbsp;prettyprint&nbsp;lang-html&amp;quot;&amp;gt;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;.&amp;quot;&nbsp;/&amp;gt;&amp;lt;/pre&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;@language='http'&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;pre&nbsp;class=&amp;quot;codelisting&nbsp;prettyprint&amp;quot;&amp;gt;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;.&amp;quot;&nbsp;/&amp;gt;&amp;lt;/pre&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;@language='ini'&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;pre&nbsp;class=&amp;quot;codelisting&nbsp;prettyprint&amp;quot;&amp;gt;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;.&amp;quot;&nbsp;/&amp;gt;&amp;lt;/pre&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;@language='java'&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;pre&nbsp;class=&amp;quot;codelisting&nbsp;prettyprint&nbsp;linenums&nbsp;lang-java&amp;quot;&amp;gt;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;.&amp;quot;&nbsp;/&amp;gt;&amp;lt;/pre&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;@language='javascript'&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;pre&nbsp;class=&amp;quot;codelisting&nbsp;prettyprint&nbsp;linenums&nbsp;lang-js&amp;quot;&amp;gt;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;.&amp;quot;&nbsp;/&amp;gt;&amp;lt;/pre&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;@language='ldif'&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;pre&nbsp;class=&amp;quot;codelisting&nbsp;prettyprint&amp;quot;&amp;gt;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;.&amp;quot;&nbsp;/&amp;gt;&amp;lt;/pre&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;@language='shell'&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;pre&nbsp;class=&amp;quot;codelisting&nbsp;prettyprint&nbsp;lang-sh&amp;quot;&amp;gt;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;.&amp;quot;&nbsp;/&amp;gt;&amp;lt;/pre&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;@language='xml'&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;pre&nbsp;class=&amp;quot;codelisting&nbsp;prettyprint&nbsp;lang-xml&amp;quot;&amp;gt;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;.&amp;quot;&nbsp;/&amp;gt;&amp;lt;/pre&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;@language='none'&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;pre&amp;gt;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;.&amp;quot;&nbsp;/&amp;gt;&amp;lt;/pre&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;pre&nbsp;class=&amp;quot;codelisting&nbsp;prettyprint&amp;quot;&amp;gt;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;.&amp;quot;&nbsp;/&amp;gt;&amp;lt;/pre&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&amp;lt;/xsl:template&amp;gt;<br>
+<br>
+&nbsp;&amp;lt;xsl:template&nbsp;match=&amp;quot;db:keycap&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;kbd&amp;gt;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;.&amp;quot;&nbsp;/&amp;gt;&amp;lt;/kbd&amp;gt;<br>
+&nbsp;&amp;lt;/xsl:template&amp;gt;<br>
+<br>
+&nbsp;&amp;lt;xsl:template&nbsp;match=&amp;quot;db:screen&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;pre&nbsp;class=&amp;quot;cmdline&nbsp;prettyprint&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:apply-templates&nbsp;mode=&amp;quot;screen&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/pre&amp;gt;<br>
+&nbsp;&amp;lt;/xsl:template&amp;gt;<br>
+<br>
+&nbsp;&amp;lt;xsl:template&nbsp;match=&amp;quot;*&amp;quot;&nbsp;mode=&amp;quot;screen&amp;quot;&amp;gt;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;.&amp;quot;/&amp;gt;&amp;lt;/xsl:template&amp;gt;<br>
+<br>
+&nbsp;&amp;lt;xsl:template&nbsp;match=&amp;quot;db:replaceable&amp;quot;&nbsp;mode=&amp;quot;screen&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;em&amp;gt;&amp;lt;strong&amp;gt;&amp;lt;xsl:apply-templates&nbsp;mode=&amp;quot;screen&amp;quot;/&amp;gt;&amp;lt;/strong&amp;gt;&amp;lt;/em&amp;gt;<br>
+&nbsp;&amp;lt;/xsl:template&amp;gt;<br>
+<br>
+&nbsp;&amp;lt;xsl:template&nbsp;match=&amp;quot;db:userinput&amp;quot;&nbsp;mode=&amp;quot;screen&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;strong&amp;gt;&amp;lt;xsl:apply-templates&nbsp;mode=&amp;quot;screen&amp;quot;/&amp;gt;&amp;lt;/strong&amp;gt;<br>
+&nbsp;&amp;lt;/xsl:template&amp;gt;<br>
+<br>
+&nbsp;&amp;lt;xsl:template&nbsp;match=&amp;quot;db:computeroutput&amp;quot;&nbsp;mode=&amp;quot;screen&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;em&amp;gt;&amp;lt;xsl:apply-templates&nbsp;mode=&amp;quot;screen&amp;quot;/&amp;gt;&amp;lt;/em&amp;gt;<br>
+&nbsp;&amp;lt;/xsl:template&amp;gt;<br>
+<br>
+&nbsp;&amp;lt;xsl:param&nbsp;name=&amp;quot;toc.list.type&amp;quot;&amp;gt;ul&amp;lt;/xsl:param&amp;gt;<br>
+<br>
+&nbsp;&amp;lt;xsl:param&nbsp;name=&amp;quot;html.script&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;http://code.jquery.com/jquery-1.11.1.min.js<br>
+&nbsp;&nbsp;http://code.jquery.com/ui/1.11.1/jquery-ui.min.js<br>
+&nbsp;&nbsp;http://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.js<br>
+&nbsp;&nbsp;http://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js<br>
+&nbsp;&nbsp;http://cdnjs.cloudflare.com/ajax/libs/zeroclipboard/2.2.0/ZeroClipboard.min.js<br>
+&nbsp;&nbsp;includes/js/coredoc.js<br>
+&nbsp;&amp;lt;/xsl:param&amp;gt;<br>
+<br>
+&nbsp;&amp;lt;xsl:param&nbsp;name=&amp;quot;make.clean.html&amp;quot;&nbsp;select=&amp;quot;1&amp;quot;&nbsp;/&amp;gt;<br>
+&nbsp;&amp;lt;xsl:param&nbsp;name=&amp;quot;docbook.css.link&amp;quot;&nbsp;select=&amp;quot;0&amp;quot;&nbsp;/&amp;gt;<br>
+&nbsp;&amp;lt;xsl:param&nbsp;name=&amp;quot;docbook.css.source&amp;quot;&nbsp;select=&amp;quot;0&amp;quot;&nbsp;/&amp;gt;<br>
+&nbsp;&amp;lt;xsl:param&nbsp;name=&amp;quot;custom.css.source&amp;quot;&nbsp;select=&amp;quot;0&amp;quot;&nbsp;/&amp;gt;<br>
+&nbsp;&amp;lt;xsl:param&nbsp;name=&amp;quot;generate.css.header&amp;quot;&nbsp;select=&amp;quot;1&amp;quot;&nbsp;/&amp;gt;<br>
+<br>
+&nbsp;&amp;lt;xsl:param&nbsp;name=&amp;quot;admon.style&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;string('font-style:&nbsp;italic;')&amp;quot;&amp;gt;&amp;lt;/xsl:value-of&amp;gt;<br>
+&nbsp;&amp;lt;/xsl:param&amp;gt;<br>
+&nbsp;&amp;lt;xsl:param&nbsp;name=&amp;quot;default.table.frame&amp;quot;&amp;gt;none&amp;lt;/xsl:param&amp;gt;<br>
+&nbsp;&amp;lt;xsl:param&nbsp;name=&amp;quot;default.table.rules&amp;quot;&amp;gt;none&amp;lt;/xsl:param&amp;gt;<br>
+&nbsp;&amp;lt;xsl:param&nbsp;name=&amp;quot;table.cell.border.thickness&amp;quot;&amp;gt;0pt&amp;lt;/xsl:param&amp;gt;<br>
+<br>
+&nbsp;&amp;lt;xsl:param&nbsp;name=&amp;quot;generate.legalnotice.link&amp;quot;&nbsp;select=&amp;quot;1&amp;quot;&nbsp;/&amp;gt;<br>
+&nbsp;&amp;lt;xsl:param&nbsp;name=&amp;quot;root.filename&amp;quot;&amp;gt;index&amp;lt;/xsl:param&amp;gt;<br>
+&nbsp;&amp;lt;xsl:param&nbsp;name=&amp;quot;use.id.as.filename&amp;quot;&nbsp;select=&amp;quot;1&amp;quot;&nbsp;/&amp;gt;<br>
+&nbsp;&amp;lt;xsl:param&nbsp;name=&amp;quot;make.graphic.viewport&amp;quot;&nbsp;select=&amp;quot;0&amp;quot;&nbsp;/&amp;gt;<br>
+&nbsp;&amp;lt;xsl:param&nbsp;name=&amp;quot;ignore.image.scaling&amp;quot;&nbsp;select=&amp;quot;1&amp;quot;&nbsp;/&amp;gt;<br>
+&nbsp;&amp;lt;xsl:param&nbsp;name=&amp;quot;html.longdesc.link&amp;quot;&nbsp;select=&amp;quot;0&amp;quot;&nbsp;/&amp;gt;<br>
+&nbsp;&amp;lt;xsl:param&nbsp;name=&amp;quot;html.longdesc&amp;quot;&nbsp;select=&amp;quot;0&amp;quot;&nbsp;/&amp;gt;<br>
+<br>
+&nbsp;&amp;lt;xsl:param&nbsp;name=&amp;quot;generate.toc&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;appendix&nbsp;&nbsp;nop<br>
+&nbsp;&nbsp;article/appendix&nbsp;&nbsp;nop<br>
+&nbsp;&nbsp;article&nbsp;&nbsp;&nbsp;nop<br>
+&nbsp;&nbsp;book&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;toc,title<br>
+&nbsp;&nbsp;chapter&nbsp;&nbsp;&nbsp;nop<br>
+&nbsp;&nbsp;part&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nop<br>
+&nbsp;&nbsp;preface&nbsp;&nbsp;&nbsp;nop<br>
+&nbsp;&nbsp;qandadiv&nbsp;&nbsp;nop<br>
+&nbsp;&nbsp;qandaset&nbsp;&nbsp;nop<br>
+&nbsp;&nbsp;reference&nbsp;nop<br>
+&nbsp;&nbsp;sect1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nop<br>
+&nbsp;&nbsp;sect2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nop<br>
+&nbsp;&nbsp;sect3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nop<br>
+&nbsp;&nbsp;sect4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nop<br>
+&nbsp;&nbsp;sect5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nop<br>
+&nbsp;&nbsp;section&nbsp;&nbsp;&nbsp;nop<br>
+&nbsp;&nbsp;set&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nop<br>
+&nbsp;&amp;lt;/xsl:param&amp;gt;<br>
+&nbsp;&amp;lt;xsl:param&nbsp;name=&amp;quot;generate.section.toc.level&amp;quot;&nbsp;select=&amp;quot;1&amp;quot;&nbsp;/&amp;gt;<br>
+&nbsp;&amp;lt;xsl:param&nbsp;name=&amp;quot;toc.section.depth&amp;quot;&nbsp;select=&amp;quot;3&amp;quot;&nbsp;/&amp;gt;<br>
+&nbsp;&amp;lt;xsl:param&nbsp;name=&amp;quot;toc.max.depth&amp;quot;&nbsp;select=&amp;quot;4&amp;quot;&nbsp;/&amp;gt;<br>
+&nbsp;&amp;lt;xsl:param&nbsp;name=&amp;quot;generate.meta.abstract&amp;quot;&nbsp;select=&amp;quot;1&amp;quot;&nbsp;/&amp;gt;<br>
+<br>
+&nbsp;&amp;lt;xsl:param&nbsp;name=&amp;quot;use.extensions&amp;quot;&nbsp;select=&amp;quot;1&amp;quot;&nbsp;/&amp;gt;<br>
+&nbsp;&amp;lt;xsl:param&nbsp;name=&amp;quot;generate.id.attributes&amp;quot;&nbsp;select=&amp;quot;1&amp;quot;&nbsp;/&amp;gt;<br>
+<br>
+<br>
+&nbsp;&amp;lt;xsl:template&nbsp;name=&amp;quot;system.head.content&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;style&nbsp;type=&amp;quot;text/css&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;amp;css;<br>
+&nbsp;&nbsp;&amp;lt;/style&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;meta&nbsp;name=&amp;quot;viewport&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;xsl:attribute&nbsp;name=&amp;quot;content&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:text&amp;gt;width=device-width,&nbsp;initial-scale=1&amp;lt;/xsl:text&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:attribute&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/meta&amp;gt;<br>
+&nbsp;&amp;lt;/xsl:template&amp;gt;<br>
+<br>
+&nbsp;&amp;lt;xsl:template&nbsp;name=&amp;quot;user.footer.content&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;script&nbsp;type=&amp;quot;text/javascript&amp;quot;&nbsp;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;amp;js;<br>
+&nbsp;&nbsp;&amp;lt;/script&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&amp;lt;/xsl:template&amp;gt;<br>
+<br>
+<br>
+&nbsp;&amp;lt;/xsl:stylesheet&amp;gt;<br>
&lt;/ins&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;<br>
&lt;a&nbsp;id=&quot;forgerockdocdefaultbrandingtrunksrcmainresourcesdocbkxstylesheetsbootstrapdivisionxsl&quot;&gt;&lt;/a&gt;<br>
&lt;div&nbsp;class=&quot;addfile&quot;&gt;&lt;h4&gt;Added:&nbsp;forgerock-doc-default-branding/trunk/src/main/resources/docbkx-stylesheets/bootstrap/division.xsl&nbsp;(0&nbsp;=&gt;&nbsp;2843)&lt;/h4&gt;<br>
&lt;pre&nbsp;class=&quot;diff&quot;&gt;&lt;span&gt;<br>
&lt;span&nbsp;class=&quot;info&quot;&gt;---&nbsp;forgerock-doc-default-branding/trunk/src/main/resources/docbkx-stylesheets/bootstrap/division.xsl&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(rev&nbsp;0)<br>
+++&nbsp;forgerock-doc-default-branding/trunk/src/main/resources/docbkx-stylesheets/bootstrap/division.xsl&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp2015-01-19&nbsp;10:21:52&nbsp;UTC&nbsp;(rev&nbsp;2843)<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-0,0&nbsp;+1,54&nbsp;@@<br>
&lt;/span&gt;&lt;ins&gt;+&amp;lt;?xml&nbsp;version='1.0'?&amp;gt;<br>
+&amp;lt;xsl:stylesheet&nbsp;xmlns:xsl=&amp;quot;http://www.w3.org/1999/XSL/Transform&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:ng=&amp;quot;http://docbook.org/docbook-ng&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:db=&amp;quot;http://docbook.org/ns/docbook&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:exsl=&amp;quot;http://exslt.org/common&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:exslt=&amp;quot;http://exslt.org/common&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exclude-result-prefixes=&amp;quot;db&nbsp;ng&nbsp;exsl&nbsp;exslt&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;version='1.0'&amp;gt;<br>
+<br>
+&amp;lt;!--&nbsp;********************************************************************<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$Id:&nbsp;division.xsl&nbsp;9366&nbsp;2012-05-12&nbsp;23:44:25Z&nbsp;bobstayton&nbsp;$<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;********************************************************************<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;file&nbsp;is&nbsp;part&nbsp;of&nbsp;the&nbsp;XSL&nbsp;DocBook&nbsp;Stylesheet&nbsp;distribution.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;See&nbsp;../README&nbsp;or&nbsp;http://docbook.sf.net/release/xsl/current/&nbsp;for<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;copyright&nbsp;and&nbsp;other&nbsp;information.<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;********************************************************************&nbsp;--&amp;gt;<br>
+<br>
+&amp;lt;!--&nbsp;====================================================================&nbsp;--&amp;gt;<br>
+<br>
+<br>
+&amp;lt;xsl:template&nbsp;match=&amp;quot;db:book&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;id.warning&amp;quot;/&amp;gt;<br>
+<br>
+&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;toc.params&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;find.path.params&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;table&amp;quot;&nbsp;select=&amp;quot;normalize-space($generate.toc)&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+<br>
+&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;make.lots&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;toc.params&amp;quot;&nbsp;select=&amp;quot;$toc.params&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;toc&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;division.toc&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;toc.title.p&amp;quot;&nbsp;select=&amp;quot;contains($toc.params,&nbsp;'title')&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:with-param&amp;gt;<br>
+&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+<br>
+&nbsp;&amp;lt;!--&nbsp;Add&nbsp;bootstrap&nbsp;classes&nbsp;to&nbsp;contents&nbsp;to&nbsp;make&nbsp;it&nbsp;a&nbsp;wide,&nbsp;right-aligned&nbsp;column&nbsp;//--&amp;gt;<br>
+&nbsp;&amp;lt;div&nbsp;id=&amp;quot;doc-content&amp;quot;&nbsp;class=&amp;quot;col-sm-9&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;id&amp;quot;&nbsp;select=&amp;quot;doc-content&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;book.titlepage&amp;quot;/&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:apply-templates&nbsp;select=&amp;quot;dedication&amp;quot;&nbsp;mode=&amp;quot;dedication&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:apply-templates&nbsp;select=&amp;quot;acknowledgements&amp;quot;&nbsp;mode=&amp;quot;acknowledgements&amp;quot;/&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;xsl:apply-templates/&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/div&amp;gt;<br>
+&amp;lt;/xsl:template&amp;gt;<br>
+<br>
+&amp;lt;/xsl:stylesheet&amp;gt;<br>
+<br>
&lt;/ins&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;<br>
&lt;a&nbsp;id=&quot;forgerockdocdefaultbrandingtrunksrcmainresourcesdocbkxstylesheetsbootstrapdocbookxsl&quot;&gt;&lt;/a&gt;<br>
&lt;div&nbsp;class=&quot;addfile&quot;&gt;&lt;h4&gt;Added:&nbsp;forgerock-doc-default-branding/trunk/src/main/resources/docbkx-stylesheets/bootstrap/docbook.xsl&nbsp;(0&nbsp;=&gt;&nbsp;2843)&lt;/h4&gt;<br>
&lt;pre&nbsp;class=&quot;diff&quot;&gt;&lt;span&gt;<br>
&lt;span&nbsp;class=&quot;info&quot;&gt;---&nbsp;forgerock-doc-default-branding/trunk/src/main/resources/docbkx-stylesheets/bootstrap/docbook.xsl&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(rev&nbsp;0)<br>
+++&nbsp;forgerock-doc-default-branding/trunk/src/main/resources/docbkx-stylesheets/bootstrap/docbook.xsl&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp2015-01-19&nbsp;10:21:52&nbsp;UTC&nbsp;(rev&nbsp;2843)<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-0,0&nbsp;+1,103&nbsp;@@<br>
&lt;/span&gt;&lt;ins&gt;+&amp;lt;?xml&nbsp;version='1.0'?&amp;gt;<br>
+&nbsp;&amp;lt;xsl:stylesheet&nbsp;xmlns:xsl=&amp;quot;http://www.w3.org/1999/XSL/Transform&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:ng=&amp;quot;http://docbook.org/docbook-ng&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:db=&amp;quot;http://docbook.org/ns/docbook&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:exsl=&amp;quot;http://exslt.org/common&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:exslt=&amp;quot;http://exslt.org/common&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exclude-result-prefixes=&amp;quot;db&nbsp;ng&nbsp;exsl&nbsp;exslt&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;version='1.0'&amp;gt;<br>
+<br>
+<br>
+&amp;lt;!--&nbsp;********************************************************************<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$Id:&nbsp;docbook.xsl&nbsp;9605&nbsp;2012-09-18&nbsp;10:48:54Z&nbsp;tom_schr&nbsp;$<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;********************************************************************<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;file&nbsp;is&nbsp;part&nbsp;of&nbsp;the&nbsp;XSL&nbsp;DocBook&nbsp;Stylesheet&nbsp;distribution.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;See&nbsp;../README&nbsp;or&nbsp;http://docbook.sf.net/release/xsl/current/&nbsp;for<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;copyright&nbsp;and&nbsp;other&nbsp;information.<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;********************************************************************&nbsp;--&amp;gt;<br>
+<br>
+&amp;lt;!--&nbsp;====================================================================&nbsp;--&amp;gt;<br>
+<br>
+&amp;lt;xsl:template&nbsp;match=&amp;quot;*&amp;quot;&nbsp;mode=&amp;quot;process.root&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;doc&amp;quot;&nbsp;select=&amp;quot;self::*&amp;quot;/&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;user.preroot&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;root.messages&amp;quot;/&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&amp;lt;html&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;root.attributes&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;head&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;system.head.content&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;node&amp;quot;&nbsp;select=&amp;quot;$doc&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;head.content&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;node&amp;quot;&nbsp;select=&amp;quot;$doc&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;user.head.content&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;node&amp;quot;&nbsp;select=&amp;quot;$doc&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/head&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;body&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;body.attributes&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;!--&nbsp;Add&nbsp;bootstrap&nbsp;page&nbsp;elements&nbsp;//--&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;!--&nbsp;Add&nbsp;bootstrap&nbsp;header&nbsp;nav&nbsp;bar&nbsp;//--&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;div&nbsp;class=&amp;quot;navbar&nbsp;navbar-inverse&nbsp;navbar-fixed-top&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;nav&nbsp;class=&amp;quot;container-fluid&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;div&nbsp;class=&amp;quot;navbar-header&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;a&nbsp;class=&amp;quot;navbar-brand&amp;quot;&nbsp;href=&amp;quot;#&amp;quot;&amp;gt;ForgeRock&amp;lt;/a&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/div&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/nav&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/div&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;!--&nbsp;Add&nbsp;bootstrap&nbsp;full&nbsp;width&nbsp;banner,&nbsp;for&nbsp;doc&nbsp;title&nbsp;//--&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;div&nbsp;class=&amp;quot;jumbotron&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;div&nbsp;class=&amp;quot;container-fluid&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;h1&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;ancestor-or-self::db:book/db:info/db:title&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;span&amp;gt;&nbsp;&amp;lt;/span&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;small&amp;gt;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;ancestor-or-self::db:book/db:info/db:subtitle&amp;quot;/&amp;gt;&amp;lt;/small&amp;gt;&amp;lt;/h1&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;p&amp;gt;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;ancestor-or-self::db:book/db:info/db:abstract/db:para&amp;quot;/&amp;gt;&amp;lt;/p&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/div&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/div&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;!--&nbsp;Add&nbsp;container&nbsp;for&nbsp;background&nbsp;image&nbsp;//--&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;div&nbsp;class=&amp;quot;left-shape-content&amp;quot;&amp;gt;&amp;lt;/div&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;!--&nbsp;Add&nbsp;fluid&nbsp;container&nbsp;for&nbsp;full&nbsp;width&nbsp;main&nbsp;content&nbsp;section&nbsp;//--&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;div&nbsp;class=&amp;quot;container-fluid&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;div&nbsp;class=&amp;quot;row&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;user.header.content&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;node&amp;quot;&nbsp;select=&amp;quot;$doc&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:apply-templates&nbsp;select=&amp;quot;.&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;user.footer.content&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;node&amp;quot;&nbsp;select=&amp;quot;$doc&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;!--&nbsp;Add&nbsp;container&nbsp;for&nbsp;back-to-top&nbsp;button&nbsp;//--&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;a&nbsp;href=&amp;quot;#&amp;quot;&nbsp;class=&amp;quot;back-to-top&nbsp;hidden-xs&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;button&nbsp;type=&amp;quot;button&amp;quot;&nbsp;class=&amp;quot;btn&nbsp;btn-primary&nbsp;btn-default&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;span&nbsp;class=&amp;quot;glyphicon&nbsp;glyphicon-chevron-up&amp;quot;&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/button&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/a&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/div&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/div&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;!--&nbsp;Add&nbsp;bootstrap&nbsp;footer&nbsp;bar&nbsp;//--&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;div&nbsp;class=&amp;quot;footer&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;div&nbsp;class=&amp;quot;container-fluid&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;div&nbsp;class=&amp;quot;footer-left&amp;quot;&amp;gt;&amp;lt;span&nbsp;class=&amp;quot;footer-item&amp;quot;&amp;gt;Copyright&nbsp;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2011-2015&nbsp;ForgeRock&nbsp;AS&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;div&nbsp;class=&amp;quot;footer-right&amp;quot;&amp;gt;&amp;lt;a&nbsp;target=&amp;quot;_blank&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class=&amp;quot;footer-item&nbsp;snap-left&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;href=&amp;quot;legalnotice.html&amp;quot;&amp;gt;&amp;lt;i<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class=&amp;quot;glyphicon&nbsp;glyphicon-briefcase&amp;quot;&amp;gt;&amp;lt;/i&amp;gt;&nbsp;Legal&nbsp;Notice&amp;lt;/a&amp;gt;&nbsp;&amp;lt;a<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target=&amp;quot;_blank&amp;quot;&nbsp;class=&amp;quot;footer-item&nbsp;snap-left&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;href=&amp;quot;https://bugster.forgerock.org/jira/secure/CreateIssueDetails!init.jspa?pid=10000&amp;amp;amp;components=10007&amp;amp;amp;issuetype=1&amp;quot;&amp;gt;&amp;lt;i&nbsp;class=&amp;quot;glyphicon&nbsp;glyphicon-ok-sign&amp;quot;&amp;gt;&amp;lt;/i&amp;gt;&nbsp;Corrections&amp;lt;/a&amp;gt;&amp;lt;a&nbsp;target=&amp;quot;_blank&amp;quot;&nbsp;class=&amp;quot;footer-item&nbsp;snap-left&amp;quot;&nbsp;href=&amp;quot;#&amp;quot;&nbsp;data-toggle=&amp;quot;modal&amp;quot;&nbsp;data-target=&amp;quot;#myModal&amp;quot;&amp;gt;&amp;lt;i&nbsp;class=&amp;quot;glyphicon&nbsp;glyphicon-info-sign&amp;quot;&amp;gt;&amp;lt;/i&amp;gt;&nbsp;About&amp;lt;/a&amp;gt;&nbsp;&amp;lt;/div&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/div&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/div&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/body&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/html&amp;gt;<br>
+&nbsp;&nbsp;<br>
+&nbsp;&nbsp;&amp;lt;!--&nbsp;Generate&nbsp;any&nbsp;css&nbsp;files&nbsp;only&nbsp;once,&nbsp;not&nbsp;once&nbsp;per&nbsp;chunk&nbsp;--&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;generate.css.files&amp;quot;/&amp;gt;<br>
+&amp;lt;/xsl:template&amp;gt;<br>
+<br>
+&amp;lt;/xsl:stylesheet&amp;gt;<br>
&lt;/ins&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;<br>
&lt;a&nbsp;id=&quot;forgerockdocdefaultbrandingtrunksrcmainresourcesdocbkxstylesheetsbootstrapgraphicsxsl&quot;&gt;&lt;/a&gt;<br>
&lt;div&nbsp;class=&quot;addfile&quot;&gt;&lt;h4&gt;Added:&nbsp;forgerock-doc-default-branding/trunk/src/main/resources/docbkx-stylesheets/bootstrap/graphics.xsl&nbsp;(0&nbsp;=&gt;&nbsp;2843)&lt;/h4&gt;<br>
&lt;pre&nbsp;class=&quot;diff&quot;&gt;&lt;span&gt;<br>
&lt;span&nbsp;class=&quot;info&quot;&gt;---&nbsp;forgerock-doc-default-branding/trunk/src/main/resources/docbkx-stylesheets/bootstrap/graphics.xsl&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(rev&nbsp;0)<br>
+++&nbsp;forgerock-doc-default-branding/trunk/src/main/resources/docbkx-stylesheets/bootstrap/graphics.xsl&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp2015-01-19&nbsp;10:21:52&nbsp;UTC&nbsp;(rev&nbsp;2843)<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-0,0&nbsp;+1,895&nbsp;@@<br>
&lt;/span&gt;&lt;ins&gt;+&amp;lt;?xml&nbsp;version='1.0'?&amp;gt;<br>
+&amp;lt;xsl:stylesheet&nbsp;xmlns:xsl=&amp;quot;http://www.w3.org/1999/XSL/Transform&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:xlink=&amp;quot;http://www.w3.org/1999/xlink&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:ng=&amp;quot;http://docbook.org/docbook-ng&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:db=&amp;quot;http://docbook.org/ns/docbook&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:exsl=&amp;quot;http://exslt.org/common&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:exslt=&amp;quot;http://exslt.org/common&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:stext=&amp;quot;http://nwalsh.com/xslt/ext/com.nwalsh.saxon.TextFactory&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:simg=&amp;quot;http://nwalsh.com/xslt/ext/com.nwalsh.saxon.ImageIntrinsics&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:ximg=&amp;quot;xalan://com.nwalsh.xalan.ImageIntrinsics&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:xtext=&amp;quot;xalan://com.nwalsh.xalan.Text&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:lxslt=&amp;quot;http://xml.apache.org/xslt&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exclude-result-prefixes=&amp;quot;xlink&nbsp;db&nbsp;ng&nbsp;exsl&nbsp;exslt&nbsp;stext&nbsp;xtext&nbsp;lxslt&nbsp;simg&nbsp;ximg&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extension-element-prefixes=&amp;quot;stext&nbsp;xtext&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;version='1.0'&amp;gt;<br>
+<br>
+&amp;lt;!--&nbsp;********************************************************************<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$Id:&nbsp;graphics.xsl&nbsp;9710&nbsp;2013-01-22&nbsp;19:34:18Z&nbsp;bobstayton&nbsp;$<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;********************************************************************<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;file&nbsp;is&nbsp;part&nbsp;of&nbsp;the&nbsp;XSL&nbsp;DocBook&nbsp;Stylesheet&nbsp;distribution.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;See&nbsp;../README&nbsp;or&nbsp;http://docbook.sf.net/release/xsl/current/&nbsp;for<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;copyright&nbsp;and&nbsp;other&nbsp;information.<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Contributors:<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Colin&nbsp;Paul&nbsp;Adams,&nbsp;&amp;lt;colin@colina.demon.co.uk&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;********************************************************************&nbsp;--&amp;gt;<br>
+<br>
+&amp;lt;lxslt:component&nbsp;prefix=&amp;quot;xtext&amp;quot;&nbsp;elements=&amp;quot;insertfile&amp;quot;/&amp;gt;<br>
+&amp;lt;lxslt:component&nbsp;prefix=&amp;quot;ximg&amp;quot;&nbsp;functions=&amp;quot;new&nbsp;getWidth&nbsp;getDepth&amp;quot;/&amp;gt;<br>
+<br>
+&amp;lt;!--&nbsp;====================================================================&nbsp;--&amp;gt;<br>
+<br>
+&amp;lt;xsl:template&nbsp;name=&amp;quot;process.image&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;!--&nbsp;When&nbsp;this&nbsp;template&nbsp;is&nbsp;called,&nbsp;the&nbsp;current&nbsp;node&nbsp;should&nbsp;be&nbsp;&nbsp;--&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;!--&nbsp;a&nbsp;graphic,&nbsp;inlinegraphic,&nbsp;imagedata,&nbsp;or&nbsp;videodata.&nbsp;All&nbsp;&nbsp;&nbsp;&nbsp;--&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;!--&nbsp;those&nbsp;elements&nbsp;have&nbsp;the&nbsp;same&nbsp;set&nbsp;of&nbsp;attributes,&nbsp;so&nbsp;we&nbsp;can&nbsp;--&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;!--&nbsp;handle&nbsp;them&nbsp;all&nbsp;in&nbsp;one&nbsp;place.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;xsl:param&nbsp;name=&amp;quot;tag&amp;quot;&nbsp;select=&amp;quot;'img'&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;xsl:param&nbsp;name=&amp;quot;alt&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;xsl:param&nbsp;name=&amp;quot;longdesc&amp;quot;/&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&amp;lt;!--&nbsp;The&nbsp;HTML&nbsp;img&nbsp;element&nbsp;only&nbsp;supports&nbsp;the&nbsp;notion&nbsp;of&nbsp;content-area<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scaling;&nbsp;it&nbsp;doesn't&nbsp;support&nbsp;the&nbsp;distinction&nbsp;between&nbsp;a<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;content-area&nbsp;and&nbsp;a&nbsp;viewport-area,&nbsp;so&nbsp;we&nbsp;have&nbsp;to&nbsp;make&nbsp;some<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;compromises.<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1.&nbsp;If&nbsp;only&nbsp;the&nbsp;content-area&nbsp;is&nbsp;specified,&nbsp;everything&nbsp;is&nbsp;fine.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(If&nbsp;you&nbsp;ask&nbsp;for&nbsp;a&nbsp;three&nbsp;inch&nbsp;image,&nbsp;that's&nbsp;what&nbsp;you'll&nbsp;get.)<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.&nbsp;If&nbsp;only&nbsp;the&nbsp;viewport-area&nbsp;is&nbsp;provided:<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;If&nbsp;scalefit=1,&nbsp;treat&nbsp;it&nbsp;as&nbsp;both&nbsp;the&nbsp;content-area&nbsp;and<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;viewport-area.&nbsp;(If&nbsp;you&nbsp;ask&nbsp;for&nbsp;an&nbsp;image&nbsp;in&nbsp;a&nbsp;five&nbsp;inch<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;area,&nbsp;we'll&nbsp;make&nbsp;the&nbsp;image&nbsp;five&nbsp;inches&nbsp;to&nbsp;fill&nbsp;that&nbsp;area.)<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;If&nbsp;scalefit=0,&nbsp;ignore&nbsp;the&nbsp;viewport-area&nbsp;specification.<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Note:&nbsp;this&nbsp;is&nbsp;not&nbsp;quite&nbsp;the&nbsp;right&nbsp;semantic&nbsp;and&nbsp;has&nbsp;the&nbsp;additional<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;problem&nbsp;that&nbsp;it&nbsp;can&nbsp;result&nbsp;in&nbsp;anamorphic&nbsp;scaling,&nbsp;which&nbsp;scalefit<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;should&nbsp;never&nbsp;cause.<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3.&nbsp;If&nbsp;both&nbsp;the&nbsp;content-area&nbsp;and&nbsp;the&nbsp;viewport-area&nbsp;is&nbsp;specified<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;on&nbsp;a&nbsp;graphic&nbsp;element,&nbsp;ignore&nbsp;the&nbsp;viewport-area.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(If&nbsp;you&nbsp;ask&nbsp;for&nbsp;a&nbsp;three&nbsp;inch&nbsp;image&nbsp;in&nbsp;a&nbsp;five&nbsp;inch&nbsp;area,&nbsp;we'll&nbsp;assume<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;it's&nbsp;better&nbsp;to&nbsp;give&nbsp;you&nbsp;a&nbsp;three&nbsp;inch&nbsp;image&nbsp;in&nbsp;an&nbsp;unspecified&nbsp;area<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;than&nbsp;a&nbsp;five&nbsp;inch&nbsp;image&nbsp;in&nbsp;a&nbsp;five&nbsp;inch&nbsp;area.<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Relative&nbsp;units&nbsp;also&nbsp;cause&nbsp;problems.&nbsp;As&nbsp;a&nbsp;general&nbsp;rule,&nbsp;the&nbsp;stylesheets<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;are&nbsp;operating&nbsp;too&nbsp;early&nbsp;and&nbsp;too&nbsp;loosely&nbsp;coupled&nbsp;with&nbsp;the&nbsp;rendering&nbsp;engine<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;know&nbsp;things&nbsp;like&nbsp;the&nbsp;current&nbsp;font&nbsp;size&nbsp;or&nbsp;the&nbsp;actual&nbsp;dimensions&nbsp;of<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;an&nbsp;image.&nbsp;Therefore:<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1.&nbsp;We&nbsp;use&nbsp;a&nbsp;fixed&nbsp;size&nbsp;for&nbsp;pixels,&nbsp;$pixels.per.inch<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.&nbsp;We&nbsp;use&nbsp;a&nbsp;fixed&nbsp;size&nbsp;for&nbsp;&amp;quot;em&amp;quot;s,&nbsp;$points.per.em<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Percentages&nbsp;are&nbsp;problematic.&nbsp;In&nbsp;the&nbsp;following&nbsp;discussion,&nbsp;we&nbsp;speak<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;of&nbsp;width&nbsp;and&nbsp;contentwidth,&nbsp;but&nbsp;the&nbsp;same&nbsp;issues&nbsp;apply&nbsp;to&nbsp;depth&nbsp;and<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;contentdepth<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1.&nbsp;A&nbsp;width&nbsp;of&nbsp;50%&nbsp;means&nbsp;&amp;quot;half&nbsp;of&nbsp;the&nbsp;available&nbsp;space&nbsp;for&nbsp;the&nbsp;image.&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;That's&nbsp;fine.&nbsp;But&nbsp;note&nbsp;that&nbsp;in&nbsp;HTML,&nbsp;this&nbsp;is&nbsp;a&nbsp;dynamic&nbsp;property&nbsp;and<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;image&nbsp;size&nbsp;will&nbsp;vary&nbsp;if&nbsp;the&nbsp;browser&nbsp;window&nbsp;is&nbsp;resized.<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.&nbsp;A&nbsp;contentwidth&nbsp;of&nbsp;50%&nbsp;means&nbsp;&amp;quot;half&nbsp;of&nbsp;the&nbsp;actual&nbsp;image&nbsp;width&amp;quot;.&nbsp;But<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;stylesheets&nbsp;have&nbsp;no&nbsp;way&nbsp;to&nbsp;assess&nbsp;the&nbsp;image's&nbsp;actual&nbsp;size.&nbsp;Treating<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this&nbsp;as&nbsp;a&nbsp;width&nbsp;of&nbsp;50%&nbsp;is&nbsp;one&nbsp;possibility,&nbsp;but&nbsp;it&nbsp;produces&nbsp;behavior<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(dynamic&nbsp;scaling)&nbsp;that&nbsp;seems&nbsp;entirely&nbsp;out&nbsp;of&nbsp;character&nbsp;with&nbsp;the<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;meaning.<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Instead,&nbsp;the&nbsp;stylesheets&nbsp;define&nbsp;a&nbsp;$nominal.image.width<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;convert&nbsp;percentages&nbsp;to&nbsp;actual&nbsp;values&nbsp;based&nbsp;on&nbsp;that&nbsp;nominal&nbsp;size.<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Scale&nbsp;can&nbsp;be&nbsp;problematic.&nbsp;Scale&nbsp;applies&nbsp;to&nbsp;the&nbsp;contentwidth,&nbsp;so<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;scale&nbsp;of&nbsp;50&nbsp;when&nbsp;a&nbsp;contentwidth&nbsp;is&nbsp;not&nbsp;specified&nbsp;is&nbsp;analagous&nbsp;to&nbsp;a<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;width&nbsp;of&nbsp;50%.&nbsp;(If&nbsp;a&nbsp;contentwidth&nbsp;is&nbsp;specified,&nbsp;the&nbsp;scaling&nbsp;factor&nbsp;can<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;be&nbsp;applied&nbsp;to&nbsp;that&nbsp;value&nbsp;and&nbsp;no&nbsp;problem&nbsp;exists.)<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;scale&nbsp;is&nbsp;specified&nbsp;but&nbsp;contentwidth&nbsp;is&nbsp;not&nbsp;supplied,&nbsp;the<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nominal.image.width&nbsp;is&nbsp;used&nbsp;to&nbsp;calculate&nbsp;a&nbsp;base&nbsp;size<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;scaling.<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Warning:&nbsp;as&nbsp;a&nbsp;consequence&nbsp;of&nbsp;these&nbsp;decisions,&nbsp;unless&nbsp;the&nbsp;aspect&nbsp;ratio<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;of&nbsp;your&nbsp;image&nbsp;happens&nbsp;to&nbsp;be&nbsp;exactly&nbsp;the&nbsp;same&nbsp;as&nbsp;(nominal&nbsp;width&nbsp;/&nbsp;nominal&nbsp;height),<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;specifying&nbsp;contentwidth=&amp;quot;50%&amp;quot;&nbsp;and&nbsp;contentdepth=&amp;quot;50%&amp;quot;&nbsp;is&nbsp;NOT&nbsp;going&nbsp;to<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scale&nbsp;the&nbsp;way&nbsp;you&nbsp;expect&nbsp;(or&nbsp;really,&nbsp;the&nbsp;way&nbsp;it&nbsp;should).<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Don't&nbsp;do&nbsp;that.&nbsp;In&nbsp;fact,&nbsp;a&nbsp;percentage&nbsp;value&nbsp;is&nbsp;not&nbsp;recommended&nbsp;for&nbsp;content<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;size&nbsp;at&nbsp;all.&nbsp;Use&nbsp;scale&nbsp;instead.<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Finally,&nbsp;align&nbsp;and&nbsp;valign&nbsp;are&nbsp;troublesome.&nbsp;Horizontal&nbsp;alignment&nbsp;is&nbsp;now<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;supported&nbsp;by&nbsp;wrapping&nbsp;the&nbsp;image&nbsp;in&nbsp;a&nbsp;&amp;lt;div&nbsp;align=&amp;quot;{@align}&amp;quot;&amp;gt;&nbsp;(in&nbsp;block<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;contexts!).&nbsp;I&nbsp;can't&nbsp;think&nbsp;of&nbsp;anything&nbsp;(practical)&nbsp;to&nbsp;do&nbsp;about&nbsp;vertical<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alignment.<br>
+&nbsp;&nbsp;--&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;width-units&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$ignore.image.scaling&nbsp;!=&nbsp;0&amp;quot;&amp;gt;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;@width&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;length-units&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;length&amp;quot;&nbsp;select=&amp;quot;@width&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;not(@depth)&nbsp;and&nbsp;$default.image.width&nbsp;!=&nbsp;''&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;length-units&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;length&amp;quot;&nbsp;select=&amp;quot;$default.image.width&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;width&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$ignore.image.scaling&nbsp;!=&nbsp;0&amp;quot;&amp;gt;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;@width&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$width-units&nbsp;=&nbsp;'%'&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;@width&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;length-spec&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;length&amp;quot;&nbsp;select=&amp;quot;@width&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;not(@depth)&nbsp;and&nbsp;$default.image.width&nbsp;!=&nbsp;''&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$default.image.width&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;scalefit&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$ignore.image.scaling&nbsp;!=&nbsp;0&amp;quot;&amp;gt;0&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;@contentwidth&nbsp;or&nbsp;@contentdepth&amp;quot;&amp;gt;0&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;@scale&amp;quot;&amp;gt;0&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;@scalefit&amp;quot;&amp;gt;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;@scalefit&amp;quot;/&amp;gt;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$width&nbsp;!=&nbsp;''&nbsp;or&nbsp;@depth&amp;quot;&amp;gt;1&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;0&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;scale&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$ignore.image.scaling&nbsp;!=&nbsp;0&amp;quot;&amp;gt;1.0&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;@contentwidth&nbsp;or&nbsp;@contentdepth&amp;quot;&amp;gt;1.0&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;@scale&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;@scale&nbsp;div&nbsp;100.0&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;1.0&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;filename&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;local-name(.)&nbsp;=&nbsp;'graphic'<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;or&nbsp;local-name(.)&nbsp;=&nbsp;'inlinegraphic'&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;!--&nbsp;handle&nbsp;legacy&nbsp;graphic&nbsp;and&nbsp;inlinegraphic&nbsp;by&nbsp;new&nbsp;template&nbsp;--&amp;gt;&nbsp;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;mediaobject.filename&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;object&amp;quot;&nbsp;select=&amp;quot;.&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;!--&nbsp;imagedata,&nbsp;videodata,&nbsp;audiodata&nbsp;--&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;mediaobject.filename&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;object&amp;quot;&nbsp;select=&amp;quot;..&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;output_filename&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;@entityref&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$filename&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;!--<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Moved&nbsp;test&nbsp;for&nbsp;$keep.relative.image.uris&nbsp;to&nbsp;template&nbsp;below:<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:template&nbsp;match=&amp;quot;@fileref&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$filename&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;img.src.path.pi&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;pi.dbhtml_img.src.path&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;node&amp;quot;&nbsp;select=&amp;quot;..&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;filename.for.graphicsize&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$img.src.path.pi&nbsp;!=&nbsp;''&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;concat($img.src.path.pi,&nbsp;$filename)&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$img.src.path&nbsp;!=&nbsp;''&nbsp;and<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$graphicsize.use.img.src.path&nbsp;!=&nbsp;0&nbsp;and<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$tag&nbsp;=&nbsp;'img'&nbsp;and<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;not(starts-with($filename,&nbsp;'/'))&nbsp;and<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;not(contains($filename,&nbsp;'://'))&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;concat($img.src.path,&nbsp;$filename)&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$filename&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;realintrinsicwidth&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;!--&nbsp;This&nbsp;funny&nbsp;compound&nbsp;test&nbsp;works&nbsp;around&nbsp;a&nbsp;bug&nbsp;in&nbsp;XSLTC&nbsp;--&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$use.extensions&nbsp;!=&nbsp;0&nbsp;and&nbsp;$graphicsize.extension&nbsp;!=&nbsp;0<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;not(@format='SVG')&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;function-available('simg:getWidth')&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;simg:getWidth(simg:new($filename.for.graphicsize),<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$nominal.image.width)&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;function-available('ximg:getWidth')&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;ximg:getWidth(ximg:new($filename.for.graphicsize),<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$nominal.image.width)&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;0&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;0&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;intrinsicwidth&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$realintrinsicwidth&nbsp;=&nbsp;0&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$nominal.image.width&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$realintrinsicwidth&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;intrinsicdepth&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;!--&nbsp;This&nbsp;funny&nbsp;compound&nbsp;test&nbsp;works&nbsp;around&nbsp;a&nbsp;bug&nbsp;in&nbsp;XSLTC&nbsp;--&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$use.extensions&nbsp;!=&nbsp;0&nbsp;and&nbsp;$graphicsize.extension&nbsp;!=&nbsp;0<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;not(@format='SVG')&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;function-available('simg:getDepth')&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;simg:getDepth(simg:new($filename.for.graphicsize),<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$nominal.image.depth)&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;function-available('ximg:getDepth')&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;ximg:getDepth(ximg:new($filename.for.graphicsize),<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$nominal.image.depth)&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$nominal.image.depth&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$nominal.image.depth&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;contentwidth&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$ignore.image.scaling&nbsp;!=&nbsp;0&amp;quot;&amp;gt;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;@contentwidth&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;units&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;length-units&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;length&amp;quot;&nbsp;select=&amp;quot;@contentwidth&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$units&nbsp;=&nbsp;'%'&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;cmagnitude&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;length-magnitude&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;length&amp;quot;&nbsp;select=&amp;quot;@contentwidth&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$intrinsicwidth&nbsp;*&nbsp;$cmagnitude&nbsp;div&nbsp;100.0&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:text&amp;gt;px&amp;lt;/xsl:text&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;length-spec&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;length&amp;quot;&nbsp;select=&amp;quot;@contentwidth&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$intrinsicwidth&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:text&amp;gt;px&amp;lt;/xsl:text&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;scaled.contentwidth&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:if&nbsp;test=&amp;quot;$contentwidth&nbsp;!=&nbsp;''&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;cwidth.in.points&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;length-in-points&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;length&amp;quot;&nbsp;select=&amp;quot;$contentwidth&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;pixels.per.inch&amp;quot;&nbsp;select=&amp;quot;$pixels.per.inch&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;em.size&amp;quot;&nbsp;select=&amp;quot;$points.per.em&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;round($cwidth.in.points&nbsp;div&nbsp;72.0&nbsp;*&nbsp;$pixels.per.inch&nbsp;*&nbsp;$scale)&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:if&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;html.width&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$ignore.image.scaling&nbsp;!=&nbsp;0&amp;quot;&amp;gt;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$width-units&nbsp;=&nbsp;'%'&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$width&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$width&nbsp;!=&nbsp;''&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;width.in.points&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;length-in-points&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;length&amp;quot;&nbsp;select=&amp;quot;$width&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;pixels.per.inch&amp;quot;&nbsp;select=&amp;quot;$pixels.per.inch&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;em.size&amp;quot;&nbsp;select=&amp;quot;$points.per.em&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;round($width.in.points&nbsp;div&nbsp;72.0&nbsp;*&nbsp;$pixels.per.inch)&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;contentdepth&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$ignore.image.scaling&nbsp;!=&nbsp;0&amp;quot;&amp;gt;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;@contentdepth&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;units&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;length-units&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;length&amp;quot;&nbsp;select=&amp;quot;@contentdepth&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$units&nbsp;=&nbsp;'%'&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;cmagnitude&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;length-magnitude&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;length&amp;quot;&nbsp;select=&amp;quot;@contentdepth&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$intrinsicdepth&nbsp;*&nbsp;$cmagnitude&nbsp;div&nbsp;100.0&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:text&amp;gt;px&amp;lt;/xsl:text&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;length-spec&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;length&amp;quot;&nbsp;select=&amp;quot;@contentdepth&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$intrinsicdepth&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:text&amp;gt;px&amp;lt;/xsl:text&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;scaled.contentdepth&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:if&nbsp;test=&amp;quot;$contentdepth&nbsp;!=&nbsp;''&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;cdepth.in.points&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;length-in-points&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;length&amp;quot;&nbsp;select=&amp;quot;$contentdepth&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;pixels.per.inch&amp;quot;&nbsp;select=&amp;quot;$pixels.per.inch&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;em.size&amp;quot;&nbsp;select=&amp;quot;$points.per.em&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;round($cdepth.in.points&nbsp;div&nbsp;72.0&nbsp;*&nbsp;$pixels.per.inch&nbsp;*&nbsp;$scale)&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:if&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;depth-units&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:if&nbsp;test=&amp;quot;@depth&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;length-units&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;length&amp;quot;&nbsp;select=&amp;quot;@depth&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:if&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;depth&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:if&nbsp;test=&amp;quot;@depth&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$depth-units&nbsp;=&nbsp;'%'&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;@depth&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;length-spec&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;length&amp;quot;&nbsp;select=&amp;quot;@depth&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:if&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;html.depth&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$ignore.image.scaling&nbsp;!=&nbsp;0&amp;quot;&amp;gt;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$depth-units&nbsp;=&nbsp;'%'&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$depth&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;@depth&nbsp;and&nbsp;@depth&nbsp;!=&nbsp;''&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;depth.in.points&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;length-in-points&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;length&amp;quot;&nbsp;select=&amp;quot;$depth&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;pixels.per.inch&amp;quot;&nbsp;select=&amp;quot;$pixels.per.inch&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;em.size&amp;quot;&nbsp;select=&amp;quot;$points.per.em&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;round($depth.in.points&nbsp;div&nbsp;72.0&nbsp;*&nbsp;$pixels.per.inch)&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;viewport&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$ignore.image.scaling&nbsp;!=&nbsp;0&amp;quot;&amp;gt;0&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;local-name(.)&nbsp;=&nbsp;'inlinegraphic'<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;or&nbsp;ancestor::inlinemediaobject<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;or&nbsp;ancestor::inlineequation&amp;quot;&amp;gt;0&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$make.graphic.viewport&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+<br>
+&amp;lt;!--<br>
+&nbsp;&nbsp;&amp;lt;xsl:message&amp;gt;=====================================<br>
+scale:&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$scale&amp;quot;/&amp;gt;,&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$scalefit&amp;quot;/&amp;gt;<br>
+@contentwidth&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;@contentwidth&amp;quot;/&amp;gt;<br>
+$contentwidth&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$contentwidth&amp;quot;/&amp;gt;<br>
+scaled.contentwidth:&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$scaled.contentwidth&amp;quot;/&amp;gt;<br>
+@width:&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;@width&amp;quot;/&amp;gt;<br>
+width:&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$width&amp;quot;/&amp;gt;<br>
+html.width:&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$html.width&amp;quot;/&amp;gt;<br>
+@contentdepth&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;@contentdepth&amp;quot;/&amp;gt;<br>
+$contentdepth&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$contentdepth&amp;quot;/&amp;gt;<br>
+scaled.contentdepth:&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$scaled.contentdepth&amp;quot;/&amp;gt;<br>
+@depth:&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;@depth&amp;quot;/&amp;gt;<br>
+depth:&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$depth&amp;quot;/&amp;gt;<br>
+html.depth:&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$html.depth&amp;quot;/&amp;gt;<br>
+align:&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;@align&amp;quot;/&amp;gt;<br>
+valign:&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;@valign&amp;quot;/&amp;gt;&amp;lt;/xsl:message&amp;gt;<br>
+--&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;scaled&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;select=&amp;quot;@width|@depth|@contentwidth|@contentdepth<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|@scale|@scalefit&amp;quot;/&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;img&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;@format&nbsp;=&nbsp;'SVG'&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;object&nbsp;type=&amp;quot;image/svg+xml&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:attribute&nbsp;name=&amp;quot;data&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$img.src.path&nbsp;!=&nbsp;''&nbsp;and<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$tag&nbsp;=&nbsp;'img'&nbsp;and<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;not(starts-with($output_filename,&nbsp;'/'))&nbsp;and<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;not(contains($output_filename,&nbsp;'://'))&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$img.src.path&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$output_filename&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:attribute&amp;gt;<br>
+&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;process.image.attributes&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;!--xsl:with-param&nbsp;name=&amp;quot;alt&amp;quot;&nbsp;select=&amp;quot;$alt&amp;quot;/&nbsp;there's&nbsp;no&nbsp;alt&nbsp;here--&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;html.depth&amp;quot;&nbsp;select=&amp;quot;$html.depth&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;html.width&amp;quot;&nbsp;select=&amp;quot;$html.width&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;longdesc&amp;quot;&nbsp;select=&amp;quot;$longdesc&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;scale&amp;quot;&nbsp;select=&amp;quot;$scale&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;scalefit&amp;quot;&nbsp;select=&amp;quot;$scalefit&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;scaled.contentdepth&amp;quot;&nbsp;select=&amp;quot;$scaled.contentdepth&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;scaled.contentwidth&amp;quot;&nbsp;select=&amp;quot;$scaled.contentwidth&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;viewport&amp;quot;&nbsp;select=&amp;quot;$viewport&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:if&nbsp;test=&amp;quot;@align&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:attribute&nbsp;name=&amp;quot;align&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;@align&nbsp;=&nbsp;'center'&amp;quot;&amp;gt;middle&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;@align&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:attribute&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:if&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:if&nbsp;test=&amp;quot;$use.embed.for.svg&nbsp;!=&nbsp;0&amp;quot;&amp;gt;<br>
+&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;embed&nbsp;type=&amp;quot;image/svg+xml&amp;quot;&amp;gt;<br>
+&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:attribute&nbsp;name=&amp;quot;src&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$img.src.path&nbsp;!=&nbsp;''&nbsp;and<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$tag&nbsp;=&nbsp;'img'&nbsp;and<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;not(starts-with($output_filename,&nbsp;'/'))&nbsp;and<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;not(contains($output_filename,&nbsp;'://'))&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$img.src.path&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$output_filename&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:attribute&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;process.image.attributes&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;!--xsl:with-param&nbsp;name=&amp;quot;alt&amp;quot;&nbsp;select=&amp;quot;$alt&amp;quot;/&nbsp;there's&nbsp;no&nbsp;alt&nbsp;here&nbsp;--&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;html.depth&amp;quot;&nbsp;select=&amp;quot;$html.depth&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;html.width&amp;quot;&nbsp;select=&amp;quot;$html.width&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;longdesc&amp;quot;&nbsp;select=&amp;quot;$longdesc&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;scale&amp;quot;&nbsp;select=&amp;quot;$scale&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;scalefit&amp;quot;&nbsp;select=&amp;quot;$scalefit&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;scaled.contentdepth&amp;quot;&nbsp;select=&amp;quot;$scaled.contentdepth&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;scaled.contentwidth&amp;quot;&nbsp;select=&amp;quot;$scaled.contentwidth&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;viewport&amp;quot;&nbsp;select=&amp;quot;$viewport&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/embed&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:if&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/object&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:element&nbsp;name=&amp;quot;{$tag}&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:attribute&nbsp;name=&amp;quot;class&amp;quot;&amp;gt;img-responsive&nbsp;center-block&amp;lt;/xsl:attribute&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:attribute&nbsp;name=&amp;quot;data-toggle&amp;quot;&amp;gt;tooltip&amp;lt;/xsl:attribute&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:if&nbsp;test=&amp;quot;$tag&nbsp;=&nbsp;'img'&nbsp;and&nbsp;../../self::imageobjectco&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;mapname&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;object.id&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;object&amp;quot;&nbsp;select=&amp;quot;../../areaspec&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$scaled&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;!--&nbsp;It&nbsp;might&nbsp;be&nbsp;possible&nbsp;to&nbsp;handle&nbsp;some&nbsp;scaling;&nbsp;needs&nbsp;--&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;!--&nbsp;more&nbsp;investigation&nbsp;--&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:message&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:text&amp;gt;Warning:&nbsp;imagemaps&nbsp;not&nbsp;supported&nbsp;&amp;lt;/xsl:text&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:text&amp;gt;on&nbsp;scaled&nbsp;images&amp;lt;/xsl:text&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:message&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:attribute&nbsp;name=&amp;quot;border&amp;quot;&amp;gt;0&amp;lt;/xsl:attribute&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:attribute&nbsp;name=&amp;quot;usemap&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;concat('#',&nbsp;$mapname)&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:attribute&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:if&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:attribute&nbsp;name=&amp;quot;src&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$img.src.path&nbsp;!=&nbsp;''&nbsp;and<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$tag&nbsp;=&nbsp;'img'&nbsp;and<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;not(starts-with($output_filename,&nbsp;'/'))&nbsp;and<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;not(contains($output_filename,&nbsp;'://'))&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$img.src.path&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$output_filename&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:attribute&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:if&nbsp;test=&amp;quot;@align&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:attribute&nbsp;name=&amp;quot;align&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;@align&nbsp;=&nbsp;'center'&amp;quot;&amp;gt;middle&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;@align&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:attribute&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:if&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;process.image.attributes&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;alt&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$alt&nbsp;!=&nbsp;''&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:copy-of&nbsp;select=&amp;quot;$alt&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;ancestor::db:figure&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;fig.title&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:apply-templates&nbsp;select=&amp;quot;ancestor::db:figure/db:title/node()&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;normalize-space($fig.title)&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:with-param&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;html.depth&amp;quot;&nbsp;select=&amp;quot;$html.depth&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;html.width&amp;quot;&nbsp;select=&amp;quot;$html.width&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;longdesc&amp;quot;&nbsp;select=&amp;quot;$longdesc&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;scale&amp;quot;&nbsp;select=&amp;quot;$scale&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;scalefit&amp;quot;&nbsp;select=&amp;quot;$scalefit&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;scaled.contentdepth&amp;quot;&nbsp;select=&amp;quot;$scaled.contentdepth&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;scaled.contentwidth&amp;quot;&nbsp;select=&amp;quot;$scaled.contentwidth&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;viewport&amp;quot;&nbsp;select=&amp;quot;$viewport&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:element&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;bgcolor&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;pi.dbhtml_background-color&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;node&amp;quot;&nbsp;select=&amp;quot;..&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;use.viewport&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;select=&amp;quot;$viewport&nbsp;!=&nbsp;0<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;($html.width&nbsp;!=&nbsp;''<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;or&nbsp;($html.depth&nbsp;!=&nbsp;''&nbsp;and&nbsp;$depth-units&nbsp;!=&nbsp;'%')<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;or&nbsp;$bgcolor&nbsp;!=&nbsp;''<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;or&nbsp;@valign)&amp;quot;/&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$use.viewport&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;table&nbsp;border=&amp;quot;{$table.border.off}&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:if&nbsp;test=&amp;quot;$div.element&nbsp;!=&nbsp;'section'&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:attribute&nbsp;name=&amp;quot;summary&amp;quot;&amp;gt;manufactured&nbsp;viewport&nbsp;for&nbsp;HTML&nbsp;img&amp;lt;/xsl:attribute&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:if&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:if&nbsp;test=&amp;quot;$css.decoration&nbsp;!=&nbsp;''&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:attribute&nbsp;name=&amp;quot;style&amp;quot;&amp;gt;cellpadding:&nbsp;0;&nbsp;cellspacing:&nbsp;0;&amp;lt;/xsl:attribute&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:if&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:if&nbsp;test=&amp;quot;$html.width&nbsp;!=&nbsp;''&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:attribute&nbsp;name=&amp;quot;width&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$html.width&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:attribute&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:if&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;tr&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:if&nbsp;test=&amp;quot;$html.depth&nbsp;!=&nbsp;''&nbsp;and&nbsp;$depth-units&nbsp;!=&nbsp;'%'&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;!--&nbsp;don't&nbsp;do&nbsp;this&nbsp;for&nbsp;percentages&nbsp;because&nbsp;browsers&nbsp;get&nbsp;confused&nbsp;--&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$css.decoration&nbsp;!=&nbsp;0&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:attribute&nbsp;name=&amp;quot;style&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:text&amp;gt;height:&nbsp;&amp;lt;/xsl:text&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$html.depth&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:text&amp;gt;px&amp;lt;/xsl:text&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:attribute&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:attribute&nbsp;name=&amp;quot;height&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$html.depth&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:attribute&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:if&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;td&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:if&nbsp;test=&amp;quot;$bgcolor&nbsp;!=&nbsp;''&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$css.decoration&nbsp;!=&nbsp;0&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:attribute&nbsp;name=&amp;quot;style&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:text&amp;gt;background-color:&nbsp;&amp;lt;/xsl:text&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$bgcolor&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:attribute&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:attribute&nbsp;name=&amp;quot;bgcolor&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$bgcolor&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:attribute&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:if&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:if&nbsp;test=&amp;quot;@align&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:attribute&nbsp;name=&amp;quot;align&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;@align&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:attribute&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:if&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:if&nbsp;test=&amp;quot;@valign&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:attribute&nbsp;name=&amp;quot;valign&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;@valign&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:attribute&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:if&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:copy-of&nbsp;select=&amp;quot;$img&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/td&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/tr&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/table&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:copy-of&nbsp;select=&amp;quot;$img&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&amp;lt;xsl:if&nbsp;test=&amp;quot;$tag&nbsp;=&nbsp;'img'&nbsp;and&nbsp;../../self::imageobjectco&nbsp;and&nbsp;not($scaled)&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;mapname&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;object.id&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;object&amp;quot;&nbsp;select=&amp;quot;../../areaspec&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;map&nbsp;name=&amp;quot;{$mapname}&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:for-each&nbsp;select=&amp;quot;../../areaspec//area&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;units&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;@units&nbsp;=&nbsp;'other'&nbsp;and&nbsp;@otherunits&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;@otherunits&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;@units&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;@units&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;!--&nbsp;areaspec|areaset/area&nbsp;--&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;../@units&nbsp;=&nbsp;'other'&nbsp;and&nbsp;../@otherunits&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;../@otherunits&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;../@units&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;../@units&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;!--&nbsp;areaspec/areaset/area&nbsp;--&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;../../@units&nbsp;=&nbsp;'other'&nbsp;and&nbsp;../../@otherunits&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;../@otherunits&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;../../@units&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;../../@units&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;calspair&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+&nbsp;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$units&nbsp;=&nbsp;'calspair'&nbsp;or<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$units&nbsp;=&nbsp;'imagemap'&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;coords&amp;quot;&nbsp;select=&amp;quot;normalize-space(@coords)&amp;quot;/&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;area&nbsp;shape=&amp;quot;rect&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;linkends&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;@linkends&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;normalize-space(@linkends)&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;normalize-space(../@linkends)&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+&nbsp;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;href&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;@xlink:href&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;@xlink:href&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;../@xlink:href&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+&nbsp;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$linkends&nbsp;!=&nbsp;''&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;linkend&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;contains($linkends,&nbsp;'&nbsp;')&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;substring-before($linkends,&nbsp;'&nbsp;')&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$linkends&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;target&amp;quot;&nbsp;select=&amp;quot;key('id',&nbsp;$linkend)[1]&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:if&nbsp;test=&amp;quot;$target&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:attribute&nbsp;name=&amp;quot;href&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;href.target&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;object&amp;quot;&nbsp;select=&amp;quot;$target&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:attribute&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:if&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$href&nbsp;!=&nbsp;''&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:attribute&nbsp;name=&amp;quot;href&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$href&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:attribute&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:if&nbsp;test=&amp;quot;db:alt&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:attribute&nbsp;name=&amp;quot;alt&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;db:alt[1]&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:attribute&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:if&amp;gt;<br>
+&nbsp;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:attribute&nbsp;name=&amp;quot;coords&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$units&nbsp;=&nbsp;'calspair'&amp;quot;&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;p1&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;select=&amp;quot;substring-before($coords,&nbsp;'&nbsp;')&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;p2&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;select=&amp;quot;substring-after($coords,&nbsp;'&nbsp;')&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;x1&amp;quot;&nbsp;select=&amp;quot;substring-before($p1,',')&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;y1&amp;quot;&nbsp;select=&amp;quot;substring-after($p1,',')&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;x2&amp;quot;&nbsp;select=&amp;quot;substring-before($p2,',')&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;y2&amp;quot;&nbsp;select=&amp;quot;substring-after($p2,',')&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;x1p&amp;quot;&nbsp;select=&amp;quot;$x1&nbsp;div&nbsp;100.0&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;y1p&amp;quot;&nbsp;select=&amp;quot;$y1&nbsp;div&nbsp;100.0&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;x2p&amp;quot;&nbsp;select=&amp;quot;$x2&nbsp;div&nbsp;100.0&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;y2p&amp;quot;&nbsp;select=&amp;quot;$y2&nbsp;div&nbsp;100.0&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;!--<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:message&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:text&amp;gt;units:&nbsp;&amp;lt;/xsl:text&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$units&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:text&amp;gt;&nbsp;&amp;lt;/xsl:text&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$x1p&amp;quot;/&amp;gt;&amp;lt;xsl:text&amp;gt;,&nbsp;&amp;lt;/xsl:text&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$y1p&amp;quot;/&amp;gt;&amp;lt;xsl:text&amp;gt;,&nbsp;&amp;lt;/xsl:text&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$x2p&amp;quot;/&amp;gt;&amp;lt;xsl:text&amp;gt;,&nbsp;&amp;lt;/xsl:text&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$y2p&amp;quot;/&amp;gt;&amp;lt;xsl:text&amp;gt;,&nbsp;&amp;lt;/xsl:text&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:message&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:message&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:text&amp;gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:text&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$intrinsicwidth&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:text&amp;gt;,&nbsp;&amp;lt;/xsl:text&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$intrinsicdepth&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:message&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:message&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:text&amp;gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:text&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$units&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:text&amp;gt;&nbsp;&amp;lt;/xsl:text&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;select=&amp;quot;round($x1p&nbsp;*&nbsp;$intrinsicwidth&nbsp;div&nbsp;100.0)&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:text&amp;gt;,&amp;lt;/xsl:text&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;round($intrinsicdepth<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;($y2p&nbsp;*&nbsp;$intrinsicdepth&nbsp;div&nbsp;100.0))&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:text&amp;gt;,&amp;lt;/xsl:text&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;round($x2p&nbsp;*&nbsp;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$intrinsicwidth&nbsp;div&nbsp;100.0)&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:text&amp;gt;,&amp;lt;/xsl:text&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;round($intrinsicdepth<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;($y1p&nbsp;*&nbsp;$intrinsicdepth&nbsp;div&nbsp;100.0))&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:message&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;select=&amp;quot;round($x1p&nbsp;*&nbsp;$intrinsicwidth&nbsp;div&nbsp;100.0)&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:text&amp;gt;,&amp;lt;/xsl:text&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;round($intrinsicdepth<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;($y2p&nbsp;*&nbsp;$intrinsicdepth&nbsp;div&nbsp;100.0))&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:text&amp;gt;,&amp;lt;/xsl:text&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;select=&amp;quot;round($x2p&nbsp;*&nbsp;$intrinsicwidth&nbsp;div&nbsp;100.0)&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:text&amp;gt;,&amp;lt;/xsl:text&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;round($intrinsicdepth<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;($y1p&nbsp;*&nbsp;$intrinsicdepth&nbsp;div&nbsp;100.0))&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:copy-of&nbsp;select=&amp;quot;$coords&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:attribute&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/area&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:message&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:text&amp;gt;Warning:&nbsp;only&nbsp;calspair&nbsp;or&nbsp;&amp;lt;/xsl:text&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:text&amp;gt;otherunits='imagemap'&nbsp;supported&nbsp;&amp;lt;/xsl:text&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:text&amp;gt;in&nbsp;imageobjectco&amp;lt;/xsl:text&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:message&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:for-each&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/map&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:if&amp;gt;<br>
+&amp;lt;/xsl:template&amp;gt;<br>
+<br>
+&amp;lt;/xsl:stylesheet&amp;gt;<br>
&lt;/ins&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;<br>
&lt;a&nbsp;id=&quot;forgerockdocdefaultbrandingtrunksrcmainresourcesdocbkxstylesheetsbootstrapscriptsjs&quot;&gt;&lt;/a&gt;<br>
&lt;div&nbsp;class=&quot;addfile&quot;&gt;&lt;h4&gt;Added:&nbsp;forgerock-doc-default-branding/trunk/src/main/resources/docbkx-stylesheets/bootstrap/scripts.js&nbsp;(0&nbsp;=&gt;&nbsp;2843)&lt;/h4&gt;<br>
&lt;pre&nbsp;class=&quot;diff&quot;&gt;&lt;span&gt;<br>
&lt;span&nbsp;class=&quot;info&quot;&gt;---&nbsp;forgerock-doc-default-branding/trunk/src/main/resources/docbkx-stylesheets/bootstrap/scripts.js&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(rev&nbsp;0)<br>
+++&nbsp;forgerock-doc-default-branding/trunk/src/main/resources/docbkx-stylesheets/bootstrap/scripts.js&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp2015-01-19&nbsp;10:21:52&nbsp;UTC&nbsp;(rev&nbsp;2843)<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-0,0&nbsp;+1,161&nbsp;@@<br>
&lt;/span&gt;&lt;ins&gt;+/*<br>
+&nbsp;*&nbsp;The&nbsp;contents&nbsp;of&nbsp;this&nbsp;file&nbsp;are&nbsp;subject&nbsp;to&nbsp;the&nbsp;terms&nbsp;of&nbsp;the&nbsp;Common&nbsp;Development&nbsp;and<br>
+&nbsp;*&nbsp;Distribution&nbsp;License&nbsp;(the&nbsp;License).&nbsp;You&nbsp;may&nbsp;not&nbsp;use&nbsp;this&nbsp;file&nbsp;except&nbsp;in&nbsp;compliance&nbsp;with&nbsp;the<br>
+&nbsp;*&nbsp;License.<br>
+&nbsp;*<br>
+&nbsp;*&nbsp;You&nbsp;can&nbsp;obtain&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;License&nbsp;at&nbsp;legal/CDDLv1.0.txt.&nbsp;See&nbsp;the&nbsp;License&nbsp;for&nbsp;the<br>
+&nbsp;*&nbsp;specific&nbsp;language&nbsp;governing&nbsp;permission&nbsp;and&nbsp;limitations&nbsp;under&nbsp;the&nbsp;License.<br>
+&nbsp;*<br>
+&nbsp;*&nbsp;When&nbsp;distributing&nbsp;Covered&nbsp;Software,&nbsp;include&nbsp;this&nbsp;CDDL&nbsp;Header&nbsp;Notice&nbsp;in&nbsp;each&nbsp;file&nbsp;and&nbsp;include<br>
+&nbsp;*&nbsp;the&nbsp;License&nbsp;file&nbsp;at&nbsp;legal/CDDLv1.0.txt.&nbsp;If&nbsp;applicable,&nbsp;add&nbsp;the&nbsp;following&nbsp;below&nbsp;the&nbsp;CDDL<br>
+&nbsp;*&nbsp;Header,&nbsp;with&nbsp;the&nbsp;fields&nbsp;enclosed&nbsp;by&nbsp;brackets&nbsp;[]&nbsp;replaced&nbsp;by&nbsp;your&nbsp;own&nbsp;identifying<br>
+&nbsp;*&nbsp;information:&nbsp;&amp;quot;Portions&nbsp;copyright&nbsp;[year]&nbsp;[name&nbsp;of&nbsp;copyright&nbsp;owner]&amp;quot;.<br>
+&nbsp;*<br>
+&nbsp;*&nbsp;Copyright&nbsp;2015&nbsp;ForgeRock&nbsp;AS.<br>
+&nbsp;*/<br>
+<br>
+ZeroClipboard.config({<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;swfPath:&nbsp;&nbsp;&amp;quot;includes/swf/ZeroClipboard.swf&amp;quot;,&nbsp;*/<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;swfPath:&nbsp;&nbsp;&amp;quot;https://cdnjs.cloudflare.com/ajax/libs/zeroclipboard/2.2.0/ZeroClipboard.swf&amp;quot;,<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;trustedDomains:&nbsp;[&amp;quot;*&amp;quot;],<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;forceEnhancedClipboard:&nbsp;true,<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;forceHandCursor:&nbsp;true,<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;debug:&nbsp;true}<br>
+);<br>
+<br>
+var&nbsp;addCopyButtonFN&nbsp;=&nbsp;function&nbsp;()&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;$(&nbsp;&amp;quot;.cmdline&amp;quot;&nbsp;).each(function()&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$(this).before('&amp;lt;div&nbsp;class=&amp;quot;zero-clipboard&nbsp;hidden-xs&amp;quot;&amp;gt;&amp;lt;span&nbsp;class=&amp;quot;btn-copy-cmdline&amp;quot;&amp;gt;&amp;lt;span&nbsp;class=&amp;quot;glyphicon&nbsp;glyphicon-pencil&amp;quot;&amp;gt;&amp;lt;/span&amp;gt;&nbsp;Copy&amp;lt;span&nbsp;class=&amp;quot;hidden-sm&amp;quot;&amp;gt;&nbsp;command&nbsp;to&nbsp;clipboard&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;');<br>
+&nbsp;&nbsp;&nbsp;&nbsp;});<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;$(&nbsp;&amp;quot;.codelisting&amp;quot;&nbsp;).each(function()&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$(this).before('&amp;lt;div&nbsp;class=&amp;quot;zero-clipboard&nbsp;hidden-xs&amp;quot;&amp;gt;&amp;lt;span&nbsp;class=&amp;quot;btn-copy-codelisting&amp;quot;&amp;gt;&amp;lt;span&nbsp;class=&amp;quot;glyphicon&nbsp;glyphicon-pencil&amp;quot;&amp;gt;&amp;lt;/span&amp;gt;&nbsp;Copy&amp;lt;span&nbsp;class=&amp;quot;hidden-sm&amp;quot;&amp;gt;&nbsp;code&nbsp;to&nbsp;clipboard&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;');<br>
+&nbsp;&nbsp;&nbsp;&nbsp;});<br>
+};<br>
+var&nbsp;enableScrollSpyFN&nbsp;=&nbsp;function&nbsp;()&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;$('body').scrollspy({<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target:&nbsp;'#sidebar',<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;offset:&nbsp;16<br>
+&nbsp;&nbsp;&nbsp;&nbsp;});<br>
+};<br>
+<br>
+var&nbsp;enableToolTipFN&nbsp;=&nbsp;function&nbsp;()&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;$(function&nbsp;()&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$(&amp;quot;[data-toggle='tooltip']&amp;quot;).tooltip({placement:&nbsp;'bottom'});<br>
+&nbsp;&nbsp;&nbsp;&nbsp;});<br>
+};<br>
+<br>
+var&nbsp;enableBackToTopFadeInFN&nbsp;=&nbsp;function&nbsp;()&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;offset&nbsp;=&nbsp;220;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;duration&nbsp;=&nbsp;500;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;$(window).scroll(function()&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;($(this).scrollTop()&nbsp;&amp;gt;&nbsp;offset)&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$('.back-to-top').fadeIn(duration);<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$('.back-to-top').fadeOut(duration);<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
+&nbsp;&nbsp;&nbsp;&nbsp;});<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;$('.back-to-top').click(function(event)&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;event.preventDefault();<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$('html,&nbsp;body').animate({scrollTop:&nbsp;0},&nbsp;duration);<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;false;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;})<br>
+};<br>
+<br>
+var&nbsp;enableClampedWidthsFN&nbsp;=&nbsp;function&nbsp;()&nbsp;{<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;/*<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Clamped-width.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Usage:<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&amp;lt;div&nbsp;data-clampedwidth=&amp;quot;.myParent&amp;quot;&amp;gt;This&nbsp;long&nbsp;content&nbsp;will&nbsp;force&nbsp;clamped&nbsp;width&amp;lt;/div&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Author:&nbsp;LV<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
+&nbsp;&nbsp;&nbsp;&nbsp;$('[data-clampedwidth]').each(function&nbsp;()&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;elem&nbsp;=&nbsp;$(this);<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;parentPanel&nbsp;=&nbsp;elem.data('clampedwidth');<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;resizeFn&nbsp;=&nbsp;function&nbsp;()&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;sideBarNavWidth&nbsp;=&nbsp;$(parentPanel).width()&nbsp;-&nbsp;parseInt(elem.css('paddingLeft'))&nbsp;-&nbsp;parseInt(elem.css('paddingRight'))&nbsp;-&nbsp;parseInt(elem.css('marginLeft'))&nbsp;-&nbsp;parseInt(elem.css('marginRight'))&nbsp;-&nbsp;parseInt(elem.css('borderLeftWidth'))&nbsp;-&nbsp;parseInt(elem.css('borderRightWidth'));<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elem.css('width',&nbsp;sideBarNavWidth);<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resizeFn();<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$(window).resize(resizeFn);<br>
+&nbsp;&nbsp;&nbsp;&nbsp;});<br>
+};<br>
+<br>
+<br>
+<br>
+var&nbsp;affixToCFN&nbsp;=&nbsp;function()&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;$('#sidebar').affix({<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;offset:&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;top:&nbsp;function&nbsp;()&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(this.top&nbsp;=&nbsp;$('.jumbotron').outerHeight(true)-66)<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
+&nbsp;&nbsp;&nbsp;&nbsp;});<br>
+};<br>
+<br>
+<br>
+var&nbsp;addZeroClipboardToCmdlineButtonsFN&nbsp;=&nbsp;function&nbsp;()&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;copycmdline&nbsp;=&nbsp;new&nbsp;ZeroClipboard(&nbsp;$('.btn-copy-cmdline')&nbsp;);<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;copycmdline.on(&nbsp;'ready',&nbsp;function(event)&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;console.log(&nbsp;'movie&nbsp;is&nbsp;loaded'&nbsp;);<br>
+&nbsp;&nbsp;&nbsp;&nbsp;});<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;copycmdline.on(&nbsp;'copy',&nbsp;function(event)&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;event.clipboardData.setData('text/plain',&nbsp;$(event.target).parent().next().find(&amp;quot;strong&amp;quot;).first().text());<br>
+&nbsp;&nbsp;&nbsp;&nbsp;});<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;copycmdline.on(&nbsp;'aftercopy',&nbsp;function(event)&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;console.log('Copied&nbsp;text&nbsp;to&nbsp;clipboard:&nbsp;'&nbsp;+&nbsp;event.data['text/plain']);<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$(event.target).parent().next().find(&amp;quot;strong&amp;quot;).first().effect(&amp;quot;transfer&amp;quot;,&nbsp;{&nbsp;to:&nbsp;$(event.target)},&nbsp;750);<br>
+&nbsp;&nbsp;&nbsp;&nbsp;});<br>
+<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;copycmdline.on(&nbsp;'error',&nbsp;function(event)&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;console.log(&nbsp;'ZeroClipboard&nbsp;error&nbsp;of&nbsp;type&nbsp;&amp;quot;'&nbsp;+&nbsp;event.name&nbsp;+&nbsp;'&amp;quot;:&nbsp;'&nbsp;+&nbsp;event.message&nbsp;);<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ZeroClipboard.destroy();<br>
+&nbsp;&nbsp;&nbsp;&nbsp;});<br>
+};<br>
+<br>
+var&nbsp;addZeroClipboardToCodeButtonsFN&nbsp;=&nbsp;function&nbsp;()&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;copycodelisting&nbsp;=&nbsp;new&nbsp;ZeroClipboard(&nbsp;$('.btn-copy-codelisting')&nbsp;);<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;copycodelisting.on(&nbsp;'ready',&nbsp;function(event)&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;console.log(&nbsp;'movie&nbsp;is&nbsp;loaded'&nbsp;);<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;copycodelisting.on(&nbsp;'copy',&nbsp;function(event)&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;text&nbsp;=&nbsp;$(event.target).parent().next(&amp;quot;.codelisting&amp;quot;).first().text();<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;windowsText&nbsp;=&nbsp;text.replace(/\n/g,&nbsp;'\r\n');<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;event.clipboardData.setData('text/plain',&nbsp;windowsText);<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;event.clipboardData.setData('text/plain',&nbsp;$(event.target).parent().next(&amp;quot;.codelisting&amp;quot;).first().text());<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;copycodelisting.on(&nbsp;'aftercopy',&nbsp;function(event)&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;console.log('Copied&nbsp;code&nbsp;to&nbsp;clipboard:&nbsp;'&nbsp;+&nbsp;event.data['text/plain']);<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$(event.target).parent().next(&amp;quot;.codelisting&amp;quot;).first().effect(&amp;quot;transfer&amp;quot;,&nbsp;{&nbsp;to:&nbsp;$(event.target)},&nbsp;750);<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});<br>
+&nbsp;&nbsp;&nbsp;&nbsp;});<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;copycodelisting.on(&nbsp;'error',&nbsp;function(event)&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;console.log(&nbsp;'ZeroClipboard&nbsp;error&nbsp;of&nbsp;type&nbsp;&amp;quot;'&nbsp;+&nbsp;event.name&nbsp;+&nbsp;'&amp;quot;:&nbsp;'&nbsp;+&nbsp;event.message&nbsp;);<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ZeroClipboard.destroy();<br>
+&nbsp;&nbsp;&nbsp;&nbsp;});<br>
+};<br>
+<br>
+$(document).ready(function()&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;addCopyButtonFN();<br>
+&nbsp;&nbsp;&nbsp;&nbsp;addZeroClipboardToCmdlineButtonsFN();<br>
+&nbsp;&nbsp;&nbsp;&nbsp;addZeroClipboardToCodeButtonsFN();<br>
+&nbsp;&nbsp;&nbsp;&nbsp;enableToolTipFN();<br>
+&nbsp;&nbsp;&nbsp;&nbsp;enableBackToTopFadeInFN();<br>
+&nbsp;&nbsp;&nbsp;&nbsp;enableClampedWidthsFN();<br>
+&nbsp;&nbsp;&nbsp;&nbsp;enableScrollSpyFN();<br>
+&nbsp;&nbsp;&nbsp;&nbsp;affixToCFN();<br>
+&nbsp;&nbsp;&nbsp;&nbsp;prettyPrint();<br>
+});<br>
+<br>
+<br>
&lt;/ins&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;<br>
&lt;a&nbsp;id=&quot;forgerockdocdefaultbrandingtrunksrcmainresourcesdocbkxstylesheetsbootstrapstylescss&quot;&gt;&lt;/a&gt;<br>
&lt;div&nbsp;class=&quot;addfile&quot;&gt;&lt;h4&gt;Added:&nbsp;forgerock-doc-default-branding/trunk/src/main/resources/docbkx-stylesheets/bootstrap/styles.css&nbsp;(0&nbsp;=&gt;&nbsp;2843)&lt;/h4&gt;<br>
&lt;pre&nbsp;class=&quot;diff&quot;&gt;&lt;span&gt;<br>
&lt;span&nbsp;class=&quot;info&quot;&gt;---&nbsp;forgerock-doc-default-branding/trunk/src/main/resources/docbkx-stylesheets/bootstrap/styles.css&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(rev&nbsp;0)<br>
+++&nbsp;forgerock-doc-default-branding/trunk/src/main/resources/docbkx-stylesheets/bootstrap/styles.css&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp2015-01-19&nbsp;10:21:52&nbsp;UTC&nbsp;(rev&nbsp;2843)<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-0,0&nbsp;+1,446&nbsp;@@<br>
&lt;/span&gt;&lt;ins&gt;+/*<br>
+&nbsp;*&nbsp;The&nbsp;contents&nbsp;of&nbsp;this&nbsp;file&nbsp;are&nbsp;subject&nbsp;to&nbsp;the&nbsp;terms&nbsp;of&nbsp;the&nbsp;Common&nbsp;Development&nbsp;and<br>
+&nbsp;*&nbsp;Distribution&nbsp;License&nbsp;(the&nbsp;License).&nbsp;You&nbsp;may&nbsp;not&nbsp;use&nbsp;this&nbsp;file&nbsp;except&nbsp;in&nbsp;compliance&nbsp;with&nbsp;the<br>
+&nbsp;*&nbsp;License.<br>
+&nbsp;*<br>
+&nbsp;*&nbsp;You&nbsp;can&nbsp;obtain&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;License&nbsp;at&nbsp;legal/CDDLv1.0.txt.&nbsp;See&nbsp;the&nbsp;License&nbsp;for&nbsp;the<br>
+&nbsp;*&nbsp;specific&nbsp;language&nbsp;governing&nbsp;permission&nbsp;and&nbsp;limitations&nbsp;under&nbsp;the&nbsp;License.<br>
+&nbsp;*<br>
+&nbsp;*&nbsp;When&nbsp;distributing&nbsp;Covered&nbsp;Software,&nbsp;include&nbsp;this&nbsp;CDDL&nbsp;Header&nbsp;Notice&nbsp;in&nbsp;each&nbsp;file&nbsp;and&nbsp;include<br>
+&nbsp;*&nbsp;the&nbsp;License&nbsp;file&nbsp;at&nbsp;legal/CDDLv1.0.txt.&nbsp;If&nbsp;applicable,&nbsp;add&nbsp;the&nbsp;following&nbsp;below&nbsp;the&nbsp;CDDL<br>
+&nbsp;*&nbsp;Header,&nbsp;with&nbsp;the&nbsp;fields&nbsp;enclosed&nbsp;by&nbsp;brackets&nbsp;[]&nbsp;replaced&nbsp;by&nbsp;your&nbsp;own&nbsp;identifying<br>
+&nbsp;*&nbsp;information:&nbsp;&amp;quot;Portions&nbsp;copyright&nbsp;[year]&nbsp;[name&nbsp;of&nbsp;copyright&nbsp;owner]&amp;quot;.<br>
+&nbsp;*<br>
+&nbsp;*&nbsp;Copyright&nbsp;2015&nbsp;ForgeRock&nbsp;AS.<br>
+&nbsp;*/<br>
+<br>
+@import&nbsp;url(https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css);<br>
+@import&nbsp;url(https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.css);<br>
+<br>
+a&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;Sea&nbsp;Green&nbsp;*/<br>
+&nbsp;&nbsp;&nbsp;&nbsp;color:&nbsp;#519387;<br>
+}<br>
+<br>
+.section,&nbsp;.chapter,&nbsp;.preface,&nbsp;.glossary,&nbsp;.refentry,&nbsp;.reference,&nbsp;.appendix,<br>
+.index&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;padding-top:&nbsp;50px;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;margin-top:&nbsp;-50px;<br>
+}<br>
+<br>
+.answer&nbsp;&amp;gt;&nbsp;td&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;padding:&nbsp;0&nbsp;15px&nbsp;0&nbsp;0;<br>
+}<br>
+<br>
+.btn-primary&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;Sea&nbsp;Green&nbsp;*/<br>
+&nbsp;&nbsp;&nbsp;&nbsp;background-color:&nbsp;#519387;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;Dark&nbsp;Sea&nbsp;Green&nbsp;*/<br>
+&nbsp;&nbsp;&nbsp;&nbsp;border-color:&nbsp;#488378;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;color:&nbsp;#fff;<br>
+}<br>
+<br>
+.indexdiv&nbsp;&amp;gt;&nbsp;h3&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;border-bottom:&nbsp;2px&nbsp;dotted&nbsp;lightgrey;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;padding-bottom:&nbsp;5px;<br>
+}<br>
+<br>
+.indexdiv&nbsp;&amp;gt;&nbsp;dl&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;margin-left:&nbsp;30px;<br>
+}<br>
+<br>
+.indexdiv&nbsp;dl&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;margin-bottom:&nbsp;5px;<br>
+}<br>
+<br>
+.indexdiv&nbsp;dt&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;margin:&nbsp;5px&nbsp;0&nbsp;2px;<br>
+}<br>
+<br>
+.indexdiv&nbsp;dd&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;margin-left:&nbsp;35px;<br>
+}<br>
+<br>
+.indexdiv&nbsp;.indexterm&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;font-weight:&nbsp;200;<br>
+}<br>
+<br>
+<br>
+<br>
+.itemizedlist-title&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;font-size:&nbsp;18px;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;font-weight:&nbsp;600;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;margin:&nbsp;12px&nbsp;0&nbsp;6px;<br>
+}<br>
+<br>
+html&nbsp;{&nbsp;height:&nbsp;100%;}<br>
+<br>
+body&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;Dark&nbsp;Grey&nbsp;*/<br>
+&nbsp;&nbsp;&nbsp;&nbsp;color:&nbsp;#2a2f32;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;font-family:&nbsp;&amp;quot;proxima-nova&amp;quot;,sans-serif;<br>
+}<br>
+<br>
+.jumbotron&nbsp;{<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;Vivid&nbsp;Yellow<br>
+&nbsp;&nbsp;&nbsp;&nbsp;background-color:&nbsp;#eeea07;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;color:&nbsp;black;&nbsp;*/<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;Sea&nbsp;Green&nbsp;*/<br>
+&nbsp;&nbsp;&nbsp;&nbsp;background:&nbsp;url(&amp;quot;includes/logos/hero-bg-01.png&amp;quot;)&nbsp;no-repeat&nbsp;fixed&nbsp;left&nbsp;top&nbsp;#519387;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;color:&nbsp;white;<br>
+}<br>
+<br>
+.jumbotron&nbsp;small&nbsp;{&nbsp;color:&nbsp;white;}<br>
+<br>
+div.procedure&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;border-color:&nbsp;lightslategray;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;border-left:&nbsp;6px&nbsp;solid&nbsp;lightslategray;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;border-style:&nbsp;dotted&nbsp;dotted&nbsp;dotted&nbsp;solid;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;border-width:&nbsp;1px&nbsp;1px&nbsp;1px&nbsp;6px;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;margin:&nbsp;15px&nbsp;0&nbsp;10px;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;padding:&nbsp;10px&nbsp;15px&nbsp;10px&nbsp;10px;<br>
+}<br>
+<br>
+.procedure-title&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;color:&nbsp;lightslategray;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;font-size:&nbsp;14pt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;font-weight:&nbsp;400;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;margin:&nbsp;6px&nbsp;0&nbsp;8px;<br>
+}<br>
+<br>
+h1&nbsp;span&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;margin-right:&nbsp;.3em;<br>
+}<br>
+<br>
+.footer&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;Light&nbsp;Grey&nbsp;*/<br>
+&nbsp;&nbsp;&nbsp;&nbsp;background-color:&nbsp;#f5f5f5;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;Medium&nbsp;Grey&nbsp;*/<br>
+&nbsp;&nbsp;&nbsp;&nbsp;border-top:&nbsp;1px&nbsp;solid&nbsp;#e5e5e5;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;position:&nbsp;fixed;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;width:&nbsp;100%;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;z-index:&nbsp;100;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;height:&nbsp;50px;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;padding-top:&nbsp;15px;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;bottom:&nbsp;0;<br>
+}<br>
+.footer&nbsp;h3&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;margin:&nbsp;0;<br>
+}<br>
+.footer&nbsp;a:hover&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;text-decoration:&nbsp;none;<br>
+}<br>
+.footer-item&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;line-height:&nbsp;22px;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;margin-left:&nbsp;10px;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;vertical-align:&nbsp;bottom;<br>
+}<br>
+.footer-item.highlighted&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;Orange&nbsp;*/<br>
+&nbsp;&nbsp;&nbsp;&nbsp;color:&nbsp;#f7a540;<br>
+}<br>
+.footer-item.highlighted:hover&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;Dark&nbsp;Orange&nbsp;*/<br>
+&nbsp;&nbsp;&nbsp;&nbsp;color:&nbsp;#c97208;<br>
+}<br>
+.footer&nbsp;span&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;Grey&nbsp;*/<br>
+&nbsp;&nbsp;&nbsp;&nbsp;color:&nbsp;#2a2f32;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;margin-bottom:&nbsp;0;<br>
+}<br>
+.footer&nbsp;.footer-left&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;float:&nbsp;left;<br>
+}<br>
+.footer&nbsp;.footer-right&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;float:&nbsp;right;<br>
+}<br>
+<br>
+h1&nbsp;&nbsp;&nbsp;&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;font-size:&nbsp;40px&nbsp;!important;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;font-weight:&nbsp;700&nbsp;!important;<br>
+}<br>
+h2&nbsp;&nbsp;&nbsp;&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;font-size:&nbsp;32px&nbsp;!important;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;font-weight:&nbsp;700&nbsp;!important;<br>
+}<br>
+<br>
+.chapter&nbsp;&amp;gt;&nbsp;p:first-of-type,&nbsp;.preface&nbsp;&amp;gt;&nbsp;p:first-of-type&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;font-size:&nbsp;21px;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;font-weight:&nbsp;300;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;line-height:&nbsp;1.4;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;margin-bottom:&nbsp;20px;<br>
+}<br>
+<br>
+<br>
+/*&nbsp;all&nbsp;links&nbsp;*/<br>
+#sidebar&nbsp;.nav&amp;gt;li&amp;gt;a&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;Light&nbsp;Grey&nbsp;*/<br>
+&nbsp;&nbsp;&nbsp;&nbsp;color:&nbsp;#777;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;border-left:&nbsp;4px&nbsp;solid&nbsp;transparent;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;padding:&nbsp;4px&nbsp;10px;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;font-size:&nbsp;13px;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;font-weight:&nbsp;400;<br>
+}<br>
+<br>
+/*&nbsp;nested&nbsp;links&nbsp;*/<br>
+#sidebar&nbsp;.nav&nbsp;.nav&amp;gt;li&amp;gt;a&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;padding-top:&nbsp;2px;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;padding-bottom:&nbsp;2px;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;padding-left:&nbsp;30px;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;font-size:&nbsp;12px;<br>
+}<br>
+<br>
+/*&nbsp;nested&nbsp;nested&nbsp;links&nbsp;*/<br>
+#sidebar&nbsp;.nav&nbsp;.nav&nbsp;.nav&amp;gt;li&amp;gt;a&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;font-size:&nbsp;11px;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;padding-bottom:&nbsp;2px;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;padding-left:&nbsp;50px;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;padding-top:&nbsp;4px;<br>
+}<br>
+<br>
+/*&nbsp;nested&nbsp;nested&nbsp;nested&nbsp;links&nbsp;*/<br>
+#sidebar&nbsp;.nav&nbsp;.nav&nbsp;.nav&nbsp;.nav&amp;gt;li&amp;gt;a&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;font-size:&nbsp;11px;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;padding-bottom:&nbsp;2px;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;padding-left:&nbsp;70px;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;padding-top:&nbsp;4px;<br>
+}<br>
+<br>
+/*&nbsp;active&nbsp;and&nbsp;hover&nbsp;links&nbsp;*/<br>
+#sidebar&nbsp;.nav&amp;gt;.active&amp;gt;a,<br>
+#sidebar&nbsp;.nav&amp;gt;li&amp;gt;a:hover,<br>
+#sidebar&nbsp;.nav&amp;gt;li&amp;gt;a:focus&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;text-decoration:&nbsp;none;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;/*<br>
+&nbsp;&nbsp;&nbsp;&nbsp;background-color:&nbsp;rgb(125,&nbsp;179,&nbsp;168,&nbsp;0.8);<br>
+&nbsp;&nbsp;&nbsp;&nbsp;background-color:&nbsp;rgba(125,&nbsp;179,&nbsp;168,&nbsp;0.8);<br>
+&nbsp;&nbsp;&nbsp;&nbsp;border-color:&nbsp;rgb(45,&nbsp;52,&nbsp;55,&nbsp;0.8);<br>
+&nbsp;&nbsp;&nbsp;&nbsp;border-color:&nbsp;rgba(45,&nbsp;52,&nbsp;55,&nbsp;0.8);<br>
+&nbsp;&nbsp;&nbsp;&nbsp;color:&nbsp;white;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
+&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;Bright&nbsp;Yellow&nbsp;*/<br>
+&nbsp;&nbsp;&nbsp;&nbsp;background-color:&nbsp;#eeea07;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;border-color:&nbsp;#eeea07;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;Grey&nbsp;*/<br>
+&nbsp;&nbsp;&nbsp;&nbsp;color:&nbsp;#2a2f32;<br>
+}<br>
+<br>
+/*&nbsp;all&nbsp;active&nbsp;links&nbsp;*/<br>
+#sidebar&nbsp;.nav&amp;gt;.active&amp;gt;a,<br>
+#sidebar&nbsp;.nav&amp;gt;.active:hover&amp;gt;a,<br>
+#sidebar&nbsp;.nav&amp;gt;.active:focus&amp;gt;a&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;font-weight:&nbsp;600;<br>
+}<br>
+/*&nbsp;nested&nbsp;active&nbsp;links&nbsp;*/<br>
+#sidebar&nbsp;.nav&nbsp;.nav&amp;gt;.active&amp;gt;a,<br>
+#sidebar&nbsp;.nav&nbsp;.nav&amp;gt;.active:hover&amp;gt;a,<br>
+#sidebar&nbsp;.nav&nbsp;.nav&amp;gt;.active:focus&amp;gt;a&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;font-weight:&nbsp;400;<br>
+}<br>
+<br>
+/*&nbsp;nested&nbsp;nested&nbsp;active&nbsp;links&nbsp;*/<br>
+#sidebar&nbsp;.nav&nbsp;&nbsp;.nav&nbsp;.nav&amp;gt;.active&amp;gt;a,<br>
+#sidebar&nbsp;.nav&nbsp;&nbsp;.nav&nbsp;.nav&amp;gt;.active:hover&amp;gt;a,<br>
+#sidebar&nbsp;.nav&nbsp;&nbsp;.nav&nbsp;.nav&amp;gt;.active:focus&amp;gt;a&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;font-weight:&nbsp;300;<br>
+}<br>
+<br>
+/*&nbsp;nested&nbsp;nested&nbsp;active&nbsp;links&nbsp;*/<br>
+#sidebar&nbsp;.nav&nbsp;&nbsp;.nav&nbsp;.nav&amp;gt;.active&amp;gt;a,<br>
+#sidebar&nbsp;.nav&nbsp;&nbsp;.nav&nbsp;.nav&amp;gt;.active:hover&amp;gt;a,<br>
+#sidebar&nbsp;.nav&nbsp;&nbsp;.nav&nbsp;.nav&amp;gt;.active:focus&amp;gt;a&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;font-weight:&nbsp;300;<br>
+}<br>
+<br>
+/*&nbsp;hide&nbsp;all&nbsp;(inactive)&nbsp;nested&nbsp;list&nbsp;*/<br>
+#sidebar&nbsp;.nav&nbsp;ul.nav&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;display:&nbsp;none;<br>
+}<br>
+/*&nbsp;show&nbsp;active&nbsp;nested&nbsp;list&nbsp;*/<br>
+#sidebar&nbsp;.nav&amp;gt;.active&amp;gt;ul.nav&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;display:&nbsp;block;<br>
+}<br>
+<br>
+#sidebar.affix&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;top:&nbsp;66px;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;position:&nbsp;fixed;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;bottom:&nbsp;55px;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;height:&nbsp;auto;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;overflow-y:&nbsp;scroll;<br>
+}<br>
+<br>
+#sidebar.affix-top&nbsp;{<br>
+<br>
+}<br>
+<br>
+#sidebar.affix-bottom&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;position:&nbsp;absolute;<br>
+}<br>
+<br>
+.figure-title&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;font-weight:&nbsp;bold;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;margin:&nbsp;16px&nbsp;0&nbsp;4px;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;text-align:&nbsp;center;<br>
+}<br>
+<br>
+#doc-content&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;padding:&nbsp;0&nbsp;20px&nbsp;55px&nbsp;10px;<br>
+}<br>
+<br>
+.table-title&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;font-size:&nbsp;12pt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;font-weight:&nbsp;700;<br>
+}<br>
+<br>
+.dl-horizontal&nbsp;dt&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;white-space:&nbsp;normal;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;padding:&nbsp;0&nbsp;3px&nbsp;0&nbsp;0;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;width:&nbsp;200px;<br>
+}<br>
+<br>
+.variablelist&nbsp;dt&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;margin:&nbsp;18px&nbsp;0&nbsp;5px&nbsp;15px;<br>
+}<br>
+<br>
+.dl-horizontal&nbsp;dd&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;border-bottom:&nbsp;1px&nbsp;dotted&nbsp;rgb(125,&nbsp;179,&nbsp;168);<br>
+&nbsp;&nbsp;&nbsp;&nbsp;border-bottom:&nbsp;1px&nbsp;dotted&nbsp;rgba(125,&nbsp;179,&nbsp;168,&nbsp;0.8);<br>
+&nbsp;&nbsp;&nbsp;&nbsp;margin-bottom:&nbsp;18px;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;margin-left:&nbsp;210px;<br>
+}<br>
+<br>
+.variablelist&nbsp;dd&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;border-bottom:&nbsp;1px&nbsp;dotted&nbsp;rgba(125,&nbsp;179,&nbsp;168,&nbsp;0.8);<br>
+&nbsp;&nbsp;&nbsp;&nbsp;margin:&nbsp;5px&nbsp;0&nbsp;5px&nbsp;30px;<br>
+}<br>
+<br>
+.variablelist&nbsp;&amp;gt;&nbsp;dl&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;border-top:&nbsp;1px&nbsp;dotted&nbsp;rgba(125,&nbsp;179,&nbsp;168,&nbsp;0.8);<br>
+}<br>
+<br>
+.dl-horizontal&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;border-top:&nbsp;1px&nbsp;dotted&nbsp;rgb(125,&nbsp;179,&nbsp;168);<br>
+&nbsp;&nbsp;&nbsp;&nbsp;border-top:&nbsp;1px&nbsp;dotted&nbsp;rgba(125,&nbsp;179,&nbsp;168,&nbsp;0.9);<br>
+&nbsp;&nbsp;&nbsp;&nbsp;padding-top:&nbsp;10px;<br>
+}<br>
+<br>
+img.img-responsive&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;margin-bottom:&nbsp;20px;<br>
+}<br>
+<br>
+#footer&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;display:&nbsp;none;<br>
+}<br>
+<br>
+a.link[href^=&amp;quot;http&amp;quot;]&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;background-image:&nbsp;url(&amp;quot;includes/logos/Icon_External_Link.png&amp;quot;);<br>
+&nbsp;&nbsp;&nbsp;&nbsp;background-position:&nbsp;top&nbsp;right;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;background-repeat:&nbsp;no-repeat;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;padding-right:&nbsp;15px;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;margin-right:&nbsp;2px;<br>
+}<br>
+<br>
+<br>
+<br>
+.variablelist-title&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;font-weight:&nbsp;bold;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;margin:&nbsp;10px&nbsp;0;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;text-decoration:&nbsp;underline;<br>
+}<br>
+<br>
+#about-content&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;width:&nbsp;60%;<br>
+}<br>
+<br>
+.left-shape-content&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;background:&nbsp;url(&amp;quot;includes/logos/left-shape-4.png&amp;quot;)&nbsp;no-repeat&nbsp;scroll&nbsp;0&nbsp;0&nbsp;rgba(0,&nbsp;0,&nbsp;0,&nbsp;0);<br>
+&nbsp;&nbsp;&nbsp;&nbsp;float:&nbsp;left;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;height:&nbsp;566px;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;position:&nbsp;fixed;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;width:&nbsp;57px;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;top:&nbsp;60%;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;z-index:&nbsp;-1;<br>
+}<br>
+<br>
+#doc-content&nbsp;h1,&nbsp;#doc-content&nbsp;.h1&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;Sea&nbsp;Green&nbsp;*/<br>
+&nbsp;&nbsp;&nbsp;&nbsp;border-bottom:&nbsp;2px&nbsp;solid&nbsp;#70ab9b;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;font-size:&nbsp;36px;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;margin-top:&nbsp;24px;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;padding-bottom:&nbsp;5px;<br>
+}<br>
+<br>
+.zero-clipboard&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;display:&nbsp;block;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;position:&nbsp;relative;<br>
+}<br>
+<br>
+.btn-copy-cmdline,&nbsp;.btn-copy-codelisting&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;White&nbsp;*/<br>
+&nbsp;&nbsp;&nbsp;&nbsp;background-color:&nbsp;#fff;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;Light&nbsp;Grey&nbsp;*/<br>
+&nbsp;&nbsp;&nbsp;&nbsp;border:&nbsp;1px&nbsp;solid&nbsp;#e1e1e8;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;border-radius:&nbsp;0&nbsp;4px;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;color:&nbsp;#777;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;display:&nbsp;block;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;font-size:&nbsp;12px;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;padding:&nbsp;5px&nbsp;8px;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;position:&nbsp;absolute;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;right:&nbsp;5px;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;top:&nbsp;5px;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;z-index:&nbsp;10;<br>
+}<br>
+<br>
+.zeroclipboard-is-hover&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;Light&nbsp;Sea&nbsp;Green&nbsp;*/<br>
+&nbsp;&nbsp;&nbsp;&nbsp;background-color:&nbsp;#6faa9b;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;border-color:&nbsp;#6faa9b;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;color:&nbsp;#fff;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;cursor:&nbsp;pointer;<br>
+}<br>
+<br>
+.ui-effects-transfer&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;border:&nbsp;1px&nbsp;dotted&nbsp;black;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;background-color:&nbsp;yellow;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;opacity:&nbsp;0.4;<br>
+}<br>
+<br>
+pre.prettyprint&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;border:&nbsp;1px&nbsp;solid&nbsp;#ccc;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;padding:&nbsp;9.5px;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;font-size:&nbsp;12px;<br>
+}<br>
+<br>
+li.L0,&nbsp;li.L1,&nbsp;li.L2,&nbsp;li.L3,<br>
+li.L5,&nbsp;li.L6,&nbsp;li.L7,&nbsp;li.L8<br>
+{&nbsp;list-style-type:&nbsp;decimal&nbsp;!important&nbsp;}<br>
+<br>
+.back-to-top&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;position:&nbsp;fixed;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;bottom:&nbsp;55px;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;right:&nbsp;5px;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;display:&nbsp;none;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;z-index:15;<br>
+}<br>
+<br>
+.navbar.navbar-inverse.navbar-fixed-top&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;box-shadow:&nbsp;0&nbsp;0&nbsp;10px&nbsp;2px&nbsp;#111;<br>
+}<br>
+<br>
+.jumbotron&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;box-shadow:&nbsp;0&nbsp;0&nbsp;10px&nbsp;2px&nbsp;grey;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;margin-top:&nbsp;50px;<br>
+}<br>
+<br>
+.nav&nbsp;&amp;gt;&nbsp;li&nbsp;&amp;gt;&nbsp;a&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;font-weight:&nbsp;200;<br>
+}<br>
+<br>
+.simplelist&nbsp;{<br>
+&nbsp;&nbsp;&nbsp;&nbsp;margin-bottom:&nbsp;10px;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;width:&nbsp;100%;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;font-size:&nbsp;15px;<br>
+}<br>
+.table&nbsp;{&nbsp;font-size:&nbsp;14px;}<br>
&lt;/ins&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;<br>
&lt;a&nbsp;id=&quot;forgerockdocdefaultbrandingtrunksrcmainresourcesdocbkxstylesheetsbootstraptablexsl&quot;&gt;&lt;/a&gt;<br>
&lt;div&nbsp;class=&quot;addfile&quot;&gt;&lt;h4&gt;Added:&nbsp;forgerock-doc-default-branding/trunk/src/main/resources/docbkx-stylesheets/bootstrap/table.xsl&nbsp;(0&nbsp;=&gt;&nbsp;2843)&lt;/h4&gt;<br>
&lt;pre&nbsp;class=&quot;diff&quot;&gt;&lt;span&gt;<br>
&lt;span&nbsp;class=&quot;info&quot;&gt;---&nbsp;forgerock-doc-default-branding/trunk/src/main/resources/docbkx-stylesheets/bootstrap/table.xsl&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(rev&nbsp;0)<br>
+++&nbsp;forgerock-doc-default-branding/trunk/src/main/resources/docbkx-stylesheets/bootstrap/table.xsl&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp2015-01-19&nbsp;10:21:52&nbsp;UTC&nbsp;(rev&nbsp;2843)<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-0,0&nbsp;+1,316&nbsp;@@<br>
&lt;/span&gt;&lt;ins&gt;+&amp;lt;?xml&nbsp;version='1.0'?&amp;gt;<br>
+&amp;lt;xsl:stylesheet&nbsp;xmlns:xsl=&amp;quot;http://www.w3.org/1999/XSL/Transform&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:ng=&amp;quot;http://docbook.org/docbook-ng&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:db=&amp;quot;http://docbook.org/ns/docbook&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:exsl=&amp;quot;http://exslt.org/common&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:exslt=&amp;quot;http://exslt.org/common&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:doc=&amp;quot;http://nwalsh.com/xsl/documentation/1.0&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:stbl=&amp;quot;http://nwalsh.com/xslt/ext/com.nwalsh.saxon.Table&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:xtbl=&amp;quot;xalan://com.nwalsh.xalan.Table&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:lxslt=&amp;quot;http://xml.apache.org/xslt&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:ptbl=&amp;quot;http://nwalsh.com/xslt/ext/xsltproc/python/Table&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exclude-result-prefixes=&amp;quot;db&nbsp;ng&nbsp;exsl&nbsp;exslt&nbsp;oc&nbsp;stbl&nbsp;xtbl&nbsp;lxslt&nbsp;ptbl&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;version='1.0'&amp;gt;<br>
+<br>
+<br>
+&nbsp;&nbsp;&amp;lt;!--&nbsp;********************************************************************<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$Id:&nbsp;table.xsl&nbsp;9297&nbsp;2012-04-22&nbsp;03:56:16Z&nbsp;bobstayton&nbsp;$<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;********************************************************************<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;file&nbsp;is&nbsp;part&nbsp;of&nbsp;the&nbsp;XSL&nbsp;DocBook&nbsp;Stylesheet&nbsp;distribution.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;See&nbsp;../README&nbsp;or&nbsp;http://docbook.sf.net/release/xsl/current/&nbsp;for<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;copyright&nbsp;and&nbsp;other&nbsp;information.<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;********************************************************************&nbsp;--&amp;gt;<br>
+<br>
+<br>
+&nbsp;&nbsp;&amp;lt;xsl:template&nbsp;match=&amp;quot;db:tgroup&amp;quot;&nbsp;name=&amp;quot;tgroup&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:if&nbsp;test=&amp;quot;not(@cols)&nbsp;or&nbsp;@cols&nbsp;=&nbsp;''&nbsp;or&nbsp;string(number(@cols))&nbsp;=&nbsp;'NaN'&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:message&nbsp;terminate=&amp;quot;yes&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:text&amp;gt;Error:&nbsp;CALS&nbsp;tables&nbsp;must&nbsp;specify&nbsp;the&nbsp;number&nbsp;of&nbsp;columns.&amp;lt;/xsl:text&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:message&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:if&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;summary&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;pi.dbhtml_table-summary&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;cellspacing&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;pi.dbhtml_cellspacing&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;cellpadding&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;pi.dbhtml_cellpadding&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;table&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:attribute&nbsp;name=&amp;quot;class&amp;quot;&amp;gt;table&nbsp;table-striped&amp;lt;/xsl:attribute&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;!--&nbsp;If&nbsp;there's&nbsp;a&nbsp;textobject/phrase&nbsp;for&nbsp;the&nbsp;table&nbsp;summary,&nbsp;use&nbsp;it&nbsp;--&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;../db:textobject/db:phrase&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:attribute&nbsp;name=&amp;quot;summary&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;../db:textobject/db:phrase&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:attribute&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;!--&nbsp;If&nbsp;there's&nbsp;a&nbsp;&amp;lt;?dbhtml&nbsp;table-summary=&amp;quot;foo&amp;quot;?&amp;gt;&nbsp;PI,&nbsp;use&nbsp;it&nbsp;for<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;HTML&nbsp;table&nbsp;summary&nbsp;attribute&nbsp;--&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$summary&nbsp;!=&nbsp;''&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:attribute&nbsp;name=&amp;quot;summary&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$summary&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:attribute&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;!--&nbsp;Otherwise,&nbsp;if&nbsp;there's&nbsp;a&nbsp;title,&nbsp;use&nbsp;that&nbsp;--&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;../db:title&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:attribute&nbsp;name=&amp;quot;summary&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;!--&nbsp;This&nbsp;screws&nbsp;up&nbsp;on&nbsp;inline&nbsp;markup&nbsp;and&nbsp;footnotes,&nbsp;oh&nbsp;well...&nbsp;--&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;string(../db:title)&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:attribute&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;!--&nbsp;Otherwise,&nbsp;forget&nbsp;the&nbsp;whole&nbsp;idea&nbsp;--&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;&amp;lt;!--&nbsp;nevermind&nbsp;--&amp;gt;&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:if&nbsp;test=&amp;quot;$cellspacing&nbsp;!=&nbsp;''&nbsp;or&nbsp;$html.cellspacing&nbsp;!=&nbsp;''&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:attribute&nbsp;name=&amp;quot;cellspacing&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$cellspacing&nbsp;!=&nbsp;''&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$cellspacing&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$html.cellspacing&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:attribute&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:if&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:if&nbsp;test=&amp;quot;$cellpadding&nbsp;!=&nbsp;''&nbsp;or&nbsp;$html.cellpadding&nbsp;!=&nbsp;''&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:attribute&nbsp;name=&amp;quot;cellpadding&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$cellpadding&nbsp;!=&nbsp;''&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$cellpadding&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$html.cellpadding&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:attribute&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:if&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:if&nbsp;test=&amp;quot;../@pgwide=1&nbsp;or&nbsp;local-name(.)&nbsp;=&nbsp;'entrytbl'&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:attribute&nbsp;name=&amp;quot;width&amp;quot;&amp;gt;100%&amp;lt;/xsl:attribute&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:if&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$table.borders.with.css&nbsp;!=&nbsp;0&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;../@frame='all'&nbsp;or&nbsp;(not(../@frame)&nbsp;and&nbsp;$default.table.frame='all')&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:attribute&nbsp;name=&amp;quot;style&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:text&amp;gt;border-collapse:&nbsp;collapse;&amp;lt;/xsl:text&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;border&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;side&amp;quot;&nbsp;select=&amp;quot;'top'&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;style&amp;quot;&nbsp;select=&amp;quot;$table.frame.border.style&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;color&amp;quot;&nbsp;select=&amp;quot;$table.frame.border.color&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;thickness&amp;quot;&nbsp;select=&amp;quot;$table.frame.border.thickness&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;border&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;side&amp;quot;&nbsp;select=&amp;quot;'bottom'&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;style&amp;quot;&nbsp;select=&amp;quot;$table.frame.border.style&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;color&amp;quot;&nbsp;select=&amp;quot;$table.frame.border.color&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;thickness&amp;quot;&nbsp;select=&amp;quot;$table.frame.border.thickness&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;border&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;side&amp;quot;&nbsp;select=&amp;quot;'left'&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;style&amp;quot;&nbsp;select=&amp;quot;$table.frame.border.style&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;color&amp;quot;&nbsp;select=&amp;quot;$table.frame.border.color&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;thickness&amp;quot;&nbsp;select=&amp;quot;$table.frame.border.thickness&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;border&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;side&amp;quot;&nbsp;select=&amp;quot;'right'&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;style&amp;quot;&nbsp;select=&amp;quot;$table.frame.border.style&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;color&amp;quot;&nbsp;select=&amp;quot;$table.frame.border.color&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;thickness&amp;quot;&nbsp;select=&amp;quot;$table.frame.border.thickness&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:attribute&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;../@frame='topbot'&nbsp;or&nbsp;(not(../@frame)&nbsp;and&nbsp;$default.table.frame='topbot')&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:attribute&nbsp;name=&amp;quot;style&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:text&amp;gt;border-collapse:&nbsp;collapse;&amp;lt;/xsl:text&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;border&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;side&amp;quot;&nbsp;select=&amp;quot;'top'&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;style&amp;quot;&nbsp;select=&amp;quot;$table.frame.border.style&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;color&amp;quot;&nbsp;select=&amp;quot;$table.frame.border.color&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;thickness&amp;quot;&nbsp;select=&amp;quot;$table.frame.border.thickness&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;border&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;side&amp;quot;&nbsp;select=&amp;quot;'bottom'&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;style&amp;quot;&nbsp;select=&amp;quot;$table.frame.border.style&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;color&amp;quot;&nbsp;select=&amp;quot;$table.frame.border.color&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;thickness&amp;quot;&nbsp;select=&amp;quot;$table.frame.border.thickness&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:attribute&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;../@frame='top'&nbsp;or&nbsp;(not(../@frame)&nbsp;and&nbsp;$default.table.frame='top')&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:attribute&nbsp;name=&amp;quot;style&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:text&amp;gt;border-collapse:&nbsp;collapse;&amp;lt;/xsl:text&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;border&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;side&amp;quot;&nbsp;select=&amp;quot;'top'&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;style&amp;quot;&nbsp;select=&amp;quot;$table.frame.border.style&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;color&amp;quot;&nbsp;select=&amp;quot;$table.frame.border.color&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;thickness&amp;quot;&nbsp;select=&amp;quot;$table.frame.border.thickness&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:attribute&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;../@frame='bottom'&nbsp;or&nbsp;(not(../@frame)&nbsp;and&nbsp;$default.table.frame='bottom')&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:attribute&nbsp;name=&amp;quot;style&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:text&amp;gt;border-collapse:&nbsp;collapse;&amp;lt;/xsl:text&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;border&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;side&amp;quot;&nbsp;select=&amp;quot;'bottom'&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;style&amp;quot;&nbsp;select=&amp;quot;$table.frame.border.style&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;color&amp;quot;&nbsp;select=&amp;quot;$table.frame.border.color&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;thickness&amp;quot;&nbsp;select=&amp;quot;$table.frame.border.thickness&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:attribute&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;../@frame='sides'&nbsp;or&nbsp;(not(../@frame)&nbsp;and&nbsp;$default.table.frame='sides')&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:attribute&nbsp;name=&amp;quot;style&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:text&amp;gt;border-collapse:&nbsp;collapse;&amp;lt;/xsl:text&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;border&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;side&amp;quot;&nbsp;select=&amp;quot;'left'&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;style&amp;quot;&nbsp;select=&amp;quot;$table.frame.border.style&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;color&amp;quot;&nbsp;select=&amp;quot;$table.frame.border.color&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;thickness&amp;quot;&nbsp;select=&amp;quot;$table.frame.border.thickness&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;border&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;side&amp;quot;&nbsp;select=&amp;quot;'right'&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;style&amp;quot;&nbsp;select=&amp;quot;$table.frame.border.style&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;color&amp;quot;&nbsp;select=&amp;quot;$table.frame.border.color&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;thickness&amp;quot;&nbsp;select=&amp;quot;$table.frame.border.thickness&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:attribute&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;../@frame='none'&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:attribute&nbsp;name=&amp;quot;style&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:text&amp;gt;border:&nbsp;none;&amp;lt;/xsl:text&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:attribute&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:attribute&nbsp;name=&amp;quot;style&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:text&amp;gt;border-collapse:&nbsp;collapse;&amp;lt;/xsl:text&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:attribute&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;../@frame='none'&nbsp;or&nbsp;(not(../@frame)&nbsp;and&nbsp;$default.table.frame='none')&nbsp;or&nbsp;local-name(.)&nbsp;=&nbsp;'entrytbl'&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:attribute&nbsp;name=&amp;quot;border&amp;quot;&amp;gt;0&amp;lt;/xsl:attribute&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:attribute&nbsp;name=&amp;quot;border&amp;quot;&amp;gt;1&amp;lt;/xsl:attribute&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;colgroup&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;colgroup&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;generate.colgroup&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;cols&amp;quot;&nbsp;select=&amp;quot;@cols&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/colgroup&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;explicit.table.width&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;pi.dbhtml_table-width&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;node&amp;quot;&nbsp;select=&amp;quot;..&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;table.width&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$explicit.table.width&nbsp;!=&nbsp;''&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$explicit.table.width&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$default.table.width&nbsp;=&nbsp;''&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:text&amp;gt;100%&amp;lt;/xsl:text&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$default.table.width&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:if&nbsp;test=&amp;quot;$default.table.width&nbsp;!=&nbsp;''<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;or&nbsp;$explicit.table.width&nbsp;!=&nbsp;''&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:attribute&nbsp;name=&amp;quot;width&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;contains($table.width,&nbsp;'%')&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$table.width&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$use.extensions&nbsp;!=&nbsp;0<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;$tablecolumns.extension&nbsp;!=&nbsp;0&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;function-available('stbl:convertLength')&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;stbl:convertLength($table.width)&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;function-available('xtbl:convertLength')&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;xtbl:convertLength($table.width)&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:message&nbsp;terminate=&amp;quot;yes&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:text&amp;gt;No&nbsp;convertLength&nbsp;function&nbsp;available.&amp;lt;/xsl:text&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:message&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:value-of&nbsp;select=&amp;quot;$table.width&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:attribute&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:if&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$use.extensions&nbsp;!=&nbsp;0<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;$tablecolumns.extension&nbsp;!=&nbsp;0&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;function-available('stbl:adjustColumnWidths')&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:copy-of&nbsp;select=&amp;quot;stbl:adjustColumnWidths($colgroup)&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;function-available('xtbl:adjustColumnWidths')&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:copy-of&nbsp;select=&amp;quot;xtbl:adjustColumnWidths($colgroup)&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;function-available('ptbl:adjustColumnWidths')&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:copy-of&nbsp;select=&amp;quot;ptbl:adjustColumnWidths($colgroup)&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:message&nbsp;terminate=&amp;quot;yes&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:text&amp;gt;No&nbsp;adjustColumnWidths&nbsp;function&nbsp;available.&amp;lt;/xsl:text&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:message&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:copy-of&nbsp;select=&amp;quot;$colgroup&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:apply-templates&nbsp;select=&amp;quot;db:thead&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:apply-templates&nbsp;select=&amp;quot;db:tfoot&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:apply-templates&nbsp;select=&amp;quot;db:tbody&amp;quot;/&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:if&nbsp;test=&amp;quot;.//db:footnote|../db:title//db:footnote&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;tbody&nbsp;class=&amp;quot;footnotes&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;tr&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;td&nbsp;colspan=&amp;quot;{@cols}&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:apply-templates&nbsp;select=&amp;quot;.//db:footnote|../db:title//db:footnote&amp;quot;&nbsp;mode=&amp;quot;table.footnote.mode&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/td&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/tr&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/tbody&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:if&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/table&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:template&amp;gt;<br>
+<br>
+<br>
+&amp;lt;/xsl:stylesheet&amp;gt;<br>
+<br>
&lt;/ins&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;<br>
&lt;a&nbsp;id=&quot;forgerockdocdefaultbrandingtrunksrcmainresourcesdocbkxstylesheetsbootstraptocxsl&quot;&gt;&lt;/a&gt;<br>
&lt;div&nbsp;class=&quot;addfile&quot;&gt;&lt;h4&gt;Added:&nbsp;forgerock-doc-default-branding/trunk/src/main/resources/docbkx-stylesheets/bootstrap/toc.xsl&nbsp;(0&nbsp;=&gt;&nbsp;2843)&lt;/h4&gt;<br>
&lt;pre&nbsp;class=&quot;diff&quot;&gt;&lt;span&gt;<br>
&lt;span&nbsp;class=&quot;info&quot;&gt;---&nbsp;forgerock-doc-default-branding/trunk/src/main/resources/docbkx-stylesheets/bootstrap/toc.xsl&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(rev&nbsp;0)<br>
+++&nbsp;forgerock-doc-default-branding/trunk/src/main/resources/docbkx-stylesheets/bootstrap/toc.xsl&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp2015-01-19&nbsp;10:21:52&nbsp;UTC&nbsp;(rev&nbsp;2843)<br>
&lt;/span&gt;&lt;span&nbsp;class=&quot;lines&quot;&gt;@@&nbsp;-0,0&nbsp;+1,357&nbsp;@@<br>
&lt;/span&gt;&lt;ins&gt;+&amp;lt;?xml&nbsp;version='1.0'?&amp;gt;<br>
+&amp;lt;xsl:stylesheet&nbsp;xmlns:xsl=&amp;quot;http://www.w3.org/1999/XSL/Transform&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:ng=&amp;quot;http://docbook.org/docbook-ng&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:db=&amp;quot;http://docbook.org/ns/docbook&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:exsl=&amp;quot;http://exslt.org/common&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:exslt=&amp;quot;http://exslt.org/common&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exclude-result-prefixes=&amp;quot;db&nbsp;ng&nbsp;exsl&nbsp;exslt&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;version='1.0'&amp;gt;<br>
+<br>
+&nbsp;&amp;lt;!--&nbsp;********************************************************************<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$Id:&nbsp;toc.xsl&nbsp;9297&nbsp;2012-04-22&nbsp;03:56:16Z&nbsp;bobstayton&nbsp;$<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;********************************************************************<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;file&nbsp;is&nbsp;part&nbsp;of&nbsp;the&nbsp;XSL&nbsp;DocBook&nbsp;Stylesheet&nbsp;distribution.<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;See&nbsp;../README&nbsp;or&nbsp;http://docbook.sf.net/release/xsl/current/&nbsp;for<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;copyright&nbsp;and&nbsp;other&nbsp;information.<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;********************************************************************&nbsp;--&amp;gt;<br>
+<br>
+&nbsp;&amp;lt;!--&nbsp;====================================================================&nbsp;--&amp;gt;<br>
+<br>
+&amp;lt;!--&nbsp;&amp;lt;xsl:template&nbsp;match=&amp;quot;db:set/db:toc&nbsp;|&nbsp;db:book/db:toc&nbsp;|&nbsp;db:part/db:toc&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;toc.params&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;find.path.params&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;node&amp;quot;&nbsp;select=&amp;quot;parent::*&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;table&amp;quot;&nbsp;select=&amp;quot;normalize-space($generate.toc)&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&amp;amp;lt;!&amp;amp;ndash;&nbsp;Do&nbsp;not&nbsp;output&nbsp;the&nbsp;toc&nbsp;element&nbsp;if&nbsp;one&nbsp;is&nbsp;already&nbsp;generated<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;by&nbsp;the&nbsp;use&nbsp;of&nbsp;$generate.toc&nbsp;parameter,&nbsp;or&nbsp;if<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generating&nbsp;a&nbsp;source&nbsp;toc&nbsp;is&nbsp;turned&nbsp;off&nbsp;&amp;amp;ndash;&amp;amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;xsl:if&nbsp;test=&amp;quot;not(contains($toc.params,&nbsp;'toc'))&nbsp;and<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($process.source.toc&nbsp;!=&nbsp;0&nbsp;or&nbsp;$process.empty.source.toc&nbsp;!=&nbsp;0)&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;content&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;*&nbsp;and&nbsp;$process.source.toc&nbsp;!=&nbsp;0&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:apply-templates&nbsp;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;count(*)&nbsp;=&nbsp;0&nbsp;and&nbsp;$process.empty.source.toc&nbsp;!=&nbsp;0&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;amp;lt;!&amp;amp;ndash;&nbsp;trick&nbsp;to&nbsp;switch&nbsp;context&nbsp;node&nbsp;to&nbsp;parent&nbsp;element&nbsp;&amp;amp;ndash;&amp;amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:for-each&nbsp;select=&amp;quot;parent::*&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;self::set&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;set.toc&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;toc.title.p&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;select=&amp;quot;contains($toc.params,&nbsp;'title')&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;self::book&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;division.toc&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;toc.title.p&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;select=&amp;quot;contains($toc.params,&nbsp;'title')&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;self::part&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;division.toc&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;toc.title.p&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;select=&amp;quot;contains($toc.params,&nbsp;'title')&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:for-each&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;xsl:if&nbsp;test=&amp;quot;string-length(normalize-space($content))&nbsp;!=&nbsp;0&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:copy-of&nbsp;select=&amp;quot;$content&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:if&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:if&amp;gt;<br>
+&nbsp;&amp;lt;/xsl:template&amp;gt;<br>
+<br>
+&nbsp;&amp;lt;xsl:template&nbsp;match=&amp;quot;db:chapter/db:toc&nbsp;|&nbsp;db:appendix/db:toc&nbsp;|&nbsp;db:preface/db:toc&nbsp;|&nbsp;db:article/db:toc&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;toc.params&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;find.path.params&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;node&amp;quot;&nbsp;select=&amp;quot;parent::*&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;table&amp;quot;&nbsp;select=&amp;quot;normalize-space($generate.toc)&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&amp;amp;lt;!&amp;amp;ndash;&nbsp;Do&nbsp;not&nbsp;output&nbsp;the&nbsp;toc&nbsp;element&nbsp;if&nbsp;one&nbsp;is&nbsp;already&nbsp;generated<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;by&nbsp;the&nbsp;use&nbsp;of&nbsp;$generate.toc&nbsp;parameter,&nbsp;or&nbsp;if<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generating&nbsp;a&nbsp;source&nbsp;toc&nbsp;is&nbsp;turned&nbsp;off&nbsp;&amp;amp;ndash;&amp;amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;xsl:if&nbsp;test=&amp;quot;not(contains($toc.params,&nbsp;'toc'))&nbsp;and<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($process.source.toc&nbsp;!=&nbsp;0&nbsp;or&nbsp;$process.empty.source.toc&nbsp;!=&nbsp;0)&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;*&nbsp;and&nbsp;$process.source.toc&nbsp;!=&nbsp;0&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;div&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:apply-templates&nbsp;select=&amp;quot;.&amp;quot;&nbsp;mode=&amp;quot;common.html.attributes&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;id.attribute&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:apply-templates&nbsp;select=&amp;quot;title&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;dl&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:apply-templates&nbsp;select=&amp;quot;.&amp;quot;&nbsp;mode=&amp;quot;common.html.attributes&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:apply-templates&nbsp;select=&amp;quot;*[not(self::title)]&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/dl&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/div&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;component.toc.separator&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;count(*)&nbsp;=&nbsp;0&nbsp;and&nbsp;$process.empty.source.toc&nbsp;!=&nbsp;0&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;amp;lt;!&amp;amp;ndash;&nbsp;trick&nbsp;to&nbsp;switch&nbsp;context&nbsp;node&nbsp;to&nbsp;section&nbsp;element&nbsp;&amp;amp;ndash;&amp;amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:for-each&nbsp;select=&amp;quot;parent::*&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;component.toc&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;toc.title.p&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;select=&amp;quot;contains($toc.params,&nbsp;'title')&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:for-each&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;component.toc.separator&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:if&amp;gt;<br>
+&nbsp;&amp;lt;/xsl:template&amp;gt;--&amp;gt;<br>
+<br>
+&amp;lt;!--&nbsp;&amp;lt;xsl:template&nbsp;match=&amp;quot;db:section/db:toc<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|db:sect1/db:toc<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|db:sect2/db:toc<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|db:sect3/db:toc<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|db:sect4/db:toc<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|db:sect5/db:toc&amp;quot;&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;toc.params&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;find.path.params&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;node&amp;quot;&nbsp;select=&amp;quot;parent::*&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;table&amp;quot;&nbsp;select=&amp;quot;normalize-space($generate.toc)&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&amp;amp;lt;!&amp;amp;ndash;&nbsp;Do&nbsp;not&nbsp;output&nbsp;the&nbsp;toc&nbsp;element&nbsp;if&nbsp;one&nbsp;is&nbsp;already&nbsp;generated<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;by&nbsp;the&nbsp;use&nbsp;of&nbsp;$generate.toc&nbsp;parameter,&nbsp;or&nbsp;if<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generating&nbsp;a&nbsp;source&nbsp;toc&nbsp;is&nbsp;turned&nbsp;off&nbsp;&amp;amp;ndash;&amp;amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;xsl:if&nbsp;test=&amp;quot;not(contains($toc.params,&nbsp;'toc'))&nbsp;and<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($process.source.toc&nbsp;!=&nbsp;0&nbsp;or&nbsp;$process.empty.source.toc&nbsp;!=&nbsp;0)&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;*&nbsp;and&nbsp;$process.source.toc&nbsp;!=&nbsp;0&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;div&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:apply-templates&nbsp;select=&amp;quot;.&amp;quot;&nbsp;mode=&amp;quot;common.html.attributes&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;id.attribute&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:apply-templates&nbsp;select=&amp;quot;db:title&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;dl&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:apply-templates&nbsp;select=&amp;quot;.&amp;quot;&nbsp;mode=&amp;quot;common.html.attributes&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:apply-templates&nbsp;select=&amp;quot;*[not(self::title)]&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/dl&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/div&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;section.toc.separator&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;count(*)&nbsp;=&nbsp;0&nbsp;and&nbsp;$process.empty.source.toc&nbsp;!=&nbsp;0&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;amp;lt;!&amp;amp;ndash;&nbsp;trick&nbsp;to&nbsp;switch&nbsp;context&nbsp;node&nbsp;to&nbsp;section&nbsp;element&nbsp;&amp;amp;ndash;&amp;amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:for-each&nbsp;select=&amp;quot;parent::*&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;section.toc&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;toc.title.p&amp;quot;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;select=&amp;quot;contains($toc.params,&nbsp;'title')&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:for-each&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;section.toc.separator&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:if&amp;gt;<br>
+&nbsp;&amp;lt;/xsl:template&amp;gt;--&amp;gt;<br>
+<br>
+&nbsp;&amp;lt;!--&nbsp;====================================================================&nbsp;--&amp;gt;<br>
+<br>
+&nbsp;&amp;lt;xsl:template&nbsp;match=&amp;quot;db:tocpart|db:tocchap<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|db:toclevel1|db:toclevel2|db:toclevel3|db:toclevel4|db:toclevel5&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;sub-toc&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;xsl:if&nbsp;test=&amp;quot;db:tocchap|db:toclevel1|db:toclevel2|db:toclevel3|db:toclevel4|db:toclevel5&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$toc.list.type&nbsp;=&nbsp;'dl'&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;dd&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:apply-templates&nbsp;select=&amp;quot;.&amp;quot;&nbsp;mode=&amp;quot;common.html.attributes&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:element&nbsp;name=&amp;quot;{$toc.list.type}&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:apply-templates&nbsp;select=&amp;quot;.&amp;quot;&nbsp;mode=&amp;quot;common.html.attributes&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:apply-templates&nbsp;select=&amp;quot;db:tocchap|db:toclevel1|db:toclevel2|<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;db:toclevel3|db:toclevel4|db:toclevel5&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:element&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/dd&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;ul&nbsp;class=&amp;quot;nav&nbsp;nav-stacked&amp;quot;&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:apply-templates&nbsp;select=&amp;quot;db:tocchap|db:toclevel1|db:toclevel2|<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;db:toclevel3|db:toclevel4|db:toclevel5&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/ul&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:if&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&amp;lt;xsl:apply-templates&nbsp;select=&amp;quot;db:tocentry[position()&nbsp;!=&nbsp;last()]&amp;quot;/&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$toc.list.type&nbsp;=&nbsp;'dl'&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;dt&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:apply-templates&nbsp;select=&amp;quot;.&amp;quot;&nbsp;mode=&amp;quot;common.html.attributes&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:apply-templates&nbsp;select=&amp;quot;db:tocentry[position()&nbsp;=&nbsp;last()]&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/dt&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:copy-of&nbsp;select=&amp;quot;$sub-toc&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;li&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:apply-templates&nbsp;select=&amp;quot;.&amp;quot;&nbsp;mode=&amp;quot;common.html.attributes&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:apply-templates&nbsp;select=&amp;quot;db:tocentry[position()&nbsp;=&nbsp;last()]&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:copy-of&nbsp;select=&amp;quot;$sub-toc&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/li&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&amp;lt;/xsl:template&amp;gt;<br>
+<br>
+&amp;lt;!--&nbsp;&amp;lt;xsl:template&nbsp;match=&amp;quot;db:tocentry|db:tocdiv|db:lotentry|db:tocfront|db:tocback&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;$toc.list.type&nbsp;=&nbsp;'dl'&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;dt&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:apply-templates&nbsp;select=&amp;quot;.&amp;quot;&nbsp;mode=&amp;quot;common.html.attributes&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;tocentry-content&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/dt&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;li&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:apply-templates&nbsp;select=&amp;quot;.&amp;quot;&nbsp;mode=&amp;quot;common.html.attributes&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;tocentry-content&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/li&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&amp;lt;/xsl:template&amp;gt;<br>
+<br>
+&nbsp;&amp;lt;xsl:template&nbsp;match=&amp;quot;db:tocentry[position()&nbsp;=&nbsp;last()]&amp;quot;&nbsp;priority=&amp;quot;2&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;tocentry-content&amp;quot;/&amp;gt;<br>
+&nbsp;&amp;lt;/xsl:template&amp;gt;<br>
+<br>
+&nbsp;&amp;lt;xsl:template&nbsp;name=&amp;quot;tocentry-content&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;targets&amp;quot;&nbsp;select=&amp;quot;key('id',@linkend)&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;target&amp;quot;&nbsp;select=&amp;quot;$targets[1]&amp;quot;/&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;@linkend&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;check.id.unique&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;linkend&amp;quot;&nbsp;select=&amp;quot;@linkend&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;a&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:attribute&nbsp;name=&amp;quot;href&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;href.target&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:with-param&nbsp;name=&amp;quot;object&amp;quot;&nbsp;select=&amp;quot;$target&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:call-template&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:attribute&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:apply-templates/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/a&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:apply-templates/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:otherwise&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&amp;lt;/xsl:template&amp;gt;<br>
+<br>
+&nbsp;&amp;lt;xsl:template&nbsp;match=&amp;quot;db:toc/db:title&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;div&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;xsl:apply-templates&nbsp;select=&amp;quot;.&amp;quot;&nbsp;mode=&amp;quot;common.html.attributes&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;xsl:apply-templates/&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/div&amp;gt;<br>
+&nbsp;&amp;lt;/xsl:template&amp;gt;<br>
+<br>
+&nbsp;&amp;lt;xsl:template&nbsp;match=&amp;quot;db:toc/db:subtitle&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;div&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;xsl:apply-templates&nbsp;select=&amp;quot;.&amp;quot;&nbsp;mode=&amp;quot;common.html.attributes&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;xsl:apply-templates/&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/div&amp;gt;<br>
+&nbsp;&amp;lt;/xsl:template&amp;gt;<br>
+<br>
+&nbsp;&amp;lt;xsl:template&nbsp;match=&amp;quot;db:toc/db:titleabbrev&amp;quot;&amp;gt;<br>
+&nbsp;&amp;lt;/xsl:template&amp;gt;<br>
+<br>
+&nbsp;&amp;amp;lt;!&amp;amp;ndash;&nbsp;====================================================================&nbsp;&amp;amp;ndash;&amp;amp;gt;<br>
+<br>
+&nbsp;&amp;amp;lt;!&amp;amp;ndash;&nbsp;A&nbsp;lot&nbsp;element&nbsp;must&nbsp;have&nbsp;content,&nbsp;because&nbsp;there&nbsp;is&nbsp;no&nbsp;attribute<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;select&nbsp;what&nbsp;kind&nbsp;of&nbsp;list&nbsp;should&nbsp;be&nbsp;generated&nbsp;&amp;amp;ndash;&amp;amp;gt;<br>
+&nbsp;&amp;lt;xsl:template&nbsp;match=&amp;quot;db:book/db:lot&nbsp;|&nbsp;db:part/db:lot&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&amp;amp;lt;!&amp;amp;ndash;&nbsp;Don't&nbsp;generate&nbsp;a&nbsp;page&nbsp;sequence&nbsp;unless&nbsp;there&nbsp;is&nbsp;content&nbsp;&amp;amp;ndash;&amp;amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;xsl:variable&nbsp;name=&amp;quot;content&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;*&nbsp;and&nbsp;$process.source.toc&nbsp;!=&nbsp;0&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;div&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:apply-templates&nbsp;select=&amp;quot;.&amp;quot;&nbsp;mode=&amp;quot;common.html.attributes&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:apply-templates&nbsp;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/div&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;not(child::*)&nbsp;and&nbsp;$process.empty.source.toc&nbsp;!=&nbsp;0&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;process.empty.lot&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:variable&amp;gt;<br>
+<br>
+&nbsp;&nbsp;&amp;lt;xsl:if&nbsp;test=&amp;quot;string-length(normalize-space($content))&nbsp;!=&nbsp;0&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;xsl:copy-of&nbsp;select=&amp;quot;$content&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:if&amp;gt;<br>
+&nbsp;&amp;lt;/xsl:template&amp;gt;<br>
+<br>
+&nbsp;&amp;lt;xsl:template&nbsp;match=&amp;quot;db:chapter/db:lot&nbsp;|&nbsp;db:appendix/db:lot&nbsp;|&nbsp;db:preface/db:lot&nbsp;|&nbsp;db:article/db:lot&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;*&nbsp;and&nbsp;$process.source.toc&nbsp;!=&nbsp;0&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;div&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:apply-templates&nbsp;select=&amp;quot;.&amp;quot;&nbsp;mode=&amp;quot;common.html.attributes&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:apply-templates&nbsp;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/div&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;component.toc.separator&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;not(child::*)&nbsp;and&nbsp;$process.empty.source.toc&nbsp;!=&nbsp;0&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;process.empty.lot&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&amp;lt;/xsl:template&amp;gt;<br>
+<br>
+&nbsp;&amp;lt;xsl:template&nbsp;match=&amp;quot;db:section/db:lot<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|db:sect1/db:lot<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|db:sect2/db:lot<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|db:sect3/db:lot<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|db:sect4/db:lot<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|db:sect5/db:lot&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;xsl:choose&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;*&nbsp;and&nbsp;$process.source.toc&nbsp;!=&nbsp;0&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;div&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:apply-templates&nbsp;select=&amp;quot;.&amp;quot;&nbsp;mode=&amp;quot;common.html.attributes&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:apply-templates/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;/div&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;section.toc.separator&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;xsl:when&nbsp;test=&amp;quot;not(child::*)&nbsp;and&nbsp;$process.empty.source.toc&nbsp;!=&nbsp;0&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&amp;lt;xsl:call-template&nbsp;name=&amp;quot;process.empty.lot&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;/xsl:when&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:choose&amp;gt;<br>
+&nbsp;&amp;lt;/xsl:template&amp;gt;<br>
+<br>
+&nbsp;&amp;lt;xsl:template&nbsp;name=&amp;quot;process.empty.lot&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&amp;amp;lt;!&amp;amp;ndash;&nbsp;An&nbsp;empty&nbsp;lot&nbsp;element&nbsp;does&nbsp;not&nbsp;provide&nbsp;any&nbsp;information&nbsp;to&nbsp;indicate<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;what&nbsp;should&nbsp;be&nbsp;included&nbsp;in&nbsp;it.&nbsp;&nbsp;You&nbsp;can&nbsp;customize&nbsp;this<br>
+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;template&nbsp;to&nbsp;generate&nbsp;a&nbsp;lot&nbsp;based&nbsp;on&nbsp;@role&nbsp;or&nbsp;something&nbsp;&amp;amp;ndash;&amp;amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;xsl:message&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;xsl:text&amp;gt;Warning:&nbsp;don't&nbsp;know&nbsp;what&nbsp;to&nbsp;generate&nbsp;for&nbsp;&amp;lt;/xsl:text&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;xsl:text&amp;gt;lot&nbsp;that&nbsp;has&nbsp;no&nbsp;children.&amp;lt;/xsl:text&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/xsl:message&amp;gt;<br>
+&nbsp;&amp;lt;/xsl:template&amp;gt;<br>
+<br>
+&nbsp;&amp;lt;xsl:template&nbsp;match=&amp;quot;db:lot/db:title&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;div&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;xsl:apply-templates&nbsp;select=&amp;quot;.&amp;quot;&nbsp;mode=&amp;quot;common.html.attributes&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;xsl:apply-templates/&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/div&amp;gt;<br>
+&nbsp;&amp;lt;/xsl:template&amp;gt;<br>
+<br>
+&nbsp;&amp;lt;xsl:template&nbsp;match=&amp;quot;db:lot/db:subtitle&amp;quot;&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;div&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;xsl:apply-templates&nbsp;select=&amp;quot;.&amp;quot;&nbsp;mode=&amp;quot;common.html.attributes&amp;quot;/&amp;gt;<br>
+&nbsp;&nbsp;&nbsp;&amp;lt;xsl:apply-templates/&amp;gt;<br>
+&nbsp;&nbsp;&amp;lt;/div&amp;gt;<br>
+&nbsp;&amp;lt;/xsl:template&amp;gt;<br>
+<br>
+&nbsp;&amp;lt;xsl:template&nbsp;match=&amp;quot;db:lot/db:titleabbrev&amp;quot;&amp;gt;<br>
+&nbsp;&amp;lt;/xsl:template&amp;gt;--&amp;gt;<br>
+<br>
+&amp;lt;/xsl:stylesheet&amp;gt;<br>
&lt;/ins&gt;&lt;/span&gt;&lt;/pre&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;div&nbsp;id=&quot;footer&quot;&gt;Copyright&nbsp;(c)&nbsp;by&nbsp;ForgeRock.&nbsp;All&nbsp;rights&nbsp;reserved.&lt;/div&gt;<br>
<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
